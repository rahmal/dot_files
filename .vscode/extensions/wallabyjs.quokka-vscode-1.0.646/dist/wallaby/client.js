/*
 * wallaby-core - v1.0.1571
 * https://wallabyjs.com
 * Copyright (c) 2014-2024 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of wallaby-core and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function i(s,o,a){var l="function"==typeof require&&require;module.exports=function n(r,e){if(!o[r]){if(!s[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);throw(e=new Error("Cannot find module '"+r+"'")).code="MODULE_NOT_FOUND",e}t=o[r]={exports:{}},s[r][0].call(t.exports,function(e){var t=s[r][1][e];return n(t||e)},t,t.exports,i,s,o,a)}return o[r].exports}(a[0])}({1:[function(e,t,n){global.wallabyCoreClient=!0,e("./lib/global"),delete global.wallabyCoreClient,t.exports=e("./lib/clientSession")},{"./lib/clientSession":2,"./lib/global":7,path:void 0,"ts-node":void 0}],2:[function(n,e,t){const C=n("lodash");C.extend(C,n("./utils").default),C.str=n("underscore.string"),C.mixin(C.str.exports());function r(){this._disposed=!1,this._callbacks=Object.create(null)}var E=n("child_process"),M=n("path"),T=n("fs"),s=n("ws"),i=n("./extension/shared/utils").default,o=0,a=/^win/.test(process.platform);r.prototype=C.extend(Object.create(EventEmitter.prototype),{start:function(u){var h=this,e=(this._openedFiles=Object.create(null),this._disposed=!1,this._forceKillProcessTimeout=u.forceKillProcessTimeout||1e4,this._originalNodePath=(process.env.WALLABY_NODE||"node").replace(/^~(?=$|\/|\\)/,process.env.HOME),this._nodePath=this._originalNodePath,this._useWsl="true"===process.env.WALLABY_USE_WSL&&a,process.env.PATH||process.env.Path),f=C.extend({},process.env,{PATH:(e?e+M.delimiter:"")+(a?"":"/usr/local/bin"+M.delimiter+"/usr/bin")},u.env||{}),d=(delete f.NODE_ENV,delete f.NODE_PATH,M.join(__dirname,"","server.js")),p=u.projectPath,g=u.configPath,m=u.testsPath,_=u.smartStart,b=u.lkp,v=u.fileName||"",y=u.editorTypeScript,x=n("os").homedir(),w=(x.endsWith(M.sep)||(x+=M.sep),u.ol&&!0===u.ol||!1);const t=c=>{i.withFreePort(function(t){if(!h._disposed){var n,e,r=h._nodePath,i=[],s=e=>{for(var t,n=/(?:[^\s"]+|"[^"]*")+/g,r=[];null!==(t=n.exec(e));)r.push(t[0].replace(/(^"|"$)/g,""));return r},r=h._useWsl?(n=process.env.systemRoot+"\\system32\\wsl",d=(e=function(e){if(!e)return e;e=e.replace(/\\/g,"/");e=E.execSync(n+' wslpath -a "'+e+'"');return C.rtrim(e.toString(),"\n")})(d),p=e(p),g=e(g),void 0!==m&&(m=e(m)),b=e(b),y=e(y),x=e(x),i=s(process.env.WALLABY_NODE||"node"),n):(i=s(r)).shift();if(g)try{var o=T.realpathSync(M.dirname(g)),a=M.basename(g);g=M.join(o,a)}catch(e){}i=i.concat(["--harmony",d,"extended-core-ws","--projectCachePath="+p,"--configPath="+g,"--lkp="+b,"--client="+u.client,"--editorTypeScript="+y,"--port="+t,"--quokka="+v,"--homeDir="+x,"--cv="+u.cv,"--ol="+w,"--te="+u.te,"--fid="+u.fileId]),u.snapsOnlyMode&&i.push("--snapsOnlyMode=1"),u.snapsAutoRun&&i.push("--snapsAutoRun=1"),void 0!==m&&i.push("--testsPath="+m),_&&i.push("--smartStart="+_),u.waitForInitialRunSignal&&i.push("--waitForInitialRunSignal");var l=h._normalizeDriveLetter(u.configPath&&!u.fileName?M.dirname(u.configPath):u.localRoot||u.quokkaFolder);try{l=l&&T.realpathSync(l)}catch(e){}T.existsSync(l)?(h._process=E.spawn(r,i,{env:f,cwd:l}),h._process.on("error",function(e){e&&e.message&&~e.message.indexOf("spawn "+h._nodePath+" ENOENT")?c&&v?c():(console.error(`Cannot start ${v?"Quokka.js":"Wallaby.js"} node.js process`,JSON.stringify({nodePath:r,args:i,envObj:f,cwd:l})),h.emit("notification",{type:"error",text:e.message}),h.emit("notification",{type:"error",text:"Can not start node.js process ("+h._originalNodePath+'), make sure your system has <a href="https://wallabyjs.com/docs/intro/install.html#node-js">node.js installed</a>.'}),h.emit("stopped",{})):(console.error(`${v?"Quokka.js":"Wallaby.js"} node.js process error`,JSON.stringify({nodePath:r,args:i,envObj:f,cwd:l})),h.emit("consoleError",e.stack||e.message))}),h._bufferStream(h._process.stderr,function(e){h.emit("consoleError",e)}),h._bufferStream(h._process.stdout,function(e){e&&(~e.indexOf("wallaby.js started")||~e.indexOf("quokka.js started"))?h._connectToServer(t,void 0,!!v,u.client):h.emit("consoleLog",e)})):(h.emit("notification",{type:"error",text:'Can not start Wallaby as the directory "'+l+'" does not exist.'}),h.emit("stopped",{}))}})};t(()=>{console.warn("Quokka cannot start node.js process ("+h._nodePath+"), trying editor node version instead. You may also explicitly configure which node.js version to use (https://quokkajs.com/docs/configuration.html#nodejs-version)."),h._nodePath=`"${process.execPath}"`,f.ELECTRON_RUN_AS_NODE=1,f.WALLABY_ELECTRON_RUN_AS_NODE=1,t()})},stop:async function(){var e,t,n;let s=this;if(this._process){let i=this._process.pid;try{this._send({type:"stop"}),null!=(e=this._ws)&&e.close(),null!=(t=this._ws)&&t.removeAllListeners("close"),null!=(n=this._ws)&&n.removeAllListeners("error")}finally{try{this._process.disconnect()}catch(e){}this._disposed=!0,this._callbacks=Object.create(null),this._openedFiles=Object.create(null),await new Promise(e=>{let t=1,n;const r=()=>{if(s._isProcessRunning(i))if(50*t>=s._forceKillProcessTimeout){try{process.kill(i)}catch(e){}e()}else t++,n&&clearTimeout(n),n=setTimeout(r,50);else e()};n=setTimeout(r,50)})}}},_normalizeDriveLetter:function(e){return"win32"===process.platform&&e&&":"===e[1]?e.charAt(0).toUpperCase()+e.slice(1):e},_isProcessRunning:function(e){try{return process.kill(e,0)}catch(e){return"EPERM"===e.code}},_connectToServer:function(e,t,n,r){var i=this;i._ws=new s("ws://"+(t=t||"localhost")+":"+e),i._ws.on("message",function(e){var e=JSON.parse(e),t=i["_"+e.type];t&&t.call(i,e)}),i._ws.on("close",function(e,t){console.log(`Disconnected from ${n?"Quokka runtime":"Wallaby core"}: `+e+(t?", ":"")+(t||"")),1006===e&&"VSCode"===r&&(console.log("Please try disabling any firewall or antivirus software that may be blocking the connection."),n?console.log("If disabling firewall and antivirus does not fix the problem, try explicitly specifying your node version (https://quokkajs.com/docs/configuration.html#nodejs-version)."):console.log("If disabling firewall and antivirus does not fix the problem, try explicitly specifying your node version with the 'wallaby.node' VS Code setting."))}),i._ws.on("error",function(){i._connectToServer(e,"127.0.0.1",n,r)})},isDisposed:function(){return this._disposed},fileChangedInEditor:function(e,t,n,r,i,s){this._send({type:"fileChangedInEditor",path:e,fileId:i,content:t,changeFrame:n,transientChange:r,logpoints:s})},fileOpenedInEditor:function(e){this._openedFiles[e]=(this._openedFiles[e]||0)+1,this._send({type:"fileOpenedInEditor",path:e})},fileClosedInEditor:function(e){var t=(this._openedFiles[e]||0)-1;(this._openedFiles[e]=t)<0&&console.log("Negative opened editor count for "+e),0==t&&(delete this._openedFiles[e],this._send({type:"fileClosedInAllEditors",path:e}))},expressionsToEvaluate:function(e){this._send({type:"expressionsToEvaluate",request:{expressionsToEvaluate:e}})},traceContext:function(e){this._send({type:"traceContext",request:e})},copyToClipboard:function(e){this._send({type:"copyToClipboard",request:{data:e}})},requestTestRunSummary:function(){this._send({type:"requestTestRunSummary",request:{}})},evaluateExpressionInEditor:function(e,t,n,r){this._send({type:"evaluateExpressionInEditor",path:e,content:t,range:n,action:r})},copyDiagnosticsReportToClipboard:function(e){this._send({type:"copyDiagnosticsReportToClipboard",data:e})},editorDataEvent:function(e){this._send({type:"featureUsed",name:e.event})},featureUsed:function(e){this._send({type:"featureUsed",name:e})},muteNotification:function(e){this._send({type:"muteNotification",request:e})},setPreferences:function(e){this._send({type:"setPreferences",preferences:e})},shareCodeClip:function(e,t){this._send({type:"shareCodeClip",editorId:e,backgroundTaskId:t})},runTests:function(e){this._send({type:"runTests",request:e})},toggleTestFilter:function(e){this._send({type:"toggleTestFilter",request:e})},setTestLocations(e){this._send({type:"setTestLocations",paths:e})},addTestLocations(e){this._send({type:"addTestLocations",paths:e})},removeTestLocations(e){this._send({type:"removeTestLocations",paths:e})},removeLogs(e){this._send({type:"removeLogs",data:e})},setLogpoints:function(e){this._send({type:"setLogpoints",data:e})},signalInitialRun:function(){this._send({type:"signalInitialRun"})},getFileMessages:function(e){this._send({type:"getFileMessages",request:e})},continueTrial:function(){this._send({type:"continueTrial"})},setRunMode:function(e){this._send({type:"runMode",request:{mode:e}})},pause:function(){this._send({type:"pause"})},resume:function(){this._send({type:"resume"})},toggleShowSingleInlineValue:function(){this._send({type:"toggleShowSingleInlineValue",request:{}})},toggleAutoLog:function(){this._send({type:"toggleAutoLog",request:{}})},trackErrors:function(e,t){this._requestWithCorrelationId("trackErrors",e,t)},untrackErrors:function(e){this._send({type:"untrackErrors",request:e})},addInspections:function(e){this._send({type:"addInspections",request:e})},removeInspections:function(e){this._send({type:"removeInspections",request:e})},allowToRunSnaps:function(e){this._send({type:"allowToRunSnaps",request:e})},requestUncoveredRegions:function(e,t){this._requestWithCorrelationId("uncoveredRegions",e,t)},requestLineReport:function(e,t){this._requestWithCorrelationId("lineReport",e,t)},requestLocation:function(e,t){this._requestWithCorrelationId("location",e,t)},requestSnapshot:function(e,t){this._requestWithCorrelationId("snapshot",e,t)},requestInstrumentedFile:function(e,t){this._requestWithCorrelationId("instrumentedFile",e,t)},requestError:function(e,t){this._requestWithCorrelationId("error",e,t)},requestTrace:function(e,t){this._requestWithCorrelationId("trace",e,t)},requestTestTimeline:function(e,t){this._requestWithCorrelationId("testTimeline",e,t)},requestTests:function(e,t){this._requestWithCorrelationId("tests",e,t)},reportEditorContext:function(e){this._send(Object.assign({type:"reportEditorContext"},e))},_requestWithCorrelationId:function(e,t,n){var r=this,i=++o,n=this._callbacks[i]={done:n};this._send({type:e,request:t,id:i}),n.timeout=setTimeout(function(){delete r._callbacks[i]},5e3)},_responseWithCorrelationId:function(e){var t=this._callbacks[e.id];delete this._callbacks[e.id],t&&(clearTimeout(t.timeout),t.done(e.data))},_bufferStream:function(e,t){var n=this,r="";e.setEncoding("utf8"),e.on("data",function(e){n._disposed||~(e=(r+=e).lastIndexOf("\n"))&&(t(r.substring(0,e+1)),r=r.substring(e+1))}),e.on("close",function(){n._disposed||r.length&&t(r)})},_send:function(e){this._ws&&this._ws.send(JSON.stringify(e))},_started:function(e){this.emit("started",e)},_uiStarted:function(e){this.emit("uiStarted",e)},_stopped:function(e){this.emit("stopped",e)},_configChanged:function(e){this.emit("configChanged",e)},_expiredLicense:function(e){this.emit("expiredLicense",e)},_documentUpdates:function(e){e.updates=e.updates||{},e.updates.hasRunError=e.hasRunError,e.updates.hasGlobalError=e.hasGlobalError,this.emit("documentUpdates",e.updates)},_navigationRequested:function(e){this.emit("navigationRequested",e)},_closeAllEditors:function(e){this.emit("closeAllEditors",e)},_stats:function(e){this.emit("stats",e.data)},_filesToTrack:function(e){this.emit("filesToTrack",e.files)},_fileMessages:function(e){this.emit("fileMessages",e)},_awaitingInitialRunSignal:function(e){this.emit("awaitingInitialRunSignal",e)},_live:function(e){this.emit("live",e)},_projectConfigured:function(e){this.emit("projectConfigured",e)},_notification:function(e){this.emit("notification",e.notification)},_consoleOutput:function(e){this.emit("consoleOutput",e.messages)},_busy:function(){this.emit("busy")},_copyToClipboard:function(e){this.emit("copyToClipboard",e)},_blurred:function(e){this.emit("blurred",e)},_traceNavigationReset:function(){this.emit("traceNavigationReset")},_traceNavigated:function(e){this.emit("traceNavigated",e)},_testRunSummary:function(e){this.emit("testRunSummary",e)},_fileChanges:function(e){this.emit("fileChanges",e)},_traceTestSelectionRequested:function(e){this.emit("traceTestSelectionRequested",e)},_testFilterTestSelectionRequested:function(e){this.emit("testFilterTestSelectionRequested",e)},_wallabyAppUrl:function(e){this.emit("wallabyAppUrl",e)},_profileAvailable:function(e){this.emit("profileAvailable",e)},_trackErrors:function(e){this._responseWithCorrelationId(e)},_location:function(e){this._responseWithCorrelationId(e)},_snapshot:function(e){this._responseWithCorrelationId(e)},_error:function(e){this._responseWithCorrelationId(e)},_uncoveredRegions:function(e){this._responseWithCorrelationId(e)},_tests:function(e){this._responseWithCorrelationId(e)},_lineReport:function(e){this._responseWithCorrelationId(e)},_instrumentedFile:function(e){this._responseWithCorrelationId(e)},_testFilterToggled:function(e){this.emit("testFilterToggled",e)},_trace:function(e){this._responseWithCorrelationId(e)},_testTimeline:function(e){this._responseWithCorrelationId(e)},_testTimelineReset:function(){this.emit("testTimelineReset")},_activeTestFileCoverageChanged:function(e){this.emit("activeTestFileCoverageChanged",e)},_inspections:function(e){this.emit("inspections",e)},_backgroundTaskProgress:function(e){this.emit("backgroundTaskProgress",e)},_paused:function(e){this.emit("paused",e)},_unpaused:function(e){this.emit("unpaused",e)},_resuming:function(e){this.emit("resuming",e)},_editorAction:function(e){this.emit("editorAction",e)}}),e.exports={Session:r,enums:n("./extension/shared/enums").default,utils:i,reportBuilder:n("./extension/client/reportBuilder"),dmp:new(n("./diffMatchPatch")),bd:new Date(1717727332079)}},{"./diffMatchPatch":3,"./extension/client/reportBuilder":4,"./extension/shared/enums":5,"./extension/shared/utils":6,"./utils":9,child_process:void 0,fs:void 0,lodash:void 0,os:void 0,path:void 0,"underscore.string":void 0,ws:void 0}],3:[function(e,t,n){function g(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}g.prototype.diff_main=function(e,t,n,r){var i,s,o,r=r=void 0===r?this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout:r;if(null==e||null==t)throw new Error("Null input. (diff_main)");return e==t?e?[[0,e]]:[]:(n=n=void 0===n||n,o=this.diff_commonPrefix(e,t),i=e.substring(0,o),e=e.substring(o),t=t.substring(o),o=this.diff_commonSuffix(e,t),s=e.substring(e.length-o),e=e.substring(0,e.length-o),t=t.substring(0,t.length-o),o=this.diff_compute_(e,t,n,r),i&&o.unshift([0,i]),s&&o.push([0,s]),this.diff_cleanupMerge(o),o)},g.prototype.diff_compute_=function(e,t,n,r){var i,s,o,a,l;return e?t?(a=e.length>t.length?e:t,i=e.length>t.length?t:e,-1!=(o=a.indexOf(i))?(a=[[1,a.substring(0,o)],[0,i],[1,a.substring(o+i.length)]],e.length>t.length&&(a[0][0]=a[2][0]=-1),a):1==i.length?[[-1,e],[1,t]]:(o=this.diff_halfMatch_(e,t))?(a=o[0],i=o[1],l=o[2],s=o[3],o=o[4],a=this.diff_main(a,l,n,r),l=this.diff_main(i,s,n,r),a.concat([[0,o]],l)):n&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)):[[-1,e]]:[[1,t]]},g.prototype.diff_lineMode_=function(e,t,n){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;for(var r=u.lineArray,i=this.diff_main(e,t,!1,n),s=(this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([0,""]),0),o=0,a=0,l="",c="";s<i.length;){switch(i[s][0]){case 1:a++,c+=i[s][1];break;case-1:o++,l+=i[s][1];break;case 0:if(1<=o&&1<=a){i.splice(s-o-a,o+a);for(var u,s=s-o-a,h=(u=this.diff_main(l,c,!1,n)).length-1;0<=h;h--)i.splice(s,0,u[h]);s+=u.length}o=a=0,c=l=""}s++}return i.pop(),i},g.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,i=t.length,s=Math.ceil((r+i)/2),o=s,a=2*s,l=new Array(a),c=new Array(a),u=0;u<a;u++)l[u]=-1,c[u]=-1;l[o+1]=0;for(var h=r-i,f=h%2!=(c[o+1]=0),d=0,p=0,g=0,m=0,_=0;_<s&&!((new Date).getTime()>n);_++){for(var b=-_+d;b<=_-p;b+=2){for(var v=o+b,y=(M=b==-_||b!=_&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-b;M<r&&y<i&&e.charAt(M)==t.charAt(y);)M++,y++;if(r<(l[v]=M))p+=2;else if(i<y)d+=2;else if(f){var x=o+h-b;if(0<=x&&x<a&&-1!=c[x])if((C=r-c[x])<=M)return this.diff_bisectSplit_(e,t,M,y,n)}}for(var w=-_+g;w<=_-m;w+=2){for(var C,x=o+w,E=(C=w==-_||w!=_&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-w;C<r&&E<i&&e.charAt(r-C-1)==t.charAt(i-E-1);)C++,E++;if(r<(c[x]=C))m+=2;else if(i<E)g+=2;else if(!f)if(0<=(v=o+h-w)&&v<a&&-1!=l[v]){var M,y=o+(M=l[v])-v;if((C=r-C)<=M)return this.diff_bisectSplit_(e,t,M,y,n)}}}return[[-1,e],[1,t]]},g.prototype.diff_bisectSplit_=function(e,t,n,r,i){var s=e.substring(0,n),o=t.substring(0,r),e=e.substring(n),n=t.substring(r),t=this.diff_main(s,o,!1,i),r=this.diff_main(e,n,!1,i);return t.concat(r)},g.prototype.diff_linesToChars_=function(e,t){var o=[],a=Object.create(null);function n(e){for(var t="",n=0,r=-1,i=o.length;r<e.length-1;){-1==(r=e.indexOf("\n",n))&&(r=e.length-1);var s=e.substring(n,r+1),n=r+1;void 0!==a[s]?t+=String.fromCharCode(a[s]):(t+=String.fromCharCode(i),a[s]=i,o[i++]=s)}return t}return o[0]="",{chars1:n(e),chars2:n(t),lineArray:o}},g.prototype.diff_wordMode=function(e,t){var e=this.diff_linesToWords_(e,t),t=e.chars1,n=e.chars2,e=e.lineArray,t=this.diff_main(t,n,!1);return this.diff_charsToLines_(t,e),t},g.prototype.diff_linesToWords_=function(e,t){var a=[],l=Object.create(null),c=(a[0]="",/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/);function n(e){for(var t="",n=function(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&c.test(t[n])&&c.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}(e),r=a.length,i=0,s=n.length;i<s;i++){var o=n[i];void 0!==l[o]?t+=String.fromCharCode(l[o]):(t+=String.fromCharCode(r),l[o]=r,a[r++]=o)}return t}return{chars1:n(e),chars2:n(t),lineArray:a}},g.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],s=0;s<r.length;s++)i[s]=t[r.charCodeAt(s)];e[n][1]=i.join("")}},g.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(s,i)==t.substring(s,i)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},g.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},g.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;r<n?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var s=0,o=1;;){var a=e.substring(i-o),a=t.indexOf(a);if(-1==a)return s;o+=a,0!=a&&e.substring(i-o)!=t.substring(0,o)||(s=o,o++)}},g.prototype.diff_halfMatch_=function(e,t){var f,n,r,i,s,o,a,l;return!(this.Diff_Timeout<=0)&&(i=e.length>t.length?e:t,r=e.length>t.length?t:e,!(i.length<4||2*r.length<i.length))&&(f=this,n=c(i,r,Math.ceil(i.length/4)),r=c(i,r,Math.ceil(i.length/2)),n||r)?(i=!r||n&&n[4].length>r[4].length?n:r,e.length>t.length?(s=i[0],o=i[1],a=i[2],l=i[3]):(a=i[0],l=i[1],s=i[2],o=i[3]),[s,o,a,l,i[4]]):null;function c(e,t,n){for(var r,i,s,o,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!=(l=t.indexOf(a,l+1));){var u=f.diff_commonPrefix(e.substring(n),t.substring(l)),h=f.diff_commonSuffix(e.substring(0,n),t.substring(0,l));c.length<h+u&&(c=t.substring(l-h,l)+t.substring(l,l+u),r=e.substring(0,n-h),i=e.substring(n+u),s=t.substring(0,l-h),o=t.substring(l+u))}return 2*c.length>=e.length?[r,i,s,o,c]:null}},g.prototype.diff_cleanupSemantic=function(e){for(var t,n,r,i,s=!1,o=[],a=0,l=null,c=0,u=0,h=0,f=0,d=0;c<e.length;)0==e[c][0]?(u=f,h=d,d=f=0,l=e[o[a++]=c][1]):(1==e[c][0]?f+=e[c][1].length:d+=e[c][1].length,l&&l.length<=Math.max(u,h)&&l.length<=Math.max(f,d)&&(e.splice(o[a-1],0,[-1,l]),e[o[a-1]+1][0]=1,a--,c=0<--a?o[a-1]:-1,d=f=h=u=0,s=!(l=null))),c++;for(s&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),c=1;c<e.length;)-1==e[c-1][0]&&1==e[c][0]&&(t=e[c-1][1],n=e[c][1],r=this.diff_commonOverlap_(t,n),(i=this.diff_commonOverlap_(n,t))<=r?(r>=t.length/2||r>=n.length/2)&&(e.splice(c,0,[0,n.substring(0,r)]),e[c-1][1]=t.substring(0,t.length-r),e[c+1][1]=n.substring(r),c++):(i>=t.length/2||i>=n.length/2)&&(e.splice(c,0,[0,t.substring(0,i)]),e[c-1][0]=1,e[c-1][1]=n.substring(0,n.length-i),e[c+1][0]=-1,e[c+1][1]=t.substring(i),c++),c++),c++},g.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){var n,r,i,s,o,a;return e&&t?(o=e.charAt(e.length-1),a=t.charAt(0),n=o.match(g.nonAlphaNumericRegex_),r=a.match(g.nonAlphaNumericRegex_),i=n&&o.match(g.whitespaceRegex_),s=r&&a.match(g.whitespaceRegex_),o=i&&o.match(g.linebreakRegex_),a=s&&a.match(g.linebreakRegex_),e=o&&e.match(g.blanklineEndRegex_),t=a&&t.match(g.blanklineStartRegex_),e||t?5:o||a?4:n&&!i&&s?3:i||s?2:n||r?1:0):6}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){for(var r,i=e[n-1][1],s=e[n][1],o=e[n+1][1],a=this.diff_commonSuffix(i,s),l=(a&&(r=s.substring(s.length-a),i=i.substring(0,i.length-a),s=r+s.substring(0,s.length-a),o=r+o),i),c=s,u=o,h=t(i,s)+t(s,o);s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=t(i,s)+t(s,o);h<=f&&(h=f,l=i,c=s,u=o)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=c,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}},g.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,g.whitespaceRegex_=/\s/,g.linebreakRegex_=/[\r\n]/,g.blanklineEndRegex_=/\n\r?\n$/,g.blanklineStartRegex_=/^\r?\n\r?\n/,g.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,i=null,s=0,o=!1,a=!1,l=!1,c=!1;s<e.length;)0==e[s][0]?(i=e[s][1].length<this.Diff_EditCost&&(l||c)?(o=l,a=c,e[n[r++]=s][1]):(r=0,null),l=c=!1):(-1==e[s][0]?c=!0:l=!0,i&&(o&&a&&l&&c||i.length<this.Diff_EditCost/2&&o+a+l+c==3)&&(e.splice(n[r-1],0,[-1,i]),e[n[r-1]+1][0]=1,r--,o&&a?(l=c=!0,r=0):(s=0<--r?n[r-1]:-1,l=c=!1),t=!(i=null))),s++;t&&this.diff_cleanupMerge(e)},g.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,n=0,r=0,i=0,s="",o="";n<e.length;)switch(e[n][0]){case 1:i++,o+=e[n][1],n++;break;case-1:r++,s+=e[n][1],n++;break;case 0:1<r+i?(0!==r&&0!==i&&(0!==(t=this.diff_commonPrefix(o,s))&&(0<n-r-i&&0==e[n-r-i-1][0]?e[n-r-i-1][1]+=o.substring(0,t):(e.splice(0,0,[0,o.substring(0,t)]),n++),o=o.substring(t),s=s.substring(t)),0!==(t=this.diff_commonSuffix(o,s)))&&(e[n][1]=o.substring(o.length-t)+e[n][1],o=o.substring(0,o.length-t),s=s.substring(0,s.length-t)),0===r?e.splice(n-i,r+i,[1,o]):0===i?e.splice(n-r,r+i,[-1,s]):e.splice(n-r-i,r+i,[-1,s],[1,o]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=i=0,o=s=""}""===e[e.length-1][1]&&e.pop();for(var a=!1,n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),a=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(e)},g.prototype.diff_xIndex=function(e,t){for(var n=0,r=0,i=0,s=0,o=0;o<e.length&&(1!==e[o][0]&&(n+=e[o][1].length),-1!==e[o][0]&&(r+=e[o][1].length),!(t<n));o++)i=n,s=r;return e.length!=o&&-1===e[o][0]?s:s+(t-i)},g.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,s=/\n/g,o=0;o<e.length;o++){var a=e[o][0],l=e[o][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(a){case 1:t[o]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:t[o]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[o]="<span>"+l+"</span>"}}return t.join("")},g.prototype.diff_prettyCompactHtml=function(e){for(var t=[],n=0;n<e.length;n++){var r=0===n,i=n===e.length-1,s=e[n][0],o=e[n][1];switch(s){case 1:t[n]='<ins style="background:#e6ffe6;">'+this.prepare_text_(o)+"</ins>";break;case-1:t[n]='<del style="background:#ffe6e6;">'+this.prepare_text_(o)+"</del>";break;case 0:t[n]="<span>"+this.truncate_context_(o,r,i)+"</span>"}}return t.join("")},g.prototype.prepare_text_=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"&para;<br>")},g.prototype.truncate_context_=function(e,t,n){var r=e.split(/\r\n|\r|\n/),i='<span class="dots">...</span>',s=r.length;return s<=4||!t&&!n&&s<=8?this.prepare_text_(e):t?i+this.prepare_text_("\n"+r.slice(-4).join("\n")):n?this.prepare_text_(r.slice(0,4).join("\n")+"\n")+i:this.prepare_text_(r.slice(0,4).join("\n")+"\n")+i+this.prepare_text_("\n"+r.slice(-4).join("\n"))},g.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},g.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},g.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var s=e[i][0],o=e[i][1];switch(s){case 1:n+=o.length;break;case-1:r+=o.length;break;case 0:t+=Math.max(n,r),r=n=0}}return t+=Math.max(n,r)},g.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case-1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},g.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,i=0,s=t.split(/\t/g),o=0;o<s.length;o++){var a=s[o].substring(1);switch(s[o].charAt(0)){case"+":try{n[r++]=[1,decodeURI(a)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);l=e.substring(i,i+=l);"="==s[o].charAt(0)?n[r++]=[0,l]:n[r++]=[-1,l];break;default:if(s[o])throw new Error("Invalid diff operation in diff_fromDelta: "+s[o])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return n},g.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},g.prototype.match_bitap_=function(e,n,r){if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var t=this.match_alphabet_(n),i=this;function s(e,t){e/=n.length,t=Math.abs(r-t);return i.Match_Distance?e+t/i.Match_Distance:t?1:e}for(var o,a,l,c=this.Match_Threshold,u=(-1!=(h=e.indexOf(n,r))&&(c=Math.min(s(0,h),c),-1!=(h=e.lastIndexOf(n,r+n.length)))&&(c=Math.min(s(0,h),c)),1<<n.length-1),h=-1,f=n.length+e.length,d=0;d<n.length;d++){for(o=0,a=f;o<a;)s(d,r+a)<=c?o=a:f=a,a=Math.floor((f-o)/2+o);var f=a,p=Math.max(1,r-a+1),g=Math.min(r+a,e.length)+n.length,m=Array(g+2);m[g+1]=(1<<d)-1;for(var _=g;p<=_;_--){var b=t[e.charAt(_-1)];if(m[_]=0===d?(m[_+1]<<1|1)&b:(m[_+1]<<1|1)&b|(l[_+1]|l[_])<<1|1|l[_+1],m[_]&u){b=s(d,_-1);if(b<=c){if(c=b,!(r<(h=_-1)))break;p=Math.max(1,2*r-h)}}}if(s(d+1,r)>c)break;l=m}return h},g.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},g.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var i=t.substring(e.start2-r,e.start2),s=(i&&e.diffs.unshift([0,i]),t.substring(e.start2+e.length1,e.start2+e.length1+r));s&&e.diffs.push([0,s]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+s.length,e.length2+=i.length+s.length}},g.prototype.patch_make=function(e,t,n){var r,i;if("string"==typeof e&&"string"==typeof t&&void 0===n)2<(i=this.diff_main(r=e,t,!0)).length&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)r=this.diff_text1(i=e);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)r=e,i=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");r=e,i=n}if(0===i.length)return[];for(var s=[],o=new g.patch_obj,a=0,l=0,c=0,u=r,h=r,f=0;f<i.length;f++){var d=i[f][0],p=i[f][1];switch(a||0===d||(o.start1=l,o.start2=c),d){case 1:o.diffs[a++]=i[f],o.length2+=p.length,h=h.substring(0,c)+p+h.substring(c);break;case-1:o.length1+=p.length,o.diffs[a++]=i[f],h=h.substring(0,c)+h.substring(c+p.length);break;case 0:p.length<=2*this.Patch_Margin&&a&&i.length!=f+1?(o.diffs[a++]=i[f],o.length1+=p.length,o.length2+=p.length):p.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(o,u),s.push(o),o=new g.patch_obj,a=0,u=h,l=c)}1!==d&&(l+=p.length),-1!==d&&(c+=p.length)}return a&&(this.patch_addContext_(o,u),s.push(o)),s},g.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=new g.patch_obj;i.diffs=[];for(var s=0;s<r.diffs.length;s++)i.diffs[s]=r.diffs[s].slice();i.start1=r.start1,i.start2=r.start2,i.length1=r.length1,i.length2=r.length2,t[n]=i}return t},g.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);for(var n=this.patch_addPadding(e),r=(t=n+t+n,this.patch_splitMax(e),0),i=[],s=0;s<e.length;s++){var o,a=e[s].start2+r,l=this.diff_text1(e[s].diffs),c=-1;if(l.length>this.Match_MaxBits?-1!=(o=this.match_main(t,l.substring(0,this.Match_MaxBits),a))&&(-1==(c=this.match_main(t,l.substring(l.length-this.Match_MaxBits),a+l.length-this.Match_MaxBits))||c<=o)&&(o=-1):o=this.match_main(t,l,a),-1==o)i[s]=!1,r-=e[s].length2-e[s].length1;else if(i[s]=!0,r=o-a,l==(a=-1==c?t.substring(o,o+l.length):t.substring(o,c+this.Match_MaxBits)))t=t.substring(0,o)+this.diff_text2(e[s].diffs)+t.substring(o+l.length);else{var u=this.diff_main(l,a,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(u)/l.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(u);for(var h,f=0,d=0;d<e[s].diffs.length;d++){var p=e[s].diffs[d];0!==p[0]&&(h=this.diff_xIndex(u,f)),1===p[0]?t=t.substring(0,o+h)+p[1]+t.substring(o+h):-1===p[0]&&(t=t.substring(0,o+h)+t.substring(o+this.diff_xIndex(u,f+p[1].length))),-1!==p[0]&&(f+=p[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},g.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var i,s=e[0],o=s.diffs;return 0==o.length||0!=o[0][0]?(o.unshift([0,n]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t):t>o[0][1].length&&(i=t-o[0][1].length,o[0][1]=n.substring(o[0][1].length)+o[0][1],s.start1-=i,s.start2-=i,s.length1+=i,s.length2+=i),0==(o=(s=e[e.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,n]),s.length1+=t,s.length2+=t):t>o[o.length-1][1].length&&(i=t-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,i),s.length1+=i,s.length2+=i),n},g.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t))for(var r=e[n],i=(e.splice(n--,1),r.start1),s=r.start2,o="";0!==r.diffs.length;){var a=new g.patch_obj,l=!0;for(a.start1=i-o.length,a.start2=s-o.length,""!==o&&(a.length1=a.length2=o.length,a.diffs.push([0,o]));0!==r.diffs.length&&a.length1<t-this.Patch_Margin;){var c=r.diffs[0][0],u=r.diffs[0][1];1===c?(a.length2+=u.length,s+=u.length,a.diffs.push(r.diffs.shift()),l=!1):-1===c&&1==a.diffs.length&&0==a.diffs[0][0]&&u.length>2*t?(a.length1+=u.length,i+=u.length,l=!1,a.diffs.push([c,u]),r.diffs.shift()):(u=u.substring(0,t-a.length1-this.Patch_Margin),a.length1+=u.length,i+=u.length,0===c?(a.length2+=u.length,s+=u.length):l=!1,a.diffs.push([c,u]),u==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(u.length))}var o=(o=this.diff_text2(a.diffs)).substring(o.length-this.Patch_Margin),h=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==h&&(a.length1+=h.length,a.length2+=h.length,0!==a.diffs.length&&0===a.diffs[a.diffs.length-1][0]?a.diffs[a.diffs.length-1][1]+=h:a.diffs.push([0,h])),l||e.splice(++n,0,a)}},g.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},g.prototype.patch_fromText=function(e){var t=[];if(e)for(var n=e.split("\n"),r=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<n.length;){var s=n[r].match(i);if(!s)throw new Error("Invalid patch string: "+n[r]);var o=new g.patch_obj;for(t.push(o),o.start1=parseInt(s[1],10),""===s[2]?(o.start1--,o.length1=1):"0"==s[2]?o.length1=0:(o.start1--,o.length1=parseInt(s[2],10)),o.start2=parseInt(s[3],10),""===s[4]?(o.start2--,o.length2=1):"0"==s[4]?o.length2=0:(o.start2--,o.length2=parseInt(s[4],10)),r++;r<n.length;){var a=n[r].charAt(0);try{var l=decodeURI(n[r].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==a)o.diffs.push([-1,l]);else if("+"==a)o.diffs.push([1,l]);else if(" "==a)o.diffs.push([0,l]);else{if("@"==a)break;if(""!==a)throw new Error('Invalid patch mode "'+a+'" in: '+l)}r++}}return t},(g.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,n=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,r=["@@ -"+t+" +"+n+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:e="+";break;case-1:e="-";break;case 0:e=" "}r[i+1]=e+encodeURI(this.diffs[i][1])+"\n"}return r.join("").replace(/%20/g," ")},t.exports=g},{}],4:[function(e,t,n){var r=new(e("../../diffMatchPatch"));t.exports={tests:function(e,t){var n=this,r="";return _.isString(e)?r+=t?n._error(e):n._escapeAndConvertToHtml(e):(_.each(e.errors,function(e){r+=n._error(e.message,e.stack,e.expected,e.actual)}),_.each(e.tests,function(e){r+=n._test(e)})),r},_error:function(e,t,n,r){var i=this,s="";return'<section class="error">'+(s=n||r?i._diff(n,r)+"<br/>":s)+'<section class="header">'+i._escapeAndConvertToHtml(e)+"</section>"+_.reduce(t,function(e,t){return e+=i._line(t)},"")+"</section>"},_line:function(e){var t=this._escape(e.file),n=e.context&&this._escape(e.context)||"";return t?'<section class="line">at '+(n?n+" ":"")+'<a class="loc" data-file="'+t+'" data-loc="'+e.loc+'">'+t+":"+e.loc+"</a></section>":""},_test:function(e){var n=this,t=e.path&&_.last(e.path)||"",r=_.initial(e.path||[]).join(" "),t=t&&" "+n._escape(t),r=r&&" "+n._escape(r),i=_.isNumber(e.time)?" "+e.time+" ms":"",s=n._escape(e.file);return'<section class="test'+(e.failing?" failing":"")+'"><section class="header"><a class="'+(e.loc?"loc":"text")+'" data-file="'+s+'" data-loc="'+e.loc+'">'+e.file+'</a><span class="suite">'+r+'</span><span class="name">'+t+"</span>"+(i?'<span class="time">'+i+"</span>":"")+"</section>"+_.reduce(e.errors,function(e,t){return e+=n._error(t.message,t.stack,t.expected,t.actual)},"")+(e.messages&&e.messages.length?_.reduce(e.messages,function(e,t){return e+='<section class="message '+t.type+'"><span class="text">'+n._escapeAndConvertToHtml(t.text)+"&nbsp;</span>"+n._line(t)+"</section>"},'<section class="console"><section class="header">From console:</section>')+"</section>":"")+"</section>"},_diff:function(e,t){try{return'<section class="diff" style="white-space: pre;">'+r[r.diff_prettyCompactHtml?"diff_prettyCompactHtml":"diff_prettyHtml"](r.diff_wordMode(e||"",t||"")).replace(/&para;<br>/g,"<br>").replace(/style="background:#e6ffe6;"/g,'class="status-added"').replace(/style="background:#ffe6e6;"/g,'class="status-removed"')+"</section>"}catch(e){return""}},_escape:function(e){return(e||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},_escapeAndConvertToHtml:function(e){return this._escape(e).replace(/(?:\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")}}},{"../../diffMatchPatch":3}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={lineState:{notCovered:1,fullyCovered:2,partiallyCovered:3,errorSource:4,errorPath:5}}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=["January","February","March","April","May","June","July","August","September","October","November","December"];const s="wallabyjs@gmail.com";n.default={wallabyEmail:function(){return s},normalizePath:function(e){return"win32"===process.platform&&e?e.replace(/\\/g,"/"):e},parseKey:function(e){var t={},n=(e&&2===(n=e.split(":")).length&&(e=(n=n[1])&&n.replace(/^\s+|\s+$/gm,"")),Buffer.from(e,"base64").toString().split("\n")),e=(t.licenseeName=n[0],t.licenseTags=n[1],t.licenseTags.split(",")||[]);t.licenseeEmail=e[0],t.licensedProduct=e[1],t.multiUserKey=e[2],t.source=e[3],t.trial="1"===e[5],t.expirationDateString=n[2],t.licenseSignature=n[3],t.freeLicense=t.licenseeEmail===s;try{var r=t.expirationDateString.split("/");t.expirationDateStringFormatted=r[0]+" "+i[parseInt(r[1],10)-1]+" "+r[2]}catch(e){t.expirationDateStringFormatted=t.expirationDateString}return t.expirationTime=e[7]&&parseInt(e[7],10)||new Date(t.expirationDateString+" UTC").getTime(),t},format:function(r,i){return r.replace(/\{([0-9a-zA-Z_]+)\}/g,function(e,t,n){return"{"===r[n-1]&&"}"===r[n+e.length]?t:null==(n=i.hasOwnProperty(t)?i[t]:null)?"":n})},validPackageName:function(e){if(e&&!e.match(/^\./)&&!e.match(/^_/)&&!(214<e.length||e.toLowerCase()!==e||/[~'!()*]/.test(e.split("/").slice(-1)[0]))){if(encodeURIComponent(e)===e)return e;var t=e.match(/^(?:@([^/]+?)[/])?([^/]+?)$/);if(t){var n=t[1],t=t[2];if(encodeURIComponent(n)===n&&encodeURIComponent(t)===t)return e}}},withFreePort:function(t){var n=e("http").createServer();n.listen(0),n.on("listening",function(){var e=n.address().port;n.once("close",function(){t(e)}),n.close()}),process.nextTick(function(){})},checkPort:function(r){const i=e("net");return new Promise(e=>{const t=new i.Socket,n=setTimeout(()=>{e(0);try{t.destroy()}catch(e){}},500);t.once("connect",()=>{clearTimeout(n),e(0),t.end()}).once("error",()=>{clearTimeout(n),e(r)}).connect(r,"0.0.0.0")})}}},{http:void 0,net:void 0}],7:[function(e,t,n){global._=e("lodash"),global.Q=e("q"),global.EventEmitter=e("events").EventEmitter,Q.longStackSupport=!1,global.Promise||(global.Promise=Q.Promise),_.extend(_,e("./utils").default),_.str=e("underscore.string"),_.mixin(_.str.exports()),global.logger=global.logger||e("./logger"),_["_"+["owj","dc1","51i","a"].join("")]=["owj","dc1","51i","a"].join("")},{"./logger":8,"./utils":9,events:void 0,lodash:void 0,q:void 0,"underscore.string":void 0}],8:[function(e,t,n){const a=e("util"),r=new(e("lru-cache"))({max:5242880,length:e=>e.length});let i=0;const l={add(e){r.set(i++,e)},values(){var e=r.values();return e.reverse(),e}};let c=process.env.WALLABY_DEBUG_ENABLED||!1,s=process.env.WALLABY_TRACE_ENABLED||!1;const o={};o.log=function(e){return process.stdout.write(e)},o.formatArgs=function(e){var t=this["namespace"];e[0]=function(){if(o.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+t+" "+e[0]},o.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{depth:25,maxArrayLength:100,breakLength:200});f=o,((h.debug=h).default=h).coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},h.instances=[],Object.keys(f).forEach(e=>{h[e]=f[e]}),h.formatters={};const u=h;function h(e,t){let n;function o(...i){if(o.enabled){const s=o;var e=Number(new Date),t=e-(n||e);s.diff=t,s.prev=n,s.curr=e,n=e,i[0]=h.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let r=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{var n;return"%%"!==e&&(r++,"function"==typeof(t=h.formatters[t]))&&(n=i[r],e=t.call(s,n),i.splice(r,1),r--),e}),h.formatArgs.call(s,i);t=a.format(...i)+"\n";(!s.isDebug||(l.add(t),c))&&h.log.call(s,t)}}return o.isDebug="debug"===t,o.isTrace="trace"===t,o.namespace=e,o.enabled=o.isTrace&&s||o.isDebug,h.instances.push(o),o}var f,e=u["formatters"];e.o=function(e){return a.inspect(e,o.inspectOpts).replace(/\s*\n\s*/g," ")},e.O=function(e){return a.inspect(e,o.inspectOpts)},t.exports={create(e){return{debug:u(e,"debug"),trace:u(e,"trace")}},enableDebug(){c||(process.env.WALLABY_DEBUG_ENABLED="true",c=!0,l.values().forEach(e=>{o.log(e)}))},getDebugLog(){return l.values()},enableTrace(){s||(process.env.WALLABY_TRACE_ENABLED="true",s=!0,u.instances.forEach(e=>{e.isTrace&&(e.enabled=!0)})),this.enableDebug()}}},{"lru-cache":void 0,util:void 0}],9:[function(p,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const g=p("path"),a=p("fs");const n=p("./extension/shared/utils").default["normalizePath"],r=p("module")["Module"],o=p("source-map").SourceMapConsumer,s=p("source-map").SourceMapGenerator,i=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,l=/^\s*/,c=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,h=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,f=/(^[\s]*?(fit|fdescribe)[\s]*?|[^.\w\s][\s]*?(fit|fdescribe)[\s]*?|(test|test\.concurrent|it|describe)[\s]*?\.[\s]*?only[\s]*?)((\.each[\s]*?(`[^`]*?`[\s]*?)*?)?\([\s]*?[^)\s])/gm;var u=/[#@] sourceMappingURL=([^\s'"]*)/;const d=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+u.source+")\\s*\\*/|//(?:"+u.source+"))\\s*","g"),m=/data:application\/json[^,]+base64,/;let b=void 0;const v=/\s?<!doctype html>|(<html\b[^>]*>|<body\b[^>]*>|<x-[^>]+>)+/i;let y=/<\/?[a-z][\s\S]*>/i;try{y=new RegExp(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].map(function(e){return"<"+e+"\\b[^>]*>"}).join("|"),"i")}catch(e){}function x(){if(void 0===b){let t;try{a.statSync("/.dockerenv"),t=!0}catch(e){t=!1}let n;try{n=a.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){n=!1}b=t||n}return b}const w=(t,e)=>"js"===t||"jsx"===t||"es6"===t||"es7"===t||"mjs"===t||"cjs"===t||e&&e.find(e=>t===e),C=e=>"ts"===e||"tsx"===e||"cts"===e||"mts"===e,E=e=>"vue"===e,M=e=>"svelte"===e,T=(e,t)=>"coffee"===e||/\.(litcoffee|coffee\.md)$/.test(t||""),j={},S={},P=("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,t){j[e]=t,S[t]=e}),"_$_$w_id"),R="Expected to find some snaps in the file, but no snaps were found.",k="Expected to find some snaps with code in the file, but only empty snaps were found.",L="Found some snaps with code in the file, but not allowed to run them.";t.default={wallabyRandomIdCommentPostfix:P,randomIdLength:5,selectedTestRegExp:f,snapsNotFoundError:R,snapsAreEmptyError:k,snapsFoundButNoAutoRunError:L,SourceMapConsumer:o,wallabyRandomIdCommentPrefix(e){return".coffee"===g.extname(e)?"\n#":"\n//"},isSnapsNotFoundError(e){return e&&e.message&&e.message.endsWith(R)},isSnapsAreEmptyError(e){return e&&e.message&&e.message.endsWith(k)},isSnapsFoundButNoAutoRunError(e){return e&&e.message&&e.message.endsWith(L)},requireResolve:function(e,t){return r._resolveFilename(e,null,!1,t)},randomId:function(){return Math.random().toString(36).substr(2,5)},addWallabyRandomIdCommentToFileContent:function(e,t,n){return t+this.wallabyRandomIdCommentPrefix(e)+(n||this.randomId())+P},hasWallabyRandomIdComment:function(e){return e.endsWith(P)},removeWallabyRandomIdCommentFromFileContent:function(e,t){return _.endsWith(t,P)?t.slice(0,-(this.wallabyRandomIdCommentPrefix(e).length+5+P.length)):t},addOrReplaceWallabyRandomIdComment(e,t){return this.addWallabyRandomIdCommentToFileContent(e,this.removeWallabyRandomIdCommentFromFileContent(e,t))},noopTrue:function(){return!0},noopTruePromise:function(){return Q.fcall(this.noopTrue)},isPatch:function(e){return e&&2<e.length&&"@"===e[0]&&"@"===e[1]},isLevelUpRelativePath:function(e){return!!e&&"."===e[0]&&"."===e[1]},docBlockComment:function(e){e=e.match(i);return e&&e[0].replace(l,"")||""},normalizePath:function(e){return e&&e.replace("win32"===process.platform?"file:///":"file://","").split(g.sep).join("/")},fileUrl:function(e){e=g.resolve(e).replace(/\\/g,"/");return"/"!==e[0]&&(e="/"+e),encodeURI("file://"+e)},trimSlashes(e){return e&&e.replace(/^\/|\/$/g,"")},platformDependentPath:function(e){return!e||"win32"!==process.platform||~e.indexOf(g.sep)?e:e.split("/").join(g.sep)},getSourceMapFromCode:function(e){for(d.lastIndex=0;null!==(t=d.exec(e));){var t=t?t[1]||t[2]||"":null;if(t)if(m.test(t))return t=t.slice(t.indexOf(",")+1),Buffer.from(t,"base64").toString()}},makeRe:function(e,t){return"string"==typeof e?p("micromatch").makeRe(e,t,!1,!0):e},pathMatchesPattern:function(e,t,n){if(e)return"string"==typeof t?(0,p("micromatch").isMatch)(e,t,n):(e=this.platformDependentPath(n&&n.absolute?"":"./")+this.platformDependentPath(e)).match(t)},escapePathForRegex:function(e){return"\\"===g.sep&&(e=e.replace(/\\/g,"/")),this.replacePathSepForRegex(this.escapeRegExp(e))},escapeRegExp:function(e){return e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")},replacePathSepForRegex:function(e){return"\\"===g.sep?e.replace(/(\/|(.)?\\(?![[\]{}()*+?.^$|\\]))/g,(e,t,n)=>n&&"\\"!==n?n+"\\\\":"\\\\"):e},displayTestName:function(e){return e.replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")},getOriginalLineByGeneratedLine(e,t,n){var r=e[t];if(r){if(0<(r=this._decodeMapping(r)))return r;n&&(n-=1);for(let e=0;e<r.length;e++){if(r[e].column===n)return r[e].line;if(n<r[e].column)return(0===e?r[0]:r[e-1]).line}return r[r.length-1].line}},_decodeMapping(t){if(_.isUndefined(t)||_.isObject(t))return t;if(_.isNumber(t))return t;var n=[];let r=0,i=0,s;for(let e=0;e<t.length;e+=1){var o=j[t[e]],a=32&o;o&=31,i+=o<<r,a?r+=5:(o=1&i,i>>>=1,a=o?0===i?-2147483648:-i:i,s=0<=s?void n.push({line:s,column:a}):a,i=r=0)}return n},_encodeMapping(e,t,n){e=e[t];if(!_.isObject(e))return e;const r=Object.values(e);if(n&&1===r.length&&0===r[0].originalColumn&&0===r[0].generatedColumn&&n[t])return n[t];if(1!==r.length&&r.find(e=>e.originalLine!==r[0].originalLine)){r.sort((e,t)=>e.generatedColumn-t.generatedColumn);let t="",n=(t=(t+=this._encodeInteger(r[0].originalLine))+this._encodeInteger(r[0].generatedColumn),0);for(let e=1;e<r.length;e++)if(r[e].originalLine!==r[e-1].originalLine){if(2e3<++n)return r[0].originalLine;t=(t+=this._encodeInteger(r[e].originalLine))+this._encodeInteger(r[e].generatedColumn)}return t}return r[0].originalLine},_encodeInteger(t){let n="";t<0?t=-t<<1|1:t<<=1;do{let e=31&t;0<(t>>>=5)&&(e|=32),n+=S[e]}while(0<t);return n},generateLineMappings:function(t,n){const r={};return Object.keys(t).forEach(e=>{r[e]=this._encodeMapping(t,e,n)}),r},_previousLineMapNextGreaterThanOrEqualTo(e,t){let n=0,r=e.length-1,i=-1;for(;n<=r;){var s=parseInt((n+r)/2,10);e[s].column<t?n=s+1:(i=s,r=s-1)}return i=-1===(i=0===i?1:i)?e.length:i},_previousLineMapNextGreaterThan(e,t){let n=0,r=e.length-1,i=-1;for(;n<=r;){var s=parseInt((n+r)/2,10);e[s].column<=t?n=s+1:(i=s,r=s-1)}return i=-1===(i=0===i?1:i)?e.length:i},updateFileMap:function(t,e){var s=_.extend({},t);return _.each(e,e=>{var e=new o(e),r={},i=_.isEmpty(s);e.eachMapping(e=>{var t,n;e.originalLine&&e.generatedLine&&(i?(r[e.generatedLine]||(r[e.generatedLine]={}),r[e.generatedLine][e.generatedColumn]&&!e.name||(r[e.generatedLine][e.generatedColumn]=Object.assign({},e))):!s[e.originalLine]||r[e.generatedLine]&&r[e.generatedLine][e.generatedColumn]&&!e.name||(t=s[e.originalLine]=this._decodeMapping(s[e.originalLine]))&&(0<t?(r[e.generatedLine]||(r[e.generatedLine]={}),r[e.generatedLine][e.generatedColumn]=Object.assign(Object.assign({},e),{originalLine:t,originalColumn:0})):(n=this._previousLineMapNextGreaterThan(t,e.originalColumn),r[e.generatedLine]||(r[e.generatedLine]={}),r[e.generatedLine][e.generatedColumn]=Object.assign(Object.assign({},e),{originalLine:t[n-1].line,originalColumn:t[n-1].column}))))}),s=this.generateLineMappings(r,t)}),s},formatInstrumentationError:function(e,t,n){e=(e&&(e.stack||e.message))+"";let r=this.textLines(e);var e=r[0],i=e.match(/^SyntaxError.*\((\d+):(\d+)\)$/);return i&&(r=[this.codeFrame(t,parseInt(i[1],10),parseInt(i[2],10)+1,e)]),Error("Failed to instrument "+n+"\n"+r.join("\n"))},combineSourceMaps:function(e,t){var n,r,i;return e?t?(n=new o(t),r=new o(e),i=new s,n.eachMapping(e=>{var t;null!=e.originalLine&&null!=(t=r.originalPositionFor({line:e.originalLine,column:e.originalColumn})).source&&i.addMapping({original:{line:t.line,column:t.column},generated:{line:e.generatedLine,column:e.generatedColumn},source:t.source,name:t.name||e.name})}),[r,n].forEach(n=>{n.sources.forEach(e=>{i._sources.add(e);var t=n.sourceContentFor(e);null!=t&&i.setSourceContent(e,t)})}),i._sourceRoot=e.sourceRoot,i._file=e.file,JSON.parse(i.toString())):e:t},mapTextPosition:function(e,t){let n;var r;return n=e?t?((r={line:e.line,column:e.column}).source=t.sources&&t.sources[0]||".",r.bias=2,t.generatedPositionFor(r)):e:n},textIndexPosition:function(e,t,n){e=this.textLines(e,t,n);return{line:e.length,column:e[e.length-1].length}},mapTransformedRangeToOriginal:function(e,t){var n,r,i,t={start:{line:t[0],column:t[1]},end:{line:t[2],column:t[3]}},s=(s=e,r=t.start.line,n=t.start.column,null===(i=s.originalPositionFor({line:r,column:n,bias:1})).source?s.originalPositionFor({line:r,column:n,bias:2}):i);r=t.end;let o=null===(r=(n=e).originalPositionFor({line:r.line,column:r.column-1})).source?null:null===(i=n.generatedPositionFor({source:r.source,line:r.line,column:r.column+1,bias:2})).line||n.originalPositionFor(i).line!==r.line?{source:r.source,line:r.line,column:1/0}:n.originalPositionFor(i);return!(s&&o&&s.source&&o.source&&s.source===o.source&&null!==s.line&&null!==s.column&&null!==o.line&&null!==o.column)?null:(s.line===o.line&&s.column===o.column&&((o=e.originalPositionFor({line:t.end.line,column:t.end.column,bias:2})).column=o.column-1),[s.line,s.column,o.line,o.column])},mapOriginalRangeToTransformed:function(e,[t,n,r,i]){if(!e)return[t,n,r,i];t={line:t,column:n},t.source=e.sources&&e.sources[0]||".",n=e.generatedPositionFor(t),t={line:r,column:i},t.source=e.sources&&e.sources[0]||".",t.bias=2,r=e.generatedPositionFor(t);if(n&&r&&null!==n.line&&null!==n.column){if(null===r.line||null===r.column){if(null===n.line||null===n.column)return;r.source=n.source,r.line=n.line,r.column=1/0}return r.line<n.line&&(r.line=n.line),n.line===r.line&&r.column<n.column&&(r.column=1/0),null===n.column&&(n.column=0),null===r.column&&(r.column=0),[n.line,n.column,r.line,r.column]}},mapSnapRanges:function(c,e,t){const f=this.textLines(t),d=(e,t)=>{e=f[e-1];if(e)return e[t]},s=(e,t,n)=>d(e,t)===n,u=(e,t,n,r,i=0)=>{for(;-1<e[n];){if(s(e[t],e[n]-i,r))return e;--e[n]}},h=(e,t,n)=>{let r=!(e=[...e]),i=!1;for(;0<e[0];){for(;0<=e[1];){if(d(e[0],e[1])===t){if(r){i=!0;break}r=!0}e[1]--}if(i)break;var s;e[0]--,0<e[0]&&(s=f[e[0]-1],e[1]=s?s.length-1:0)}let o=!1,a=!1;for(;e[2]<f.length;){for(var l=f[e[2]-1];l&&e[3]<=l.length;){if(d(e[2],e[3])===n){if(o){a=!0;break}o=!0}e[3]++}if(a)break;e[2]++,e[3]=0}if(i&&a)return e[3]+=1,e},p=(e,t,n,r,i)=>{let s=e[2],o=e[3],a=!1;for(;s<f.length;){const c=f[s-1];for(;c&&o<=c.length;){if(d(s,o)===t){a=!0;break}o++}if(a)break;s++,o=0}var e=i||(r?this.textLines(r,void 0,"\n").length:1),l=s+(e-1);const c=f[l-1];let u=c&&c.length?c.length-1:0,h=!1;for(;0<=u;){if(d(l,u)===n){h=!0;break}u--}if(a&&h)return[s,o,l,u+1]},r=(e,t,n,r,i,s)=>{var o=n===r;let a=this.mapTransformedRangeToOriginal(c,e),l=!1;if(a||(e[3]+=1,(a=this.mapTransformedRangeToOriginal(c,e))?(null===a[2]&&(a[2]=a[0],l=!0),a[3]<0&&(a[3]=a[1],l=!0)):t&&(o?a=p(t,n,r,i,s):(s=this.mapTransformedRangeToOriginal(c,t))&&(s[3]=Math.min(s[3],f[s[2]-1].length),a=h(s,n,r)))),!a)throw new Error(`Unable to map snaps${o?" output":""} ranges`);if(l=l||o&&!isFinite(a[3]),a[3]=Math.min(a[3],f[a[2]-1].length),!(a=u(a,0,1,n)))throw new Error(`Unable to map snap${o?" output":""} range start`);if(!(a=u(a,2,3,r,1)))throw new Error(`Unable to map snap${o?" output":""} range end`);if(a[0]>a[2])throw new Error(`Unable to map snap${o?" output":""} range lines correctly`);if(a[0]===a[2]){if(a[1]>a[3]||!o&&a[1]===a[3])throw new Error(`Unable to map snap${o?" output":""} range columns correctly`);if(a[1]===a[3]||l){t=i?i.split("\n").length-1:e[2]-e[0],s=a[0]+t,i=f[s-1].lastIndexOf(r)+1;if(0===i)throw new Error("Unable to map snap output range end correctly");a[2]=s,a[3]=i}if(a[0]===a[2]){e=a[3]-a[1];if((!o&&e<4||o&&e<2)&&(--a[1],!(a=u(a,0,1,n))))throw new Error(`Unable to map snap${o?" output":""} range start`)}}return a};return e.map(e=>{var t=e.body.range,n=e.body.fallbackRange;return e.body.range=r(t,n,"{","}"),e.output&&(t=e.output.range,e.output.range=r(t,e.body.range,"`","`",e.output.content,e.output.lines),delete e.output.content,delete e.output.lines),e}).filter(e=>e.body.range)},textLines:function(e,t,n,r){return(e=_.isUndefined(t)||t===e.length-1?e:e.substr(0,t)).split(_.isUndefined(n)?/\r\n|\r|\n/:n,r)},instrumentableRange:function(e,n){let[r,i,s,o]=n;if(500<s-r)return n;if(!(s<r||s===r&&o<i)){var a=e.value;if(r===s&&i===o&&0<r&&0<=i&&r<=a.length&&i<a[r-1].length+1)return n;r<1&&(r=1),s>a.length&&(s=a.length),i<0&&(i=0);let t=!1;for(let e=r;e<=s;e++){var l=a[e-1],c=(r=e)===s&&o<=l.length?o:l.length;for(let e=i;e<=c;e++)if(i=e,l.charAt(e).trim().length){t=!0;break}if(t)break;i=0}if(t){for(let e=s;e>=r;e--){var u=a[e-1],h=(s!==e&&(s=e,o=u.length),e===r&&0<=r?i:0);let t=!1;for(let e=o;e>=h;e--){if(u.charAt(e).trim().length){t=!0;break}o=e}if(t)break}return[r,i,s,o]}}},instrumentableLogpointRange(e,t){var[n,r,i,s]=t;if(n===i){i=e.value[n-1];if(void 0===i||""===i.trim())return;if(r===s)return s=i.trimEnd().length-1,0===r||s<=r?[n,1+s,n,1+s]:i[r].trim().length?[n,r,n,r]:(s=i.substring(0,r).trimEnd().length)?[n,s-1,n,s-1]:[n,s=i.length-i.substring(r).trimStart().length,n,s]}return this.instrumentableRange(e,t)},verifyLocalOrigin:function(e,t){if(!e)return!0;var n=!1;try{var r=p("url").parse(e).hostname,n="localhost"===r||"0.0.0.0"===r||"127.0.0.1"===r||"::1"===r}catch(e){}return n||t||emitDiagnostic({name:"genericError",args:["wallaby.js refused to accept connection from "+e]}),n},patchModule:function(t,n){var e=p("module").Module.prototype,r=e.require;e.require=function(e){return e===t?n(r.bind(this)):r.call(this,e)}},patchModulesCode:function(e,i){const s={},t=(e.forEach(t=>{t.files.forEach(e=>{s[e]=(s[e]||[]).concat(t.replacements)})}),"node_modules/"),o=a.readFileSync;a.readFileSync=function(n){let r=o.apply(this,arguments);var e=(e=n)?(e=(e="string"!=typeof e?"file://"===e.protocol?e.pathname||"":e.toString():e).replace(/\\/g,"/")).substr(e.lastIndexOf(t)+t.length):"",e=s[e];return e&&(r=r.toString(),e.forEach(e=>{var t=r;if(r=r.split(e.from).join(e.to),!e.optional&&r===t){if(process.env.WALLABY_INTEGRATION_TEST_RUN)throw new Error(`${i||"Possibly incompatible/unsupported"} (${n})`);emitDiagnostic({name:"possiblyIncompatiblePatch",message:`${i||"Possibly incompatible/unsupported"} (${n})`})}})),r}},requireModuleFrom:function(t,n){try{return p(g.join(t,"node_modules",n))}catch(e){var r=p("module"),i=new r(".",null);return i.filename=g.join(t,"wallaby.js"),i.paths=r._nodeModulePaths(t),r._load(n,i,!1)}},resolveModulePathFrom:function(e,t){var n=p("module"),r=new n(".",null);return r.filename=g.join(e,"wallaby.js"),r.paths=n._nodeModulePaths(e),n._resolveFilename(t,r,!1)},tryRequireModuleWithPathFrom:function(t,n,r){try{var i=p("module"),s=new i(".",null),o=(s.filename=g.join(t,"wallaby.js"),s.paths=i._nodeModulePaths(t),i._resolveFilename(n,s,!1));let e;return{module:(e=process.env.WALLABY_INTEGRATION_TEST_RUN||process.env.WALLABY_UNIT_TEST_RUN?p(o):i._load(n,s,!1))&&e.default||e,moduleExports:e,path:o}}catch(e){if(r)throw e}},nodeModulesLookup:function(n,t){var e=p("module").Module,r=e.prototype,i=e._nodeModulePaths,s=r.require;e._nodeModulePaths=function(e){var t=i.call(this,e);return n(t,e,i,this),t},t&&(r.require=function(e){return s.call(this,t(e))})},nodeModulePaths:function(e){return p("module")._nodeModulePaths(e)},patchBabelResolve:function(e){const r=this.nodeModulePaths(e);this.patchModule("resolve",e=>{e=e("resolve");const n=e.sync;return e.sync=function(e,t){return~e.indexOf("babel")&&t&&(t.paths=(t.paths||[]).concat(r)),n.apply(this,arguments)},e})},hasAnsi:function(e){return e&&"string"==typeof e&&e.match(c)},removeAnsi:function(e){return e&&"string"==typeof e?e.replace(c,""):e},maybeHtml:function(e){return e=e.trim().slice(0,500),v.test(e)||y.test(e)},copyToClipboard:function(e){var t=e=>e&&emitDiagnostic({name:"genericWarning",args:["May have failed to copy to clipboard. "+("linux"===process.platform?'Linux/Ubuntu environments require "xclip" to be installed. ':"")+(e&&e.message)]});try{p("copy-paste").copy(e,t)}catch(e){t(e)}},testFileSelection:function(e,t,n,r){if(_.isString(t)){const c=t;t={test:e=>!!~e.indexOf(c)}}if(_.isString(n)){const u=n;n={test:e=>!!~e.indexOf(u)}}let i=!1,s=!1,o;var a={};for(h.lastIndex=0;null!==(o=h.exec(e));){var l=o.index+o[0].length;for(let e=o.index;e<l;e++)a[e]=1;i=i||t.test(o[0]),s=s||n.test(o[0])}if(!i&&r)for(f.lastIndex=0;null!==(o=f.exec(e));)if(!a[o.index]){i=!0;break}return{includedTestFile:i,excludedTestFile:s}},codeFrame:function(e,t,n,o){e=this.textLines(e),n={start:{column:n,line:t}};const{start:a,end:r,markerLines:l}=function(e,t,n){var r=Object.assign({column:0,line:-1},e.start),e=Object.assign(Object.assign({},r),e.end),{linesAbove:n=2,linesBelow:i=3}=n||{},s=r.line,o=r.column,r=e.line,a=e.column;let l=Math.max(s-(n+1),0),c=Math.min(t.length,r+i);-1===s&&(l=0),-1===r&&(c=t.length);var u=r-s,h={};if(u)for(let e=0;e<=u;e++){var f,d=e+s;o?0===e?(f=t[d-1].length,h[d]=[o,f-o]):e===u?h[d]=[0,a]:(f=t[d-e].length,h[d]=[0,f]):h[d]=!0}else h[s]=o===a?!o||[o,0]:[o,a-o];return{start:l,end:c,markerLines:h}}(n,e);t=n.start&&"number"==typeof n.start.column;const c=String(r).length;let i=e.slice(a,r).map((t,n)=>{var r,n=a+1+n,i=` ${(" "+n).slice(-c)} | `,s=l[n],n=!l[n+1];if(s){let e="";return Array.isArray(s)&&(r=t.slice(0,Math.max(s[0]-1,0)).replace(/[^\t]/g," "),s=s[1]||1,e=["\n ",i.replace(/\d/g," "),r,"^".repeat(s)].join(""),n)&&o&&(e+=" "+o),[">",i,t,e].join("")}return" "+i+t}).join("\n");return i=t?i:""+" ".repeat(c+1)+o+`
`+i},loadJest:async function(t,e,n){let r,i=!1;try{var s=p(g.resolve(t,"package.json")),o=s&&s.scripts,a=s&&s.devDependencies||{},l=s&&s.dependencies||{};i=!!a.jest||!!l["react-scripts"]||!!l.jest,o&&o.test&&-1!==o.test.indexOf("react-app-rewired")?(this.tryRequireModuleWithPathFrom(t,"react-app-rewired/scripts/test"),this.tryRequireModuleWithPathFrom(t,"react-scripts/config/env"),r=this.tryRequireModuleWithPathFrom(t,"react-scripts/scripts/utils/createJestConfig")):!(o&&o.test&&-1!==o.test.indexOf("react-scripts")||!a)&&a.jest||o&&o.test&&-1!==o.test.indexOf("jest")&&-1===o.test.indexOf("react-scripts")||(r=this.tryRequireModuleWithPathFrom(t,"react-scripts/scripts/utils/createJestConfig"),this.tryRequireModuleWithPathFrom(t,"react-scripts/config/env"))}catch(e){r=void 0}let c,u;e=e&&(g.isAbsolute(e)?e:g.resolve(g.join(t,e)));s=(c=e?this.tryRequireModuleWithPathFrom(e,"jest"):r?this.tryRequireModuleWithPathFrom(r.path,"jest"):this.tryRequireModuleWithPathFrom(t,"jest"))?c.path:t;let h,f="x.x.x";const d=this.tryRequireModuleWithPathFrom(s,"jest-cli");if(!d)throw new Error(`Module jest-cli is not found in '${t}'.`);l=d.module.getVersion?()=>d.module.getVersion():c&&c.module.getVersion?()=>c.module.getVersion():void 0;if(!l)throw new Error("Cannot find compatible jest-cli module.");{let e=0;try{f=l(),e=parseInt(f.split(".")[0])}catch(e){throw new Error(`Cannot detect/parse jest-cli module version: ${e.message}.`)}if(e<24)throw new Error(`Only Jest v24.x or higher is supported, but found v${f} at '${d.path}'.`)}if(u=this.tryRequireModuleWithPathFrom(d.path,"jest-config"))try{n=n&&(g.isAbsolute(n)?n:g.resolve(g.join(t,n))),(h=await u.module.readConfigs(n?{config:n}:r?{config:JSON.stringify(r.module(e=>g.resolve(r.path,"../../..",e)))}:{},[t])).globalConfig=Object.assign({},h.globalConfig),h.configs=(h.configs||[]).filter(e=>"jest-runner"===e.runner||~this.normalizePath(e.runner||"").indexOf("node_modules/jest-runner/")||"jest-runner-groups"===e.runner||~this.normalizePath(e.runner||"").indexOf("node_modules/jest-runner-groups/")).map(e=>Object.assign({},e))}catch(e){throw new Error(`Failed to read Jest configuration from '${t}': `+(e.stack||"unknown."))}if(!h)throw new Error(`Failed to read Jest configuration from '${t}'.`);if(h.configs.length)return{jestConfig:h,jestCLI:d,jestConfigLoader:u,isDirectDependency:i,version:f};throw new Error(`Can not find any Jest runner configurations in '${t}'.`)},serializeRegExp:function(e){if(_.isRegExp(e))return"__REGEXP "+e.toString();if(_.isString(e))return e;throw new Error("Must pass a string or a regular expression")},deserializeRegExp:function(e){var t;return 0===e.indexOf("__REGEXP ")?(t=e.split("__REGEXP ")[1].match(/\/(.*)\/(.*)?/),new RegExp(t[1],t[2]||"")):e},generateNodeModulesExcludesForIncludePatterns:function(e){e=e.map(e=>e.split("/")).filter(e=>"node_modules"===e[0]).reduce((e,t)=>{let n=e;for(let e=0;e<t.length;e++)n.has(t[e])||n.set(t[e],new Map),n=n.get(t[e]);return e},new Map);if(0===e.size)return["node_modules/**"];const r=(t,n)=>{var e=Array.from(t.keys());return 0===e.length?[]:[`${n}/!(${e.join("|")})/**`,...e.map(e=>r(t.get(e),n+"/"+e)).reduce((e,t)=>e.concat(t),[])]};return r(e.get("node_modules"),"node_modules")},isJavaScript:w,isTypeScript:C,isVue:E,isSvelte:M,isCoffeeScript:T,isCoverable:(e,t,n)=>!!(w(e,n)||C(e)||E(e)||T(e,t)||M(e)),quickHash:function(e){var t,n,r=0;if(0<e.length)for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},isDocker:x,isWsl:()=>{var e=p("os");if("linux"!==process.platform)return!1;if(e.release().toLowerCase().includes("microsoft"))return!x();try{return!!a.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!x()}catch(e){return!1}},wslHostIpAddress:()=>{var e=a.readFileSync("/etc/resolv.conf").toString().split("\n").map(e=>e.split(" ")).filter(e=>"nameserver"===e[0]).map(e=>1<e.length&&e[1]);return 1<=e.length?e[0]:"127.0.0.1"},lazyLoadDependencyReplacement:(e,t,{doubleQuotes:n,dependencyOverride:r,replaceBothDependencyAndDependencyOverride:i,varType:s}={})=>{n=n?`require("${t}")`:`require('${t}')`,t=r||n,r=[{from:""+e,to:e+"()",optional:!0},{from:(s=s||"var")+` ${e}() = ${t};`,to:`var ${e} = function() { const data = ${t}; ${e} = function() { return data; }; return data; }`,optional:!0}];return i&&r.push({from:s+` ${e}() = ${n};`,to:`var ${e} = function() { const data = ${n}; ${e} = function() { return data; }; return data; }`,optional:!0}),r},findFirstFileMatchingContentInDirectory(e,s){return a.existsSync(e)?n(function e(t){for(const i of a.readdirSync(t)){var n=g.resolve(g.join(t,i));if(a.statSync(n).isDirectory()){var r=e(n);if(r)return r}else if((i.endsWith(".js")||i.endsWith(".mjs"))&&-1!==a.readFileSync(n,"utf8").indexOf(s))return n}}(e)):""},mergeDeep(e,...t){return _.merge(e,...t)},jestTsNodePatch:function(){return{files:["jest-config/build/readConfigFileAndSetRootDir.js","jest-config/build/index.js"],replacements:[{from:"const tsNode = await import('ts-node');",to:`const tsNode = require('${n(g.join(g.dirname(process.mainModule.filename),"node_modules","ts-node","dist","index.js"))}');`,optional:!0},{from:"compilerOptions: {",to:`swc: false, transpileOnly: true, transpiler: [ '${n(g.join(g.dirname(process.mainModule.filename),"node_modules","ts-node","dist","transpilers","swc.js"))}', { swc: '${n(g.join(g.dirname(process.mainModule.filename),"node_modules","@swc","wasm"))}' }], compilerOptions: { experimentalDecorators: false, esModuleInterop: true, `,optional:!0}]}}}},{"./extension/shared/utils":6,"copy-paste":void 0,fs:void 0,micromatch:void 0,module:void 0,os:void 0,path:void 0,"source-map":void 0,url:void 0}]},{},[1]);