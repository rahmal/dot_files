"use strict";var EW=Object.create;var qm=Object.defineProperty;var SW=Object.getOwnPropertyDescriptor;var wW=Object.getOwnPropertyNames;var IW=Object.getPrototypeOf,AW=Object.prototype.hasOwnProperty;var PW=(e,t,r)=>t in e?qm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var s=(e,t)=>qm(e,"name",{value:t,configurable:!0});var E0=(e,t)=>()=>(e&&(t=e(e=0)),t);var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var RW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wW(t))!AW.call(e,i)&&i!==r&&qm(e,i,{get:()=>t[i],enumerable:!(n=SW(t,i))||n.enumerable});return e};var O0=(e,t,r)=>(r=e!=null?EW(IW(e)):{},RW(t||!e||!e.__esModule?qm(r,"default",{value:e,enumerable:!0}):r,e));var tn=(e,t,r)=>(PW(e,typeof t!="symbol"?t+"":t,r),r),Hx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var je=(e,t,r)=>(Hx(e,t,"read from private field"),r?r.call(e):t.get(e)),P0=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},v0=(e,t,r,n)=>(Hx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Li=(e,t,r)=>(Hx(e,t,"access private method"),r);var es=ae(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Type=ee.JsonType=ee.JavaScriptTypeBuilder=ee.JsonTypeBuilder=ee.TypeBuilder=ee.TypeBuilderError=ee.TransformEncodeBuilder=ee.TransformDecodeBuilder=ee.TemplateLiteralDslParser=ee.TemplateLiteralGenerator=ee.TemplateLiteralGeneratorError=ee.TemplateLiteralFinite=ee.TemplateLiteralFiniteError=ee.TemplateLiteralParser=ee.TemplateLiteralParserError=ee.TemplateLiteralResolver=ee.TemplateLiteralPattern=ee.TemplateLiteralPatternError=ee.UnionResolver=ee.KeyArrayResolver=ee.KeyArrayResolverError=ee.KeyResolver=ee.ObjectMap=ee.Intrinsic=ee.IndexedAccessor=ee.TypeClone=ee.TypeExtends=ee.TypeExtendsResult=ee.TypeExtendsError=ee.ExtendsUndefined=ee.TypeGuard=ee.TypeGuardUnknownTypeError=ee.ValueGuard=ee.FormatRegistry=ee.TypeBoxError=ee.TypeRegistry=ee.PatternStringExact=ee.PatternNumberExact=ee.PatternBooleanExact=ee.PatternString=ee.PatternNumber=ee.PatternBoolean=ee.Kind=ee.Hint=ee.Optional=ee.Readonly=ee.Transform=void 0;ee.Transform=Symbol.for("TypeBox.Transform");ee.Readonly=Symbol.for("TypeBox.Readonly");ee.Optional=Symbol.for("TypeBox.Optional");ee.Hint=Symbol.for("TypeBox.Hint");ee.Kind=Symbol.for("TypeBox.Kind");ee.PatternBoolean="(true|false)";ee.PatternNumber="(0|[1-9][0-9]*)";ee.PatternString="(.*)";ee.PatternBooleanExact=`^${ee.PatternBoolean}$`;ee.PatternNumberExact=`^${ee.PatternNumber}$`;ee.PatternStringExact=`^${ee.PatternString}$`;var Vx;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(Vx||(ee.TypeRegistry=Vx={}));var Yx=class Yx extends Error{constructor(t){super(t)}};s(Yx,"TypeBoxError");var Ho=Yx;ee.TypeBoxError=Ho;var qk;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(qk||(ee.FormatRegistry=qk={}));var ct;(function(e){function t(d){return Array.isArray(d)}s(t,"IsArray"),e.IsArray=t;function r(d){return typeof d=="bigint"}s(r,"IsBigInt"),e.IsBigInt=r;function n(d){return typeof d=="boolean"}s(n,"IsBoolean"),e.IsBoolean=n;function i(d){return d instanceof globalThis.Date}s(i,"IsDate"),e.IsDate=i;function o(d){return d===null}s(o,"IsNull"),e.IsNull=o;function a(d){return typeof d=="number"}s(a,"IsNumber"),e.IsNumber=a;function l(d){return typeof d=="object"&&d!==null}s(l,"IsObject"),e.IsObject=l;function f(d){return typeof d=="string"}s(f,"IsString"),e.IsString=f;function c(d){return d instanceof globalThis.Uint8Array}s(c,"IsUint8Array"),e.IsUint8Array=c;function u(d){return d===void 0}s(u,"IsUndefined"),e.IsUndefined=u})(ct||(ee.ValueGuard=ct={}));var Xx=class Xx extends Ho{};s(Xx,"TypeGuardUnknownTypeError");var zx=Xx;ee.TypeGuardUnknownTypeError=zx;var re;(function(e){function t(H){try{return new RegExp(H),!0}catch{return!1}}s(t,"IsPattern");function r(H){if(!ct.IsString(H))return!1;for(let $t=0;$t<H.length;$t++){let vt=H.charCodeAt($t);if(vt>=7&&vt<=13||vt===27||vt===127)return!1}return!0}s(r,"IsControlCharacterFree");function n(H){return a(H)||Lt(H)}s(n,"IsAdditionalProperties");function i(H){return ct.IsUndefined(H)||ct.IsBigInt(H)}s(i,"IsOptionalBigInt");function o(H){return ct.IsUndefined(H)||ct.IsNumber(H)}s(o,"IsOptionalNumber");function a(H){return ct.IsUndefined(H)||ct.IsBoolean(H)}s(a,"IsOptionalBoolean");function l(H){return ct.IsUndefined(H)||ct.IsString(H)}s(l,"IsOptionalString");function f(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)&&t(H)}s(f,"IsOptionalPattern");function c(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)}s(c,"IsOptionalFormat");function u(H){return ct.IsUndefined(H)||Lt(H)}s(u,"IsOptionalSchema");function d(H){return L(H,"Any")&&l(H.$id)}s(d,"TAny"),e.TAny=d;function g(H){return L(H,"Array")&&H.type==="array"&&l(H.$id)&&Lt(H.items)&&o(H.minItems)&&o(H.maxItems)&&a(H.uniqueItems)&&u(H.contains)&&o(H.minContains)&&o(H.maxContains)}s(g,"TArray"),e.TArray=g;function p(H){return L(H,"AsyncIterator")&&H.type==="AsyncIterator"&&l(H.$id)&&Lt(H.items)}s(p,"TAsyncIterator"),e.TAsyncIterator=p;function y(H){return L(H,"BigInt")&&H.type==="bigint"&&l(H.$id)&&i(H.exclusiveMaximum)&&i(H.exclusiveMinimum)&&i(H.maximum)&&i(H.minimum)&&i(H.multipleOf)}s(y,"TBigInt"),e.TBigInt=y;function _(H){return L(H,"Boolean")&&H.type==="boolean"&&l(H.$id)}s(_,"TBoolean"),e.TBoolean=_;function S(H){return L(H,"Constructor")&&H.type==="Constructor"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(S,"TConstructor"),e.TConstructor=S;function E(H){return L(H,"Date")&&H.type==="Date"&&l(H.$id)&&o(H.exclusiveMaximumTimestamp)&&o(H.exclusiveMinimumTimestamp)&&o(H.maximumTimestamp)&&o(H.minimumTimestamp)&&o(H.multipleOfTimestamp)}s(E,"TDate"),e.TDate=E;function A(H){return L(H,"Function")&&H.type==="Function"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(A,"TFunction"),e.TFunction=A;function P(H){return L(H,"Integer")&&H.type==="integer"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(P,"TInteger"),e.TInteger=P;function U(H){return L(H,"Intersect")&&!(ct.IsString(H.type)&&H.type!=="object")&&ct.IsArray(H.allOf)&&H.allOf.every($t=>Lt($t)&&!dt($t))&&l(H.type)&&(a(H.unevaluatedProperties)||u(H.unevaluatedProperties))&&l(H.$id)}s(U,"TIntersect"),e.TIntersect=U;function k(H){return L(H,"Iterator")&&H.type==="Iterator"&&l(H.$id)&&Lt(H.items)}s(k,"TIterator"),e.TIterator=k;function L(H,$t){return Q(H)&&H[ee.Kind]===$t}s(L,"TKindOf"),e.TKindOf=L;function Q(H){return ct.IsObject(H)&&ee.Kind in H&&ct.IsString(H[ee.Kind])}s(Q,"TKind"),e.TKind=Q;function te(H){return pe(H)&&ct.IsString(H.const)}s(te,"TLiteralString"),e.TLiteralString=te;function Ce(H){return pe(H)&&ct.IsNumber(H.const)}s(Ce,"TLiteralNumber"),e.TLiteralNumber=Ce;function De(H){return pe(H)&&ct.IsBoolean(H.const)}s(De,"TLiteralBoolean"),e.TLiteralBoolean=De;function pe(H){return L(H,"Literal")&&l(H.$id)&&(ct.IsBoolean(H.const)||ct.IsNumber(H.const)||ct.IsString(H.const))}s(pe,"TLiteral"),e.TLiteral=pe;function Ie(H){return L(H,"Never")&&ct.IsObject(H.not)&&Object.getOwnPropertyNames(H.not).length===0}s(Ie,"TNever"),e.TNever=Ie;function ie(H){return L(H,"Not")&&Lt(H.not)}s(ie,"TNot"),e.TNot=ie;function Z(H){return L(H,"Null")&&H.type==="null"&&l(H.$id)}s(Z,"TNull"),e.TNull=Z;function _e(H){return L(H,"Number")&&H.type==="number"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(_e,"TNumber"),e.TNumber=_e;function Ae(H){return L(H,"Object")&&H.type==="object"&&l(H.$id)&&ct.IsObject(H.properties)&&n(H.additionalProperties)&&o(H.minProperties)&&o(H.maxProperties)&&Object.entries(H.properties).every(([$t,vt])=>r($t)&&Lt(vt))}s(Ae,"TObject"),e.TObject=Ae;function be(H){return L(H,"Promise")&&H.type==="Promise"&&l(H.$id)&&Lt(H.item)}s(be,"TPromise"),e.TPromise=be;function Ke(H){return L(H,"Record")&&H.type==="object"&&l(H.$id)&&n(H.additionalProperties)&&ct.IsObject(H.patternProperties)&&($t=>{let vt=Object.getOwnPropertyNames($t.patternProperties);return vt.length===1&&t(vt[0])&&ct.IsObject($t.patternProperties)&&Lt($t.patternProperties[vt[0]])})(H)}s(Ke,"TRecord"),e.TRecord=Ke;function ce(H){return ct.IsObject(H)&&ee.Hint in H&&H[ee.Hint]==="Recursive"}s(ce,"TRecursive"),e.TRecursive=ce;function ve(H){return L(H,"Ref")&&l(H.$id)&&ct.IsString(H.$ref)}s(ve,"TRef"),e.TRef=ve;function le(H){return L(H,"String")&&H.type==="string"&&l(H.$id)&&o(H.minLength)&&o(H.maxLength)&&f(H.pattern)&&c(H.format)}s(le,"TString"),e.TString=le;function Ee(H){return L(H,"Symbol")&&H.type==="symbol"&&l(H.$id)}s(Ee,"TSymbol"),e.TSymbol=Ee;function mt(H){return L(H,"TemplateLiteral")&&H.type==="string"&&ct.IsString(H.pattern)&&H.pattern[0]==="^"&&H.pattern[H.pattern.length-1]==="$"}s(mt,"TTemplateLiteral"),e.TTemplateLiteral=mt;function Et(H){return L(H,"This")&&l(H.$id)&&ct.IsString(H.$ref)}s(Et,"TThis"),e.TThis=Et;function dt(H){return ct.IsObject(H)&&ee.Transform in H}s(dt,"TTransform"),e.TTransform=dt;function ze(H){return L(H,"Tuple")&&H.type==="array"&&l(H.$id)&&ct.IsNumber(H.minItems)&&ct.IsNumber(H.maxItems)&&H.minItems===H.maxItems&&(ct.IsUndefined(H.items)&&ct.IsUndefined(H.additionalItems)&&H.minItems===0||ct.IsArray(H.items)&&H.items.every($t=>Lt($t)))}s(ze,"TTuple"),e.TTuple=ze;function n0(H){return L(H,"Undefined")&&H.type==="undefined"&&l(H.$id)}s(n0,"TUndefined"),e.TUndefined=n0;function G(H){return Je(H)&&H.anyOf.every($t=>te($t)||Ce($t))}s(G,"TUnionLiteral"),e.TUnionLiteral=G;function Je(H){return L(H,"Union")&&l(H.$id)&&ct.IsObject(H)&&ct.IsArray(H.anyOf)&&H.anyOf.every($t=>Lt($t))}s(Je,"TUnion"),e.TUnion=Je;function he(H){return L(H,"Uint8Array")&&H.type==="Uint8Array"&&l(H.$id)&&o(H.minByteLength)&&o(H.maxByteLength)}s(he,"TUint8Array"),e.TUint8Array=he;function Xe(H){return L(H,"Unknown")&&l(H.$id)}s(Xe,"TUnknown"),e.TUnknown=Xe;function Ve(H){return L(H,"Unsafe")}s(Ve,"TUnsafe"),e.TUnsafe=Ve;function nt(H){return L(H,"Void")&&H.type==="void"&&l(H.$id)}s(nt,"TVoid"),e.TVoid=nt;function wt(H){return ct.IsObject(H)&&H[ee.Readonly]==="Readonly"}s(wt,"TReadonly"),e.TReadonly=wt;function Mt(H){return ct.IsObject(H)&&H[ee.Optional]==="Optional"}s(Mt,"TOptional"),e.TOptional=Mt;function Lt(H){return ct.IsObject(H)&&(d(H)||g(H)||_(H)||y(H)||p(H)||S(H)||E(H)||A(H)||P(H)||U(H)||k(H)||pe(H)||Ie(H)||ie(H)||Z(H)||_e(H)||Ae(H)||be(H)||Ke(H)||ve(H)||le(H)||Ee(H)||mt(H)||Et(H)||ze(H)||n0(H)||Je(H)||he(H)||Xe(H)||Ve(H)||nt(H)||Q(H)&&Vx.Has(H[ee.Kind]))}s(Lt,"TSchema"),e.TSchema=Lt})(re||(ee.TypeGuard=re={}));var jk;(function(e){function t(r){return r[ee.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[ee.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[ee.Kind]==="Undefined"?!0:r[ee.Kind]==="Not"?!t(r.not):!1}s(t,"Check"),e.Check=t})(jk||(ee.ExtendsUndefined=jk={}));var Jx=class Jx extends Ho{};s(Jx,"TypeExtendsError");var jm=Jx;ee.TypeExtendsError=jm;var Oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(Oe||(ee.TypeExtendsResult=Oe={}));var Nu;(function(e){function t(N){return N===Oe.False?N:Oe.True}s(t,"IntoBooleanResult");function r(N){throw new jm(N)}s(r,"Throw");function n(N){return re.TNever(N)||re.TIntersect(N)||re.TUnion(N)||re.TUnknown(N)||re.TAny(N)}s(n,"IsStructuralRight");function i(N,B){return re.TNever(B)?L(N,B):re.TIntersect(B)?A(N,B):re.TUnion(B)?pr(N,B):re.TUnknown(B)?Wr(N,B):re.TAny(B)?o(N,B):r("StructuralRight")}s(i,"StructuralRight");function o(N,B){return Oe.True}s(o,"TAnyRight");function a(N,B){return re.TIntersect(B)?A(N,B):re.TUnion(B)&&B.anyOf.some(Ye=>re.TAny(Ye)||re.TUnknown(Ye))?Oe.True:re.TUnion(B)?Oe.Union:re.TUnknown(B)||re.TAny(B)?Oe.True:Oe.Union}s(a,"TAny");function l(N,B){return re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:re.TNever(N)?Oe.True:Oe.False}s(l,"TArrayRight");function f(N,B){return re.TObject(B)&&mt(B)?Oe.True:n(B)?i(N,B):re.TArray(B)?t(Xt(N.items,B.items)):Oe.False}s(f,"TArray");function c(N,B){return n(B)?i(N,B):re.TAsyncIterator(B)?t(Xt(N.items,B.items)):Oe.False}s(c,"TAsyncIterator");function u(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TBigInt(B)?Oe.True:Oe.False}s(u,"TBigInt");function d(N,B){return re.TLiteral(N)&&ct.IsBoolean(N.const)||re.TBoolean(N)?Oe.True:Oe.False}s(d,"TBooleanRight");function g(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TBoolean(B)?Oe.True:Oe.False}s(g,"TBoolean");function p(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TConstructor(B)?N.parameters.length>B.parameters.length?Oe.False:N.parameters.every((Ye,Vt)=>t(Xt(B.parameters[Vt],Ye))===Oe.True)?t(Xt(N.returns,B.returns)):Oe.False:Oe.False}s(p,"TConstructor");function y(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TDate(B)?Oe.True:Oe.False}s(y,"TDate");function _(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TFunction(B)?N.parameters.length>B.parameters.length?Oe.False:N.parameters.every((Ye,Vt)=>t(Xt(B.parameters[Vt],Ye))===Oe.True)?t(Xt(N.returns,B.returns)):Oe.False:Oe.False}s(_,"TFunction");function S(N,B){return re.TLiteral(N)&&ct.IsNumber(N.const)||re.TNumber(N)||re.TInteger(N)?Oe.True:Oe.False}s(S,"TIntegerRight");function E(N,B){return re.TInteger(B)||re.TNumber(B)?Oe.True:n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):Oe.False}s(E,"TInteger");function A(N,B){return B.allOf.every(Ye=>Xt(N,Ye)===Oe.True)?Oe.True:Oe.False}s(A,"TIntersectRight");function P(N,B){return N.allOf.some(Ye=>Xt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(P,"TIntersect");function U(N,B){return n(B)?i(N,B):re.TIterator(B)?t(Xt(N.items,B.items)):Oe.False}s(U,"TIterator");function k(N,B){return re.TLiteral(B)&&B.const===N.const?Oe.True:n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TString(B)?nt(N,B):re.TNumber(B)?pe(N,B):re.TInteger(B)?S(N,B):re.TBoolean(B)?d(N,B):Oe.False}s(k,"TLiteral");function L(N,B){return Oe.False}s(L,"TNeverRight");function Q(N,B){return Oe.True}s(Q,"TNever");function te(N){let[B,Ye]=[N,0];for(;re.TNot(B);)B=B.not,Ye+=1;return Ye%2===0?B:ee.Type.Unknown()}s(te,"UnwrapTNot");function Ce(N,B){return re.TNot(N)?Xt(te(N),B):re.TNot(B)?Xt(N,te(B)):r("Invalid fallthrough for Not")}s(Ce,"TNot");function De(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TNull(B)?Oe.True:Oe.False}s(De,"TNull");function pe(N,B){return re.TLiteralNumber(N)||re.TNumber(N)||re.TInteger(N)?Oe.True:Oe.False}s(pe,"TNumberRight");function Ie(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TInteger(B)||re.TNumber(B)?Oe.True:Oe.False}s(Ie,"TNumber");function ie(N,B){return Object.getOwnPropertyNames(N.properties).length===B}s(ie,"IsObjectPropertyCount");function Z(N){return mt(N)}s(Z,"IsObjectStringLike");function _e(N){return ie(N,0)||ie(N,1)&&"description"in N.properties&&re.TUnion(N.properties.description)&&N.properties.description.anyOf.length===2&&(re.TString(N.properties.description.anyOf[0])&&re.TUndefined(N.properties.description.anyOf[1])||re.TString(N.properties.description.anyOf[1])&&re.TUndefined(N.properties.description.anyOf[0]))}s(_e,"IsObjectSymbolLike");function Ae(N){return ie(N,0)}s(Ae,"IsObjectNumberLike");function be(N){return ie(N,0)}s(be,"IsObjectBooleanLike");function Ke(N){return ie(N,0)}s(Ke,"IsObjectBigIntLike");function ce(N){return ie(N,0)}s(ce,"IsObjectDateLike");function ve(N){return mt(N)}s(ve,"IsObjectUint8ArrayLike");function le(N){let B=ee.Type.Number();return ie(N,0)||ie(N,1)&&"length"in N.properties&&t(Xt(N.properties.length,B))===Oe.True}s(le,"IsObjectFunctionLike");function Ee(N){return ie(N,0)}s(Ee,"IsObjectConstructorLike");function mt(N){let B=ee.Type.Number();return ie(N,0)||ie(N,1)&&"length"in N.properties&&t(Xt(N.properties.length,B))===Oe.True}s(mt,"IsObjectArrayLike");function Et(N){let B=ee.Type.Function([ee.Type.Any()],ee.Type.Any());return ie(N,0)||ie(N,1)&&"then"in N.properties&&t(Xt(N.properties.then,B))===Oe.True}s(Et,"IsObjectPromiseLike");function dt(N,B){return Xt(N,B)===Oe.False||re.TOptional(N)&&!re.TOptional(B)?Oe.False:Oe.True}s(dt,"Property");function ze(N,B){return re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:re.TNever(N)||re.TLiteralString(N)&&Z(B)||re.TLiteralNumber(N)&&Ae(B)||re.TLiteralBoolean(N)&&be(B)||re.TSymbol(N)&&_e(B)||re.TBigInt(N)&&Ke(B)||re.TString(N)&&Z(B)||re.TSymbol(N)&&_e(B)||re.TNumber(N)&&Ae(B)||re.TInteger(N)&&Ae(B)||re.TBoolean(N)&&be(B)||re.TUint8Array(N)&&ve(B)||re.TDate(N)&&ce(B)||re.TConstructor(N)&&Ee(B)||re.TFunction(N)&&le(B)?Oe.True:re.TRecord(N)&&re.TString(Je(N))?B[ee.Hint]==="Record"?Oe.True:Oe.False:re.TRecord(N)&&re.TNumber(Je(N))?ie(B,0)?Oe.True:Oe.False:Oe.False}s(ze,"TObjectRight");function n0(N,B){return n(B)?i(N,B):re.TRecord(B)?Xe(N,B):re.TObject(B)?(()=>{for(let Ye of Object.getOwnPropertyNames(B.properties)){if(!(Ye in N.properties)&&!re.TOptional(B.properties[Ye]))return Oe.False;if(re.TOptional(B.properties[Ye]))return Oe.True;if(dt(N.properties[Ye],B.properties[Ye])===Oe.False)return Oe.False}return Oe.True})():Oe.False}s(n0,"TObject");function G(N,B){return n(B)?i(N,B):re.TObject(B)&&Et(B)?Oe.True:re.TPromise(B)?t(Xt(N.item,B.item)):Oe.False}s(G,"TPromise");function Je(N){return ee.PatternNumberExact in N.patternProperties?ee.Type.Number():ee.PatternStringExact in N.patternProperties?ee.Type.String():r("Unknown record key pattern")}s(Je,"RecordKey");function he(N){return ee.PatternNumberExact in N.patternProperties?N.patternProperties[ee.PatternNumberExact]:ee.PatternStringExact in N.patternProperties?N.patternProperties[ee.PatternStringExact]:r("Unable to get record value schema")}s(he,"RecordValue");function Xe(N,B){let[Ye,Vt]=[Je(B),he(B)];return re.TLiteralString(N)&&re.TNumber(Ye)&&t(Xt(N,Vt))===Oe.True?Oe.True:re.TUint8Array(N)&&re.TNumber(Ye)||re.TString(N)&&re.TNumber(Ye)||re.TArray(N)&&re.TNumber(Ye)?Xt(N,Vt):re.TObject(N)?(()=>{for(let w0 of Object.getOwnPropertyNames(N.properties))if(dt(Vt,N.properties[w0])===Oe.False)return Oe.False;return Oe.True})():Oe.False}s(Xe,"TRecordRight");function Ve(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xt(he(N),he(B)):Oe.False}s(Ve,"TRecord");function nt(N,B){return re.TLiteral(N)&&ct.IsString(N.const)||re.TString(N)?Oe.True:Oe.False}s(nt,"TStringRight");function wt(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TString(B)?Oe.True:Oe.False}s(wt,"TString");function Mt(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TSymbol(B)?Oe.True:Oe.False}s(Mt,"TSymbol");function Lt(N,B){return re.TTemplateLiteral(N)?Xt(Ml.Resolve(N),B):re.TTemplateLiteral(B)?Xt(N,Ml.Resolve(B)):r("Invalid fallthrough for TemplateLiteral")}s(Lt,"TTemplateLiteral");function H(N,B){return re.TArray(B)&&N.items!==void 0&&N.items.every(Ye=>Xt(Ye,B.items)===Oe.True)}s(H,"IsArrayOfTuple");function $t(N,B){return re.TNever(N)?Oe.True:re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:Oe.False}s($t,"TTupleRight");function vt(N,B){return n(B)?i(N,B):re.TObject(B)&&mt(B)||re.TArray(B)&&H(N,B)?Oe.True:re.TTuple(B)?ct.IsUndefined(N.items)&&!ct.IsUndefined(B.items)||!ct.IsUndefined(N.items)&&ct.IsUndefined(B.items)?Oe.False:ct.IsUndefined(N.items)&&!ct.IsUndefined(B.items)||N.items.every((Ye,Vt)=>Xt(Ye,B.items[Vt])===Oe.True)?Oe.True:Oe.False:Oe.False}s(vt,"TTuple");function sr(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TUint8Array(B)?Oe.True:Oe.False}s(sr,"TUint8Array");function X0(N,B){return n(B)?i(N,B):re.TObject(B)?ze(N,B):re.TRecord(B)?Xe(N,B):re.TVoid(B)?Un(N,B):re.TUndefined(B)?Oe.True:Oe.False}s(X0,"TUndefined");function pr(N,B){return B.anyOf.some(Ye=>Xt(N,Ye)===Oe.True)?Oe.True:Oe.False}s(pr,"TUnionRight");function J0(N,B){return N.anyOf.every(Ye=>Xt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(J0,"TUnion");function Wr(N,B){return Oe.True}s(Wr,"TUnknownRight");function mn(N,B){return re.TNever(B)?L(N,B):re.TIntersect(B)?A(N,B):re.TUnion(B)?pr(N,B):re.TAny(B)?o(N,B):re.TString(B)?nt(N,B):re.TNumber(B)?pe(N,B):re.TInteger(B)?S(N,B):re.TBoolean(B)?d(N,B):re.TArray(B)?l(N,B):re.TTuple(B)?$t(N,B):re.TObject(B)?ze(N,B):re.TUnknown(B)?Oe.True:Oe.False}s(mn,"TUnknown");function Un(N,B){return re.TUndefined(N)||re.TUndefined(N)?Oe.True:Oe.False}s(Un,"VoidRight");function gn(N,B){return re.TIntersect(B)?A(N,B):re.TUnion(B)?pr(N,B):re.TUnknown(B)?Wr(N,B):re.TAny(B)?o(N,B):re.TObject(B)?ze(N,B):re.TVoid(B)?Oe.True:Oe.False}s(gn,"TVoid");function Xt(N,B){return re.TTemplateLiteral(N)||re.TTemplateLiteral(B)?Lt(N,B):re.TNot(N)||re.TNot(B)?Ce(N,B):re.TAny(N)?a(N,B):re.TArray(N)?f(N,B):re.TBigInt(N)?u(N,B):re.TBoolean(N)?g(N,B):re.TAsyncIterator(N)?c(N,B):re.TConstructor(N)?p(N,B):re.TDate(N)?y(N,B):re.TFunction(N)?_(N,B):re.TInteger(N)?E(N,B):re.TIntersect(N)?P(N,B):re.TIterator(N)?U(N,B):re.TLiteral(N)?k(N,B):re.TNever(N)?Q(N,B):re.TNull(N)?De(N,B):re.TNumber(N)?Ie(N,B):re.TObject(N)?n0(N,B):re.TRecord(N)?Ve(N,B):re.TString(N)?wt(N,B):re.TSymbol(N)?Mt(N,B):re.TTuple(N)?vt(N,B):re.TPromise(N)?G(N,B):re.TUint8Array(N)?sr(N,B):re.TUndefined(N)?X0(N,B):re.TUnion(N)?J0(N,B):re.TUnknown(N)?mn(N,B):re.TVoid(N)?gn(N,B):r(`Unknown left type operand '${N[ee.Kind]}'`)}s(Xt,"Visit");function Y(N,B){return Xt(N,B)}s(Y,"Extends"),e.Extends=Y})(Nu||(ee.TypeExtends=Nu={}));var Ft;(function(e){function t(f){return f.map(c=>o(c))}s(t,"ArrayType");function r(f){return new Date(f.getTime())}s(r,"DateType");function n(f){return new Uint8Array(f)}s(n,"Uint8ArrayType");function i(f){let c=Object.getOwnPropertyNames(f).reduce((d,g)=>({...d,[g]:o(f[g])}),{}),u=Object.getOwnPropertySymbols(f).reduce((d,g)=>({...d,[g]:o(f[g])}),{});return{...c,...u}}s(i,"ObjectType");function o(f){return ct.IsArray(f)?t(f):ct.IsDate(f)?r(f):ct.IsUint8Array(f)?n(f):ct.IsObject(f)?i(f):f}s(o,"Visit");function a(f){return f.map(c=>l(c))}s(a,"Rest"),e.Rest=a;function l(f,c={}){return{...o(f),...c}}s(l,"Type"),e.Type=l})(Ft||(ee.TypeClone=Ft={}));var Kx;(function(e){function t(p){return p.map(y=>{let{[ee.Optional]:_,...S}=Ft.Type(y);return S})}s(t,"OptionalUnwrap");function r(p){return p.every(y=>re.TOptional(y))}s(r,"IsIntersectOptional");function n(p){return p.some(y=>re.TOptional(y))}s(n,"IsUnionOptional");function i(p){return r(p.allOf)?ee.Type.Optional(ee.Type.Intersect(t(p.allOf))):p}s(i,"ResolveIntersect");function o(p){return n(p.anyOf)?ee.Type.Optional(ee.Type.Union(t(p.anyOf))):p}s(o,"ResolveUnion");function a(p){return p[ee.Kind]==="Intersect"?i(p):p[ee.Kind]==="Union"?o(p):p}s(a,"ResolveOptional");function l(p,y){let _=p.allOf.reduce((S,E)=>{let A=d(E,y);return A[ee.Kind]==="Never"?S:[...S,A]},[]);return a(ee.Type.Intersect(_))}s(l,"TIntersect");function f(p,y){let _=p.anyOf.map(S=>d(S,y));return a(ee.Type.Union(_))}s(f,"TUnion");function c(p,y){let _=p.properties[y];return ct.IsUndefined(_)?ee.Type.Never():ee.Type.Union([_])}s(c,"TObject");function u(p,y){let _=p.items;if(ct.IsUndefined(_))return ee.Type.Never();let S=_[y];return ct.IsUndefined(S)?ee.Type.Never():S}s(u,"TTuple");function d(p,y){return p[ee.Kind]==="Intersect"?l(p,y):p[ee.Kind]==="Union"?f(p,y):p[ee.Kind]==="Object"?c(p,y):p[ee.Kind]==="Tuple"?u(p,y):ee.Type.Never()}s(d,"Visit");function g(p,y,_={}){let S=y.map(E=>d(p,E.toString()));return a(ee.Type.Union(S,_))}s(g,"Resolve"),e.Resolve=g})(Kx||(ee.IndexedAccessor=Kx={}));var $5;(function(e){function t(u){let[d,g]=[u.slice(0,1),u.slice(1)];return`${d.toLowerCase()}${g}`}s(t,"Uncapitalize");function r(u){let[d,g]=[u.slice(0,1),u.slice(1)];return`${d.toUpperCase()}${g}`}s(r,"Capitalize");function n(u){return u.toUpperCase()}s(n,"Uppercase");function i(u){return u.toLowerCase()}s(i,"Lowercase");function o(u,d){let g=V5.ParseExact(u.pattern);if(!z5.Check(g))return{...u,pattern:a(u.pattern,d)};let _=[...K5.Generate(g)].map(A=>ee.Type.Literal(A)),S=l(_,d),E=ee.Type.Union(S);return ee.Type.TemplateLiteral([E])}s(o,"IntrinsicTemplateLiteral");function a(u,d){return typeof u=="string"?d==="Uncapitalize"?t(u):d==="Capitalize"?r(u):d==="Uppercase"?n(u):d==="Lowercase"?i(u):u:u.toString()}s(a,"IntrinsicLiteral");function l(u,d){if(u.length===0)return[];let[g,...p]=u;return[c(g,d),...l(p,d)]}s(l,"IntrinsicRest");function f(u,d){return re.TTemplateLiteral(u)?o(u,d):re.TUnion(u)?ee.Type.Union(l(u.anyOf,d)):re.TLiteral(u)?ee.Type.Literal(a(u.const,d)):u}s(f,"Visit");function c(u,d){return f(u,d)}s(c,"Map"),e.Map=c})($5||(ee.Intrinsic=$5={}));var H5;(function(e){function t(a,l){return ee.Type.Intersect(a.allOf.map(f=>i(f,l)),{...a})}s(t,"TIntersect");function r(a,l){return ee.Type.Union(a.anyOf.map(f=>i(f,l)),{...a})}s(r,"TUnion");function n(a,l){return l(a)}s(n,"TObject");function i(a,l){return a[ee.Kind]==="Intersect"?t(a,l):a[ee.Kind]==="Union"?r(a,l):a[ee.Kind]==="Object"?n(a,l):a}s(i,"Visit");function o(a,l,f){return{...i(Ft.Type(a),l),...f}}s(o,"Map"),e.Map=o})(H5||(ee.ObjectMap=H5={}));var $m;(function(e){function t(c){return c[0]==="^"&&c[c.length-1]==="$"?c.slice(1,c.length-1):c}s(t,"UnwrapPattern");function r(c,u){return c.allOf.reduce((d,g)=>[...d,...a(g,u)],[])}s(r,"TIntersect");function n(c,u){let d=c.anyOf.map(g=>a(g,u));return[...d.reduce((g,p)=>p.map(y=>d.every(_=>_.includes(y))?g.add(y):g)[0],new Set)]}s(n,"TUnion");function i(c,u){return Object.getOwnPropertyNames(c.properties)}s(i,"TObject");function o(c,u){return u.includePatterns?Object.getOwnPropertyNames(c.patternProperties):[]}s(o,"TRecord");function a(c,u){return re.TIntersect(c)?r(c,u):re.TUnion(c)?n(c,u):re.TObject(c)?i(c,u):re.TRecord(c)?o(c,u):[]}s(a,"Visit");function l(c,u){return[...new Set(a(c,u))]}s(l,"ResolveKeys"),e.ResolveKeys=l;function f(c){return`^(${l(c,{includePatterns:!0}).map(g=>`(${t(g)})`).join("|")})$`}s(f,"ResolvePattern"),e.ResolvePattern=f})($m||(ee.KeyResolver=$m={}));var Qx=class Qx extends Ho{};s(Qx,"KeyArrayResolverError");var Hm=Qx;ee.KeyArrayResolverError=Hm;var yh;(function(e){function t(r){return Array.isArray(r)?r:re.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):re.TLiteral(r)?[r.const]:re.TTemplateLiteral(r)?(()=>{let n=V5.ParseExact(r.pattern);if(!z5.Check(n))throw new Hm("Cannot resolve keys from infinite template expression");return[...K5.Generate(n)]})():[]}s(t,"Resolve"),e.Resolve=t})(yh||(ee.KeyArrayResolver=yh={}));var Gx;(function(e){function*t(n){for(let i of n.anyOf)i[ee.Kind]==="Union"?yield*t(i):yield i}s(t,"TUnion");function r(n){return ee.Type.Union([...t(n)],{...n})}s(r,"Resolve"),e.Resolve=r})(Gx||(ee.UnionResolver=Gx={}));var Zx=class Zx extends Ho{};s(Zx,"TemplateLiteralPatternError");var Vm=Zx;ee.TemplateLiteralPatternError=Vm;var zm;(function(e){function t(o){throw new Vm(o)}s(t,"Throw");function r(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(r,"Escape");function n(o,a){return re.TTemplateLiteral(o)?o.pattern.slice(1,o.pattern.length-1):re.TUnion(o)?`(${o.anyOf.map(l=>n(l,a)).join("|")})`:re.TNumber(o)?`${a}${ee.PatternNumber}`:re.TInteger(o)?`${a}${ee.PatternNumber}`:re.TBigInt(o)?`${a}${ee.PatternNumber}`:re.TString(o)?`${a}${ee.PatternString}`:re.TLiteral(o)?`${a}${r(o.const.toString())}`:re.TBoolean(o)?`${a}${ee.PatternBoolean}`:t(`Unexpected Kind '${o[ee.Kind]}'`)}s(n,"Visit");function i(o){return`^${o.map(a=>n(a,"")).join("")}$`}s(i,"Create"),e.Create=i})(zm||(ee.TemplateLiteralPattern=zm={}));var Ml;(function(e){function t(r){let n=V5.ParseExact(r.pattern);if(!z5.Check(n))return ee.Type.String();let i=[...K5.Generate(n)].map(o=>ee.Type.Literal(o));return ee.Type.Union(i)}s(t,"Resolve"),e.Resolve=t})(Ml||(ee.TemplateLiteralResolver=Ml={}));var e_=class e_ extends Ho{};s(e_,"TemplateLiteralParserError");var vh=e_;ee.TemplateLiteralParserError=vh;var V5;(function(e){function t(p,y,_){return p[y]===_&&p.charCodeAt(y-1)!==92}s(t,"IsNonEscaped");function r(p,y){return t(p,y,"(")}s(r,"IsOpenParen");function n(p,y){return t(p,y,")")}s(n,"IsCloseParen");function i(p,y){return t(p,y,"|")}s(i,"IsSeparator");function o(p){if(!(r(p,0)&&n(p,p.length-1)))return!1;let y=0;for(let _=0;_<p.length;_++)if(r(p,_)&&(y+=1),n(p,_)&&(y-=1),y===0&&_!==p.length-1)return!1;return!0}s(o,"IsGroup");function a(p){return p.slice(1,p.length-1)}s(a,"InGroup");function l(p){let y=0;for(let _=0;_<p.length;_++)if(r(p,_)&&(y+=1),n(p,_)&&(y-=1),i(p,_)&&y===0)return!0;return!1}s(l,"IsPrecedenceOr");function f(p){for(let y=0;y<p.length;y++)if(r(p,y))return!0;return!1}s(f,"IsPrecedenceAnd");function c(p){let[y,_]=[0,0],S=[];for(let A=0;A<p.length;A++)if(r(p,A)&&(y+=1),n(p,A)&&(y-=1),i(p,A)&&y===0){let P=p.slice(_,A);P.length>0&&S.push(d(P)),_=A+1}let E=p.slice(_);return E.length>0&&S.push(d(E)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}s(c,"Or");function u(p){function y(E,A){if(!r(E,A))throw new vh("TemplateLiteralParser: Index must point to open parens");let P=0;for(let U=A;U<E.length;U++)if(r(E,U)&&(P+=1),n(E,U)&&(P-=1),P===0)return[A,U];throw new vh("TemplateLiteralParser: Unclosed group parens in expression")}s(y,"Group");function _(E,A){for(let P=A;P<E.length;P++)if(r(E,P))return[A,P];return[A,E.length]}s(_,"Range");let S=[];for(let E=0;E<p.length;E++)if(r(p,E)){let[A,P]=y(p,E),U=p.slice(A,P+1);S.push(d(U)),E=P}else{let[A,P]=_(p,E),U=p.slice(A,P);U.length>0&&S.push(d(U)),E=P-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}s(u,"And");function d(p){return o(p)?d(a(p)):l(p)?c(p):f(p)?u(p):{type:"const",const:p}}s(d,"Parse"),e.Parse=d;function g(p){return d(p.slice(1,p.length-1))}s(g,"ParseExact"),e.ParseExact=g})(V5||(ee.TemplateLiteralParser=V5={}));var t_=class t_ extends Ho{};s(t_,"TemplateLiteralFiniteError");var Km=t_;ee.TemplateLiteralFiniteError=Km;var z5;(function(e){function t(a){throw new Km(a)}s(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}s(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}s(n,"IsBoolean");function i(a){return a.type==="const"&&a.const===".*"}s(i,"IsString");function o(a){return n(a)?!0:r(a)||i(a)?!1:a.type==="and"?a.expr.every(l=>o(l)):a.type==="or"?a.expr.every(l=>o(l)):a.type==="const"?!0:t("Unknown expression type")}s(o,"Check"),e.Check=o})(z5||(ee.TemplateLiteralFinite=z5={}));var r_=class r_ extends Ho{};s(r_,"TemplateLiteralGeneratorError");var Gm=r_;ee.TemplateLiteralGeneratorError=Gm;var K5;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let l of a[0])for(let f of t(a.slice(1)))yield`${l}${f}`}s(t,"Reduce");function*r(a){return yield*t(a.expr.map(l=>[...o(l)]))}s(r,"And");function*n(a){for(let l of a.expr)yield*o(l)}s(n,"Or");function*i(a){return yield a.const}s(i,"Const");function*o(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*i(a):(()=>{throw new Gm("Unknown expression")})()}s(o,"Generate"),e.Generate=o})(K5||(ee.TemplateLiteralGenerator=K5={}));var Wx;(function(e){function*t(o){let a=o.trim().replace(/"|'/g,"");return a==="boolean"?yield ee.Type.Boolean():a==="number"?yield ee.Type.Number():a==="bigint"?yield ee.Type.BigInt():a==="string"?yield ee.Type.String():yield(()=>{let l=a.split("|").map(f=>ee.Type.Literal(f.trim()));return l.length===0?ee.Type.Never():l.length===1?l[0]:ee.Type.Union(l)})()}s(t,"ParseUnion");function*r(o){if(o[1]!=="{"){let a=ee.Type.Literal("$"),l=n(o.slice(1));return yield*[a,...l]}for(let a=2;a<o.length;a++)if(o[a]==="}"){let l=t(o.slice(2,a)),f=n(o.slice(a+1));return yield*[...l,...f]}yield ee.Type.Literal(o)}s(r,"ParseTerminal");function*n(o){for(let a=0;a<o.length;a++)if(o[a]==="$"){let l=ee.Type.Literal(o.slice(0,a)),f=r(o.slice(a));return yield*[l,...f]}yield ee.Type.Literal(o)}s(n,"ParseLiteral");function i(o){return[...n(o)]}s(i,"Parse"),e.Parse=i})(Wx||(ee.TemplateLiteralDslParser=Wx={}));var n_=class n_{constructor(t){this.schema=t}Decode(t){return new Ym(this.schema,t)}};s(n_,"TransformDecodeBuilder");var Wm=n_;ee.TransformDecodeBuilder=Wm;var i_=class i_{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Ft.Type(this.schema);return re.TTransform(r)?(()=>{let o={Encode:s(a=>r[ee.Transform].Encode(t(a)),"Encode"),Decode:s(a=>this.decode(r[ee.Transform].Decode(a)),"Decode")};return{...r,[ee.Transform]:o}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[ee.Transform]:n}})()}};s(i_,"TransformEncodeBuilder");var Ym=i_;ee.TransformEncodeBuilder=Ym;var kW=0,s_=class s_ extends Ho{};s(s_,"TypeBuilderError");var Xm=s_;ee.TypeBuilderError=Xm;var o_=class o_{Create(t){return t}Throw(t){throw new Xm(t)}Discard(t,r){return r.reduce((n,i)=>{let{[i]:o,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};s(o_,"TypeBuilder");var Jm=o_;ee.TypeBuilder=Jm;var a_=class a_ extends Jm{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Ft.Type(t),[ee.Readonly]:"Readonly"}}Optional(t){return{...Ft.Type(t),[ee.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[ee.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[ee.Kind]:"Array",type:"array",items:Ft.Type(t)})}Boolean(t={}){return this.Create({...t,[ee.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...$5.Map(Ft.Type(t),"Capitalize"),...r}}Composite(t,r){let n=ee.Type.Intersect(t,{}),o=$m.ResolveKeys(n,{includePatterns:!1}).reduce((a,l)=>({...a,[l]:ee.Type.Index(n,[l])}),{});return ee.Type.Object(o,r)}Enum(t,r={}){if(ct.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(n)].map(a=>ee.Type.Literal(a));return this.Union(o,{...r,[ee.Hint]:"Enum"})}Extends(t,r,n,i,o={}){switch(Nu.Extends(t,r)){case Oe.Union:return this.Union([Ft.Type(n,o),Ft.Type(i,o)]);case Oe.True:return Ft.Type(n,o);case Oe.False:return Ft.Type(i,o)}}Exclude(t,r,n={}){return re.TTemplateLiteral(t)?this.Exclude(Ml.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Exclude(t,Ml.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Nu.Extends(o,r)===Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Nu.Extends(t,r)!==Oe.False?this.Never(n):Ft.Type(t,n)}Extract(t,r,n={}){return re.TTemplateLiteral(t)?this.Extract(Ml.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Extract(t,Ml.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Nu.Extends(o,r)!==Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Nu.Extends(t,r)!==Oe.False?Ft.Type(t,n):this.Never(n)}Index(t,r,n={}){return re.TArray(t)&&re.TNumber(r)?Ft.Type(t.items,n):re.TTuple(t)&&re.TNumber(r)?(()=>{let o=(ct.IsUndefined(t.items)?[]:t.items).map(a=>Ft.Type(a));return this.Union(o,n)})():(()=>{let i=yh.Resolve(r),o=Ft.Type(t);return Kx.Resolve(o,i,n)})()}Integer(t={}){return this.Create({...t,[ee.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return ee.Type.Never();if(t.length===1)return Ft.Type(t[0],r);t.some(a=>re.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>re.TObject(a)),i=Ft.Rest(t),o=re.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Ft.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||re.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...o,[ee.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...r,...o,[ee.Kind]:"Intersect",allOf:i})}KeyOf(t,r={}){return re.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===ee.PatternNumberExact?this.Number(r):n===ee.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():re.TTuple(t)?(()=>{let i=(ct.IsUndefined(t.items)?[]:t.items).map((o,a)=>ee.Type.Literal(a.toString()));return this.Union(i,r)})():re.TArray(t)?this.Number(r):(()=>{let n=$m.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let i=n.map(o=>this.Literal(o));return this.Union(i,r)})()}Literal(t,r={}){return this.Create({...r,[ee.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...$5.Map(Ft.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[ee.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[ee.Kind]:"Not",not:Ft.Type(t)})}Null(t={}){return this.Create({...t,[ee.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[ee.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),i=n.filter(f=>re.TOptional(t[f])),o=n.filter(f=>!i.includes(f)),a=re.TSchema(r.additionalProperties)?{additionalProperties:Ft.Type(r.additionalProperties)}:{},l=n.reduce((f,c)=>({...f,[c]:Ft.Type(t[c])}),{});return o.length>0?this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l,required:o}):this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l})}Omit(t,r,n={}){let i=yh.Resolve(r);return H5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>!i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)&&delete o.properties[a];return this.Create(o)},n)}Partial(t,r={}){return H5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Optional(n.properties[a])}),{});return this.Object(i,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let i=yh.Resolve(r);return H5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)||delete o.properties[a];return this.Create(o)},n)}Record(t,r,n={}){return re.TTemplateLiteral(t)?(()=>{let i=V5.ParseExact(t.pattern);return z5.Check(i)?this.Object([...K5.Generate(i)].reduce((o,a)=>({...o,[a]:Ft.Type(r)}),{}),n):this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Ft.Type(r)}})})():re.TUnion(t)?(()=>{let i=Gx.Resolve(t);if(re.TUnionLiteral(i)){let o=i.anyOf.reduce((a,l)=>({...a,[l.const]:Ft.Type(r)}),{});return this.Object(o,{...n,[ee.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():re.TLiteral(t)?ct.IsString(t.const)||ct.IsNumber(t.const)?this.Object({[t.const]:Ft.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):re.TInteger(t)||re.TNumber(t)?this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[ee.PatternNumberExact]:Ft.Type(r)}}):re.TString(t)?(()=>{let i=ct.IsUndefined(t.pattern)?ee.PatternStringExact:t.pattern;return this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[i]:Ft.Type(r)}})})():this.Never()}Recursive(t,r={}){ct.IsUndefined(r.$id)&&(r.$id=`T${kW++}`);let n=t({[ee.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[ee.Hint]:"Recursive",...n})}Ref(t,r={}){return ct.IsString(t)?this.Create({...r,[ee.Kind]:"Ref",$ref:t}):(ct.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[ee.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return H5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Discard(n.properties[a],[ee.Optional])}),{});return this.Object(i,n)},r)}Rest(t){return re.TTuple(t)&&!ct.IsUndefined(t.items)?Ft.Rest(t.items):re.TIntersect(t)?Ft.Rest(t.allOf):re.TUnion(t)?Ft.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[ee.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=ct.IsString(t)?zm.Create(Wx.Parse(t)):zm.Create(t);return this.Create({...r,[ee.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new Wm(t)}Tuple(t,r={}){let[n,i,o]=[!1,t.length,t.length],a=Ft.Rest(t),l=t.length>0?{...r,[ee.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:i,maxItems:o}:{...r,[ee.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(l)}Uncapitalize(t,r={}){return{...$5.Map(Ft.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return re.TTemplateLiteral(t)?Ml.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Ft.Type(n[0],r));let i=Ft.Rest(n);return this.Create({...r,[ee.Kind]:"Union",anyOf:i})})()}Unknown(t={}){return this.Create({...t,[ee.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[ee.Kind]:t[ee.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...$5.Map(Ft.Type(t),"Uppercase"),...r}}};s(a_,"JsonTypeBuilder");var xh=a_;ee.JsonTypeBuilder=xh;var l_=class l_ extends xh{AsyncIterator(t,r={}){return this.Create({...r,[ee.Kind]:"AsyncIterator",type:"AsyncIterator",items:Ft.Type(t)})}Awaited(t,r={}){let n=s(i=>i.length>0?(()=>{let[o,...a]=i;return[this.Awaited(o),...n(a)]})():i,"Unwrap");return re.TIntersect(t)?ee.Type.Intersect(n(t.allOf)):re.TUnion(t)?ee.Type.Union(n(t.anyOf)):re.TPromise(t)?this.Awaited(t.item):Ft.Type(t,r)}BigInt(t={}){return this.Create({...t,[ee.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(t={}){return this.Create({...t,[ee.Kind]:"Date",type:"Date"})}Function(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(t,r={}){return Ft.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[ee.Kind]:"Iterator",type:"Iterator",items:Ft.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[ee.Kind]:"Promise",type:"Promise",item:Ft.Type(t)})}RegExp(t,r={}){let n=ct.IsString(t)?t:t.source;return this.Create({...r,[ee.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Ft.Type(t.returns,r)}Symbol(t){return this.Create({...t,[ee.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[ee.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[ee.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[ee.Kind]:"Void",type:"void"})}};s(l_,"JavaScriptTypeBuilder");var Qm=l_;ee.JavaScriptTypeBuilder=Qm;ee.JsonType=new xh;ee.Type=new Qm});var ts=ae(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.IsValueType=d0.IsSymbol=d0.IsFunction=d0.IsString=d0.IsBigInt=d0.IsInteger=d0.IsNumber=d0.IsBoolean=d0.IsNull=d0.IsUndefined=d0.IsArray=d0.IsObject=d0.IsPlainObject=d0.HasPropertyKey=d0.IsDate=d0.IsUint8Array=d0.IsPromise=d0.IsTypedArray=d0.IsIterator=d0.IsAsyncIterator=void 0;function NW(e){return Zm(e)&&Symbol.asyncIterator in e}s(NW,"IsAsyncIterator");d0.IsAsyncIterator=NW;function DW(e){return Zm(e)&&Symbol.iterator in e}s(DW,"IsIterator");d0.IsIterator=DW;function LW(e){return ArrayBuffer.isView(e)}s(LW,"IsTypedArray");d0.IsTypedArray=LW;function BW(e){return e instanceof Promise}s(BW,"IsPromise");d0.IsPromise=BW;function OW(e){return e instanceof Uint8Array}s(OW,"IsUint8Array");d0.IsUint8Array=OW;function FW(e){return e instanceof Date&&Number.isFinite(e.getTime())}s(FW,"IsDate");d0.IsDate=FW;function MW(e,t){return t in e}s(MW,"HasPropertyKey");d0.HasPropertyKey=MW;function UW(e){return Zm(e)&&Gk(e.constructor)&&e.constructor.name==="Object"}s(UW,"IsPlainObject");d0.IsPlainObject=UW;function Zm(e){return e!==null&&typeof e=="object"}s(Zm,"IsObject");d0.IsObject=Zm;function qW(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}s(qW,"IsArray");d0.IsArray=qW;function $k(e){return e===void 0}s($k,"IsUndefined");d0.IsUndefined=$k;function Hk(e){return e===null}s(Hk,"IsNull");d0.IsNull=Hk;function Vk(e){return typeof e=="boolean"}s(Vk,"IsBoolean");d0.IsBoolean=Vk;function f_(e){return typeof e=="number"}s(f_,"IsNumber");d0.IsNumber=f_;function jW(e){return f_(e)&&Number.isInteger(e)}s(jW,"IsInteger");d0.IsInteger=jW;function zk(e){return typeof e=="bigint"}s(zk,"IsBigInt");d0.IsBigInt=zk;function Kk(e){return typeof e=="string"}s(Kk,"IsString");d0.IsString=Kk;function Gk(e){return typeof e=="function"}s(Gk,"IsFunction");d0.IsFunction=Gk;function Wk(e){return typeof e=="symbol"}s(Wk,"IsSymbol");d0.IsSymbol=Wk;function $W(e){return zk(e)||Vk(e)||Hk(e)||f_(e)||Kk(e)||Wk(e)||$k(e)}s($W,"IsValueType");d0.IsValueType=$W});var h_=ae(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.DefaultErrorFunction=rs.TypeSystemPolicy=rs.TypeSystemErrorFunction=rs.TypeSystem=rs.TypeSystemDuplicateFormat=rs.TypeSystemDuplicateTypeKind=void 0;var eg=ts(),Pt=_h(),Ul=es(),u_=class u_ extends Ul.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};s(u_,"TypeSystemDuplicateTypeKind");var tg=u_;rs.TypeSystemDuplicateTypeKind=tg;var d_=class d_ extends Ul.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};s(d_,"TypeSystemDuplicateFormat");var rg=d_;rs.TypeSystemDuplicateFormat=rg;var Yk;(function(e){function t(n,i){if(Ul.TypeRegistry.Has(n))throw new tg(n);return Ul.TypeRegistry.Set(n,i),(o={})=>Ul.Type.Unsafe({...o,[Ul.Kind]:n})}s(t,"Type"),e.Type=t;function r(n,i){if(Ul.FormatRegistry.Has(n))throw new rg(n);return Ul.FormatRegistry.Set(n,i),n}s(r,"Format"),e.Format=r})(Yk||(rs.TypeSystem=Yk={}));var Xk;(function(e){let t=c_;function r(){t=c_}s(r,"Reset"),e.Reset=r;function n(o){t=o}s(n,"Set"),e.Set=n;function i(){return t}s(i,"Get"),e.Get=i})(Xk||(rs.TypeSystemErrorFunction=Xk={}));var Jk;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=(0,eg.IsObject)(a);return e.AllowArrayObject?l:l&&!(0,eg.IsArray)(a)}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){let l=(0,eg.IsNumber)(a);return e.AllowNaN?l:l&&Number.isFinite(a)}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){let l=(0,eg.IsUndefined)(a);return e.AllowNullVoid?l||a===null:l}s(o,"IsVoidLike"),e.IsVoidLike=o})(Jk||(rs.TypeSystemPolicy=Jk={}));function c_(e,t){switch(t){case Pt.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case Pt.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case Pt.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case Pt.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case Pt.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case Pt.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case Pt.ValueErrorType.Array:return"Expected array";case Pt.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case Pt.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.BigInt:return"Expected bigint";case Pt.ValueErrorType.Boolean:return"Expected boolean";case Pt.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case Pt.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case Pt.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case Pt.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case Pt.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case Pt.ValueErrorType.Date:return"Expected Date";case Pt.ValueErrorType.Function:return"Expected function";case Pt.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Integer:return"Expected integer";case Pt.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case Pt.ValueErrorType.Intersect:return"Expected all values to match";case Pt.ValueErrorType.Iterator:return"Expected Iterator";case Pt.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case Pt.ValueErrorType.Never:return"Never";case Pt.ValueErrorType.Not:return"Value should not match";case Pt.ValueErrorType.Null:return"Expected null";case Pt.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Number:return"Expected number";case Pt.ValueErrorType.Object:return"Expected object";case Pt.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case Pt.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case Pt.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case Pt.ValueErrorType.ObjectRequiredProperty:return"Required property";case Pt.ValueErrorType.Promise:return"Expected Promise";case Pt.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case Pt.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case Pt.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case Pt.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case Pt.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case Pt.ValueErrorType.String:return"Expected string";case Pt.ValueErrorType.Symbol:return"Expected symbol";case Pt.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case Pt.ValueErrorType.Tuple:return"Expected tuple";case Pt.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case Pt.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case Pt.ValueErrorType.Uint8Array:return"Expected Uint8Array";case Pt.ValueErrorType.Undefined:return"Expected undefined";case Pt.ValueErrorType.Union:return"Expected union value";case Pt.ValueErrorType.Void:return"Expected void";case Pt.ValueErrorType.Kind:return`Expected kind '${e[Ul.Kind]}'`;default:return"Unknown error type"}}s(c_,"DefaultErrorFunction");rs.DefaultErrorFunction=c_});var yc=ae(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.Deref=G5.TypeDereferenceError=void 0;var HW=es(),m_=class m_ extends HW.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};s(m_,"TypeDereferenceError");var ng=m_;G5.TypeDereferenceError=ng;function VW(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new ng(e);return t[r]}s(VW,"Deref");G5.Deref=VW});var bh=ae(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.Hash=vc.ByteMarker=vc.ValueHashError=void 0;var Vo=ts(),g_=class g_ extends Error{constructor(t){super("Unable to hash value"),this.value=t}};s(g_,"ValueHashError");var ig=g_;vc.ValueHashError=ig;var As;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(As||(vc.ByteMarker=As={}));var W5=BigInt("14695981039346656037"),[zW,KW]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],GW=Array.from({length:256}).map((e,t)=>BigInt(t)),Qk=new Float64Array(1),Zk=new DataView(Qk.buffer),eN=new Uint8Array(Qk.buffer);function*WW(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}s(WW,"NumberToBytes");function YW(e){bi(As.Array);for(let t of e)Y5(t)}s(YW,"ArrayType");function XW(e){bi(As.Boolean),bi(e?1:0)}s(XW,"BooleanType");function JW(e){bi(As.BigInt),Zk.setBigInt64(0,e);for(let t of eN)bi(t)}s(JW,"BigIntType");function QW(e){bi(As.Date),Y5(e.getTime())}s(QW,"DateType");function ZW(e){bi(As.Null)}s(ZW,"NullType");function eY(e){bi(As.Number),Zk.setFloat64(0,e);for(let t of eN)bi(t)}s(eY,"NumberType");function tY(e){bi(As.Object);for(let t of globalThis.Object.keys(e).sort())Y5(t),Y5(e[t])}s(tY,"ObjectType");function rY(e){bi(As.String);for(let t=0;t<e.length;t++)for(let r of WW(e.charCodeAt(t)))bi(r)}s(rY,"StringType");function nY(e){bi(As.Symbol),Y5(e.description)}s(nY,"SymbolType");function iY(e){bi(As.Uint8Array);for(let t=0;t<e.length;t++)bi(e[t])}s(iY,"Uint8ArrayType");function sY(e){return bi(As.Undefined)}s(sY,"UndefinedType");function Y5(e){if((0,Vo.IsArray)(e))return YW(e);if((0,Vo.IsBoolean)(e))return XW(e);if((0,Vo.IsBigInt)(e))return JW(e);if((0,Vo.IsDate)(e))return QW(e);if((0,Vo.IsNull)(e))return ZW(e);if((0,Vo.IsNumber)(e))return eY(e);if((0,Vo.IsPlainObject)(e))return tY(e);if((0,Vo.IsString)(e))return rY(e);if((0,Vo.IsSymbol)(e))return nY(e);if((0,Vo.IsUint8Array)(e))return iY(e);if((0,Vo.IsUndefined)(e))return sY(e);throw new ig(e)}s(Y5,"Visit");function bi(e){W5=W5^GW[e],W5=W5*zW%KW}s(bi,"FNV1A64");function oY(e){return W5=BigInt("14695981039346656037"),Y5(e),W5}s(oY,"Hash");vc.Hash=oY});var _h=ae(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Errors=Zs.ValueErrorIterator=Zs.EscapeKey=Zs.ValueErrorsUnknownTypeError=Zs.ValueErrorType=void 0;var rn=ts(),X5=h_(),tN=yc(),aY=bh(),eo=es(),_t;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(_t||(Zs.ValueErrorType=_t={}));var p_=class p_ extends eo.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(p_,"ValueErrorsUnknownTypeError");var sg=p_;Zs.ValueErrorsUnknownTypeError=sg;function La(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}s(La,"EscapeKey");Zs.EscapeKey=La;function j0(e){return e!==void 0}s(j0,"IsDefined");var y_=class y_{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};s(y_,"ValueErrorIterator");var og=y_;Zs.ValueErrorIterator=og;function Tt(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:X5.TypeSystemErrorFunction.Get()(t,e)}}s(Tt,"Create");function*lY(e,t,r,n){}s(lY,"TAny");function*fY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Array,e,r,n);j0(e.minItems)&&!(n.length>=e.minItems)&&(yield Tt(_t.ArrayMinItems,e,r,n)),j0(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Tt(_t.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Xn(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let f=(0,aY.Hash)(l);if(a.has(f))return!1;a.add(f)}return!0}()&&(yield Tt(_t.ArrayUniqueItems,e,r,n)),!(j0(e.contains)||j0(e.minContains)||j0(e.maxContains)))return;let i=j0(e.contains)?e.contains:eo.Type.Never(),o=n.reduce((a,l,f)=>Xn(i,t,`${r}${f}`,l).next().done===!0?a+1:a,0);o===0&&(yield Tt(_t.ArrayContains,e,r,n)),(0,rn.IsNumber)(e.minContains)&&o<e.minContains&&(yield Tt(_t.ArrayMinContains,e,r,n)),(0,rn.IsNumber)(e.maxContains)&&o>e.maxContains&&(yield Tt(_t.ArrayMaxContains,e,r,n))}s(fY,"TArray");function*cY(e,t,r,n){(0,rn.IsAsyncIterator)(n)||(yield Tt(_t.AsyncIterator,e,r,n))}s(cY,"TAsyncIterator");function*uY(e,t,r,n){if(!(0,rn.IsBigInt)(n))return yield Tt(_t.BigInt,e,r,n);j0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.BigIntExclusiveMaximum,e,r,n)),j0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.BigIntExclusiveMinimum,e,r,n)),j0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.BigIntMaximum,e,r,n)),j0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.BigIntMinimum,e,r,n)),j0(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Tt(_t.BigIntMultipleOf,e,r,n))}s(uY,"TBigInt");function*dY(e,t,r,n){(0,rn.IsBoolean)(n)||(yield Tt(_t.Boolean,e,r,n))}s(dY,"TBoolean");function*hY(e,t,r,n){yield*Xn(e.returns,t,r,n.prototype)}s(hY,"TConstructor");function*mY(e,t,r,n){if(!(0,rn.IsDate)(n))return yield Tt(_t.Date,e,r,n);j0(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Tt(_t.DateExclusiveMaximumTimestamp,e,r,n)),j0(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Tt(_t.DateExclusiveMinimumTimestamp,e,r,n)),j0(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Tt(_t.DateMaximumTimestamp,e,r,n)),j0(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Tt(_t.DateMinimumTimestamp,e,r,n)),j0(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Tt(_t.DateMultipleOfTimestamp,e,r,n))}s(mY,"TDate");function*gY(e,t,r,n){(0,rn.IsFunction)(n)||(yield Tt(_t.Function,e,r,n))}s(gY,"TFunction");function*pY(e,t,r,n){if(!(0,rn.IsInteger)(n))return yield Tt(_t.Integer,e,r,n);j0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.IntegerExclusiveMaximum,e,r,n)),j0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.IntegerExclusiveMinimum,e,r,n)),j0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.IntegerMaximum,e,r,n)),j0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.IntegerMinimum,e,r,n)),j0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.IntegerMultipleOf,e,r,n))}s(pY,"TInteger");function*yY(e,t,r,n){for(let i of e.allOf){let o=Xn(i,t,r,n).next();o.done||(yield Tt(_t.Intersect,e,r,n),yield o.value)}if(e.unevaluatedProperties===!1){let i=new RegExp(eo.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))i.test(o)||(yield Tt(_t.IntersectUnevaluatedProperties,e,`${r}/${o}`,n))}if(typeof e.unevaluatedProperties=="object"){let i=new RegExp(eo.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))if(!i.test(o)){let a=Xn(e.unevaluatedProperties,t,`${r}/${o}`,n[o]).next();a.done||(yield a.value)}}}s(yY,"TIntersect");function*vY(e,t,r,n){(0,rn.IsIterator)(n)||(yield Tt(_t.Iterator,e,r,n))}s(vY,"TIterator");function*xY(e,t,r,n){n!==e.const&&(yield Tt(_t.Literal,e,r,n))}s(xY,"TLiteral");function*_Y(e,t,r,n){yield Tt(_t.Never,e,r,n)}s(_Y,"TNever");function*bY(e,t,r,n){Xn(e.not,t,r,n).next().done===!0&&(yield Tt(_t.Not,e,r,n))}s(bY,"TNot");function*CY(e,t,r,n){(0,rn.IsNull)(n)||(yield Tt(_t.Null,e,r,n))}s(CY,"TNull");function*TY(e,t,r,n){if(!X5.TypeSystemPolicy.IsNumberLike(n))return yield Tt(_t.Number,e,r,n);j0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.NumberExclusiveMaximum,e,r,n)),j0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.NumberExclusiveMinimum,e,r,n)),j0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.NumberMaximum,e,r,n)),j0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.NumberMinimum,e,r,n)),j0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.NumberMultipleOf,e,r,n))}s(TY,"TNumber");function*EY(e,t,r,n){if(!X5.TypeSystemPolicy.IsObjectLike(n))return yield Tt(_t.Object,e,r,n);j0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),j0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Tt(_t.ObjectRequiredProperty,e.properties[l],`${r}/${La(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)o.includes(l)||(yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${La(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)o.includes(l)||(yield*Xn(e.additionalProperties,t,`${r}/${La(l)}`,n[l]));for(let l of o){let f=e.properties[l];e.required&&e.required.includes(l)?(yield*Xn(f,t,`${r}/${La(l)}`,n[l]),eo.ExtendsUndefined.Check(e)&&!(l in n)&&(yield Tt(_t.ObjectRequiredProperty,f,`${r}/${La(l)}`,void 0))):X5.TypeSystemPolicy.IsExactOptionalProperty(n,l)&&(yield*Xn(f,t,`${r}/${La(l)}`,n[l]))}}s(EY,"TObject");function*SY(e,t,r,n){(0,rn.IsPromise)(n)||(yield Tt(_t.Promise,e,r,n))}s(SY,"TPromise");function*wY(e,t,r,n){if(!X5.TypeSystemPolicy.IsRecordLike(n))return yield Tt(_t.Object,e,r,n);j0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),j0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,f]of Object.entries(n))a.test(l)&&(yield*Xn(o,t,`${r}/${La(l)}`,f));if(typeof e.additionalProperties=="object")for(let[l,f]of Object.entries(n))a.test(l)||(yield*Xn(e.additionalProperties,t,`${r}/${La(l)}`,f));if(e.additionalProperties===!1){for(let[l,f]of Object.entries(n))if(!a.test(l))return yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${La(l)}`,f)}}s(wY,"TRecord");function*IY(e,t,r,n){yield*Xn((0,tN.Deref)(e,t),t,r,n)}s(IY,"TRef");function*AY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);j0(e.minLength)&&!(n.length>=e.minLength)&&(yield Tt(_t.StringMinLength,e,r,n)),j0(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Tt(_t.StringMaxLength,e,r,n)),(0,rn.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))),(0,rn.IsString)(e.format)&&(eo.FormatRegistry.Has(e.format)?eo.FormatRegistry.Get(e.format)(n)||(yield Tt(_t.StringFormat,e,r,n)):yield Tt(_t.StringFormatUnknown,e,r,n))}s(AY,"TString");function*PY(e,t,r,n){(0,rn.IsSymbol)(n)||(yield Tt(_t.Symbol,e,r,n))}s(PY,"TSymbol");function*RY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))}s(RY,"TTemplateLiteral");function*kY(e,t,r,n){yield*Xn((0,tN.Deref)(e,t),t,r,n)}s(kY,"TThis");function*NY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Tt(_t.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Tt(_t.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*Xn(e.items[i],t,`${r}/${i}`,n[i])}s(NY,"TTuple");function*DY(e,t,r,n){(0,rn.IsUndefined)(n)||(yield Tt(_t.Undefined,e,r,n))}s(DY,"TUndefined");function*LY(e,t,r,n){let i=0;for(let o of e.anyOf){let a=[...Xn(o,t,r,n)];if(a.length===0)return;i+=a.length}i>0&&(yield Tt(_t.Union,e,r,n))}s(LY,"TUnion");function*BY(e,t,r,n){if(!(0,rn.IsUint8Array)(n))return yield Tt(_t.Uint8Array,e,r,n);j0(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Tt(_t.Uint8ArrayMaxByteLength,e,r,n)),j0(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Tt(_t.Uint8ArrayMinByteLength,e,r,n))}s(BY,"TUint8Array");function*OY(e,t,r,n){}s(OY,"TUnknown");function*FY(e,t,r,n){X5.TypeSystemPolicy.IsVoidLike(n)||(yield Tt(_t.Void,e,r,n))}s(FY,"TVoid");function*MY(e,t,r,n){eo.TypeRegistry.Get(e[eo.Kind])(e,n)||(yield Tt(_t.Kind,e,r,n))}s(MY,"TKind");function*Xn(e,t,r,n){let i=j0(e.$id)?[...t,e]:t,o=e;switch(o[eo.Kind]){case"Any":return yield*lY(o,i,r,n);case"Array":return yield*fY(o,i,r,n);case"AsyncIterator":return yield*cY(o,i,r,n);case"BigInt":return yield*uY(o,i,r,n);case"Boolean":return yield*dY(o,i,r,n);case"Constructor":return yield*hY(o,i,r,n);case"Date":return yield*mY(o,i,r,n);case"Function":return yield*gY(o,i,r,n);case"Integer":return yield*pY(o,i,r,n);case"Intersect":return yield*yY(o,i,r,n);case"Iterator":return yield*vY(o,i,r,n);case"Literal":return yield*xY(o,i,r,n);case"Never":return yield*_Y(o,i,r,n);case"Not":return yield*bY(o,i,r,n);case"Null":return yield*CY(o,i,r,n);case"Number":return yield*TY(o,i,r,n);case"Object":return yield*EY(o,i,r,n);case"Promise":return yield*SY(o,i,r,n);case"Record":return yield*wY(o,i,r,n);case"Ref":return yield*IY(o,i,r,n);case"String":return yield*AY(o,i,r,n);case"Symbol":return yield*PY(o,i,r,n);case"TemplateLiteral":return yield*RY(o,i,r,n);case"This":return yield*kY(o,i,r,n);case"Tuple":return yield*NY(o,i,r,n);case"Undefined":return yield*DY(o,i,r,n);case"Union":return yield*LY(o,i,r,n);case"Uint8Array":return yield*BY(o,i,r,n);case"Unknown":return yield*OY(o,i,r,n);case"Void":return yield*FY(o,i,r,n);default:if(!eo.TypeRegistry.Has(o[eo.Kind]))throw new sg(e);return yield*MY(o,i,r,n)}}s(Xn,"Visit");function UY(...e){let t=e.length===3?Xn(e[0],e[1],"",e[2]):Xn(e[0],[],"",e[1]);return new og(t)}s(UY,"Errors");Zs.Errors=UY});var ag=ae(Du=>{"use strict";var qY=Du&&Du.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jY=Du&&Du.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qY(t,e,r)};Object.defineProperty(Du,"__esModule",{value:!0});jY(_h(),Du)});var v_=ae(ql=>{"use strict";var $Y=ql&&ql.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HY=ql&&ql.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$Y(t,e,r)};Object.defineProperty(ql,"__esModule",{value:!0});ql.ValueErrorType=void 0;var VY=_h();Object.defineProperty(ql,"ValueErrorType",{enumerable:!0,get:function(){return VY.ValueErrorType}});HY(h_(),ql)});var Q5=ae(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});J5.Check=J5.ValueCheckUnknownTypeError=void 0;var nn=ts(),Ch=v_(),rN=yc(),zY=bh(),Jn=es(),x_=class x_ extends Jn.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(x_,"ValueCheckUnknownTypeError");var lg=x_;J5.ValueCheckUnknownTypeError=lg;function KY(e){return e[Jn.Kind]==="Any"||e[Jn.Kind]==="Unknown"}s(KY,"IsAnyOrUnknown");function $0(e){return e!==void 0}s($0,"IsDefined");function GY(e,t,r){return!0}s(GY,"TAny");function WY(e,t,r){if(!(0,nn.IsArray)(r)||$0(e.minItems)&&!(r.length>=e.minItems)||$0(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(o=>Qn(e.items,t,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let a of r){let l=(0,zY.Hash)(a);if(o.has(l))return!1;o.add(l)}return!0}())return!1;if(!($0(e.contains)||(0,nn.IsNumber)(e.minContains)||(0,nn.IsNumber)(e.maxContains)))return!0;let n=$0(e.contains)?e.contains:Jn.Type.Never(),i=r.reduce((o,a)=>Qn(n,t,a)?o+1:o,0);return!(i===0||(0,nn.IsNumber)(e.minContains)&&i<e.minContains||(0,nn.IsNumber)(e.maxContains)&&i>e.maxContains)}s(WY,"TArray");function YY(e,t,r){return(0,nn.IsAsyncIterator)(r)}s(YY,"TAsyncIterator");function XY(e,t,r){return!(!(0,nn.IsBigInt)(r)||$0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$0(e.maximum)&&!(r<=e.maximum)||$0(e.minimum)&&!(r>=e.minimum)||$0(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}s(XY,"TBigInt");function JY(e,t,r){return(0,nn.IsBoolean)(r)}s(JY,"TBoolean");function QY(e,t,r){return Qn(e.returns,t,r.prototype)}s(QY,"TConstructor");function ZY(e,t,r){return!(!(0,nn.IsDate)(r)||$0(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||$0(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||$0(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||$0(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||$0(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}s(ZY,"TDate");function eX(e,t,r){return(0,nn.IsFunction)(r)}s(eX,"TFunction");function tX(e,t,r){return!(!(0,nn.IsInteger)(r)||$0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$0(e.maximum)&&!(r<=e.maximum)||$0(e.minimum)&&!(r>=e.minimum)||$0(e.multipleOf)&&r%e.multipleOf!==0)}s(tX,"TInteger");function rX(e,t,r){let n=e.allOf.every(i=>Qn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Jn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&o}else if(Jn.TypeGuard.TSchema(e.unevaluatedProperties)){let i=new RegExp(Jn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Qn(e.unevaluatedProperties,t,r[a]));return n&&o}else return n}s(rX,"TIntersect");function nX(e,t,r){return(0,nn.IsIterator)(r)}s(nX,"TIterator");function iX(e,t,r){return r===e.const}s(iX,"TLiteral");function sX(e,t,r){return!1}s(sX,"TNever");function oX(e,t,r){return!Qn(e.not,t,r)}s(oX,"TNot");function aX(e,t,r){return(0,nn.IsNull)(r)}s(aX,"TNull");function lX(e,t,r){return!(!Ch.TypeSystemPolicy.IsNumberLike(r)||$0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$0(e.minimum)&&!(r>=e.minimum)||$0(e.maximum)&&!(r<=e.maximum)||$0(e.multipleOf)&&r%e.multipleOf!==0)}s(lX,"TNumber");function fX(e,t,r){if(!Ch.TypeSystemPolicy.IsObjectLike(r)||$0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||$0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!Qn(o,t,r[i])||(Jn.ExtendsUndefined.Check(o)||KY(o))&&!(i in r))return!1}else if(Ch.TypeSystemPolicy.IsExactOptionalProperty(r,i)&&!Qn(o,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(o=>n.includes(o)||Qn(e.additionalProperties,t,r[o])):!0}s(fX,"TObject");function cX(e,t,r){return(0,nn.IsPromise)(r)}s(cX,"TPromise");function uX(e,t,r){if(!Ch.TypeSystemPolicy.IsRecordLike(r)||$0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||$0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),a=Object.entries(r).every(([c,u])=>o.test(c)?Qn(i,t,u):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([c,u])=>o.test(c)?!0:Qn(e.additionalProperties,t,u)):!0,f=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(c=>o.test(c)):!0;return a&&l&&f}s(uX,"TRecord");function dX(e,t,r){return Qn((0,rN.Deref)(e,t),t,r)}s(dX,"TRef");function hX(e,t,r){return!(0,nn.IsString)(r)||$0(e.minLength)&&!(r.length>=e.minLength)||$0(e.maxLength)&&!(r.length<=e.maxLength)||$0(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:$0(e.format)?Jn.FormatRegistry.Has(e.format)?Jn.FormatRegistry.Get(e.format)(r):!1:!0}s(hX,"TString");function mX(e,t,r){return(0,nn.IsSymbol)(r)}s(mX,"TSymbol");function gX(e,t,r){return(0,nn.IsString)(r)&&new RegExp(e.pattern).test(r)}s(gX,"TTemplateLiteral");function pX(e,t,r){return Qn((0,rN.Deref)(e,t),t,r)}s(pX,"TThis");function yX(e,t,r){if(!(0,nn.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Qn(e.items[n],t,r[n]))return!1;return!0}s(yX,"TTuple");function vX(e,t,r){return(0,nn.IsUndefined)(r)}s(vX,"TUndefined");function xX(e,t,r){return e.anyOf.some(n=>Qn(n,t,r))}s(xX,"TUnion");function _X(e,t,r){return!(!(0,nn.IsUint8Array)(r)||$0(e.maxByteLength)&&!(r.length<=e.maxByteLength)||$0(e.minByteLength)&&!(r.length>=e.minByteLength))}s(_X,"TUint8Array");function bX(e,t,r){return!0}s(bX,"TUnknown");function CX(e,t,r){return Ch.TypeSystemPolicy.IsVoidLike(r)}s(CX,"TVoid");function TX(e,t,r){return Jn.TypeRegistry.Has(e[Jn.Kind])?Jn.TypeRegistry.Get(e[Jn.Kind])(e,r):!1}s(TX,"TKind");function Qn(e,t,r){let n=$0(e.$id)?[...t,e]:t,i=e;switch(i[Jn.Kind]){case"Any":return GY(i,n,r);case"Array":return WY(i,n,r);case"AsyncIterator":return YY(i,n,r);case"BigInt":return XY(i,n,r);case"Boolean":return JY(i,n,r);case"Constructor":return QY(i,n,r);case"Date":return ZY(i,n,r);case"Function":return eX(i,n,r);case"Integer":return tX(i,n,r);case"Intersect":return rX(i,n,r);case"Iterator":return nX(i,n,r);case"Literal":return iX(i,n,r);case"Never":return sX(i,n,r);case"Not":return oX(i,n,r);case"Null":return aX(i,n,r);case"Number":return lX(i,n,r);case"Object":return fX(i,n,r);case"Promise":return cX(i,n,r);case"Record":return uX(i,n,r);case"Ref":return dX(i,n,r);case"String":return hX(i,n,r);case"Symbol":return mX(i,n,r);case"TemplateLiteral":return gX(i,n,r);case"This":return pX(i,n,r);case"Tuple":return yX(i,n,r);case"Undefined":return vX(i,n,r);case"Union":return xX(i,n,r);case"Uint8Array":return _X(i,n,r);case"Unknown":return bX(i,n,r);case"Void":return CX(i,n,r);default:if(!Jn.TypeRegistry.Has(i[Jn.Kind]))throw new lg(i);return TX(i,n,r)}}s(Qn,"Visit");function EX(...e){return e.length===3?Qn(e[0],e[1],e[2]):Qn(e[0],[],e[1])}s(EX,"Check");J5.Check=EX});var I_=ae(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.EncodeTransform=Ci.DecodeTransform=Ci.HasTransform=Ci.TransformEncodeError=Ci.TransformDecodeError=Ci.TransformEncodeCheckError=Ci.TransformDecodeCheckError=void 0;var Bi=ts(),Z5=yc(),__=Q5(),h0=es(),T_=class T_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(T_,"TransformDecodeCheckError");var b_=T_;Ci.TransformDecodeCheckError=b_;var E_=class E_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(E_,"TransformEncodeCheckError");var C_=E_;Ci.TransformEncodeCheckError=C_;var S_=class S_ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(S_,"TransformDecodeError");var fg=S_;Ci.TransformDecodeError=fg;var w_=class w_ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(w_,"TransformEncodeError");var cg=w_;Ci.TransformEncodeError=cg;var nN;(function(e){function t(A,P){return h0.TypeGuard.TTransform(A)||_(A.items,P)}s(t,"TArray");function r(A,P){return h0.TypeGuard.TTransform(A)||_(A.items,P)}s(r,"TAsyncIterator");function n(A,P){return h0.TypeGuard.TTransform(A)||_(A.returns,P)||A.parameters.some(U=>_(U,P))}s(n,"TConstructor");function i(A,P){return h0.TypeGuard.TTransform(A)||_(A.returns,P)||A.parameters.some(U=>_(U,P))}s(i,"TFunction");function o(A,P){return h0.TypeGuard.TTransform(A)||h0.TypeGuard.TTransform(A.unevaluatedProperties)||A.allOf.some(U=>_(U,P))}s(o,"TIntersect");function a(A,P){return h0.TypeGuard.TTransform(A)||_(A.items,P)}s(a,"TIterator");function l(A,P){return h0.TypeGuard.TTransform(A)||_(A.not,P)}s(l,"TNot");function f(A,P){return h0.TypeGuard.TTransform(A)||Object.values(A.properties).some(U=>_(U,P))||h0.TypeGuard.TSchema(A.additionalProperties)&&_(A.additionalProperties,P)}s(f,"TObject");function c(A,P){return h0.TypeGuard.TTransform(A)||_(A.item,P)}s(c,"TPromise");function u(A,P){let U=Object.getOwnPropertyNames(A.patternProperties)[0],k=A.patternProperties[U];return h0.TypeGuard.TTransform(A)||_(k,P)||h0.TypeGuard.TSchema(A.additionalProperties)&&h0.TypeGuard.TTransform(A.additionalProperties)}s(u,"TRecord");function d(A,P){return h0.TypeGuard.TTransform(A)?!0:_((0,Z5.Deref)(A,P),P)}s(d,"TRef");function g(A,P){return h0.TypeGuard.TTransform(A)?!0:_((0,Z5.Deref)(A,P),P)}s(g,"TThis");function p(A,P){return h0.TypeGuard.TTransform(A)||!(0,Bi.IsUndefined)(A.items)&&A.items.some(U=>_(U,P))}s(p,"TTuple");function y(A,P){return h0.TypeGuard.TTransform(A)||A.anyOf.some(U=>_(U,P))}s(y,"TUnion");function _(A,P){let U=(0,Bi.IsString)(A.$id)?[...P,A]:P,k=A;if(A.$id&&S.has(A.$id))return!1;switch(A.$id&&S.add(A.$id),A[h0.Kind]){case"Array":return t(k,U);case"AsyncIterator":return r(k,U);case"Constructor":return n(k,U);case"Function":return i(k,U);case"Intersect":return o(k,U);case"Iterator":return a(k,U);case"Not":return l(k,U);case"Object":return f(k,U);case"Promise":return c(k,U);case"Record":return u(k,U);case"Ref":return d(k,U);case"This":return g(k,U);case"Tuple":return p(k,U);case"Union":return y(k,U);default:return h0.TypeGuard.TTransform(A)}}s(_,"Visit");let S=new Set;function E(A,P){return S.clear(),_(A,P)}s(E,"Has"),e.Has=E})(nN||(Ci.HasTransform=nN={}));var iN;(function(e){function t(p,y){try{return h0.TypeGuard.TTransform(p)?p[h0.Transform].Decode(y):y}catch(_){throw new fg(p,y,_)}}s(t,"Default");function r(p,y,_){return(0,Bi.IsArray)(_)?t(p,_.map(S=>d(p.items,y,S))):t(p,_)}s(r,"TArray");function n(p,y,_){if(!(0,Bi.IsPlainObject)(_)||(0,Bi.IsValueType)(_))return t(p,_);let S=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),E=S.reduce((k,L)=>L in k?{...k,[L]:d(h0.IndexedAccessor.Resolve(p,[L]),y,k[L])}:k,_);if(!h0.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,E);let A=Object.getOwnPropertyNames(E),P=p.unevaluatedProperties,U=A.reduce((k,L)=>S.includes(L)?k:{...k,[L]:t(P,k[L])},E);return t(p,U)}s(n,"TIntersect");function i(p,y,_){return t(p,d(p.not,y,_))}s(i,"TNot");function o(p,y,_){if(!(0,Bi.IsPlainObject)(_))return t(p,_);let S=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),E=S.reduce((k,L)=>L in k?{...k,[L]:d(p.properties[L],y,k[L])}:k,_);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,E);let A=Object.getOwnPropertyNames(E),P=p.additionalProperties,U=A.reduce((k,L)=>S.includes(L)?k:{...k,[L]:t(P,k[L])},E);return t(p,U)}s(o,"TObject");function a(p,y,_){if(!(0,Bi.IsPlainObject)(_))return t(p,_);let S=Object.getOwnPropertyNames(p.patternProperties)[0],E=new RegExp(S),A=Object.getOwnPropertyNames(_).reduce((L,Q)=>E.test(Q)?{...L,[Q]:d(p.patternProperties[S],y,L[Q])}:L,_);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,A);let P=Object.getOwnPropertyNames(A),U=p.additionalProperties,k=P.reduce((L,Q)=>E.test(Q)?L:{...L,[Q]:t(U,L[Q])},A);return t(p,k)}s(a,"TRecord");function l(p,y,_){let S=(0,Z5.Deref)(p,y);return t(p,d(S,y,_))}s(l,"TRef");function f(p,y,_){let S=(0,Z5.Deref)(p,y);return t(p,d(S,y,_))}s(f,"TThis");function c(p,y,_){return(0,Bi.IsArray)(_)&&(0,Bi.IsArray)(p.items)?t(p,p.items.map((S,E)=>d(S,y,_[E]))):t(p,_)}s(c,"TTuple");function u(p,y,_){let S=t(p,_);for(let E of p.anyOf)if((0,__.Check)(E,y,S))return d(E,y,S);return S}s(u,"TUnion");function d(p,y,_){let S=typeof p.$id=="string"?[...y,p]:y,E=p;switch(p[h0.Kind]){case"Array":return r(E,S,_);case"Intersect":return n(E,S,_);case"Not":return i(E,S,_);case"Object":return o(E,S,_);case"Record":return a(E,S,_);case"Ref":return l(E,S,_);case"Symbol":return t(E,_);case"This":return f(E,S,_);case"Tuple":return c(E,S,_);case"Union":return u(E,S,_);default:return t(E,_)}}s(d,"Visit");function g(p,y,_){return d(p,y,_)}s(g,"Decode"),e.Decode=g})(iN||(Ci.DecodeTransform=iN={}));var sN;(function(e){function t(p,y){try{return h0.TypeGuard.TTransform(p)?p[h0.Transform].Encode(y):y}catch(_){throw new cg(p,y,_)}}s(t,"Default");function r(p,y,_){let S=t(p,_);return(0,Bi.IsArray)(S)?S.map(E=>d(p.items,y,E)):S}s(r,"TArray");function n(p,y,_){let S=t(p,_);if(!(0,Bi.IsPlainObject)(_)||(0,Bi.IsValueType)(_))return S;let E=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),A=E.reduce((k,L)=>L in S?{...k,[L]:d(h0.IndexedAccessor.Resolve(p,[L]),y,k[L])}:k,S);if(!h0.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,A);let P=Object.getOwnPropertyNames(A),U=p.unevaluatedProperties;return P.reduce((k,L)=>E.includes(L)?k:{...k,[L]:t(U,k[L])},A)}s(n,"TIntersect");function i(p,y,_){return t(p.not,t(p,_))}s(i,"TNot");function o(p,y,_){let S=t(p,_);if(!(0,Bi.IsPlainObject)(_))return S;let E=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),A=E.reduce((k,L)=>L in k?{...k,[L]:d(p.properties[L],y,k[L])}:k,S);if(!h0.TypeGuard.TSchema(p.additionalProperties))return A;let P=Object.getOwnPropertyNames(A),U=p.additionalProperties;return P.reduce((k,L)=>E.includes(L)?k:{...k,[L]:t(U,k[L])},A)}s(o,"TObject");function a(p,y,_){let S=t(p,_);if(!(0,Bi.IsPlainObject)(_))return S;let E=Object.getOwnPropertyNames(p.patternProperties)[0],A=new RegExp(E),P=Object.getOwnPropertyNames(_).reduce((L,Q)=>A.test(Q)?{...L,[Q]:d(p.patternProperties[E],y,L[Q])}:L,S);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,P);let U=Object.getOwnPropertyNames(P),k=p.additionalProperties;return U.reduce((L,Q)=>A.test(Q)?L:{...L,[Q]:t(k,L[Q])},P)}s(a,"TRecord");function l(p,y,_){let S=(0,Z5.Deref)(p,y),E=d(S,y,_);return t(p,E)}s(l,"TRef");function f(p,y,_){let S=(0,Z5.Deref)(p,y),E=d(S,y,_);return t(p,E)}s(f,"TThis");function c(p,y,_){let S=t(p,_);return(0,Bi.IsArray)(p.items)?p.items.map((E,A)=>d(E,y,S[A])):[]}s(c,"TTuple");function u(p,y,_){for(let S of p.anyOf){if(!(0,__.Check)(S,y,_))continue;let E=d(S,y,_);return t(p,E)}for(let S of p.anyOf){let E=d(S,y,_);if((0,__.Check)(p,y,E))return t(p,E)}return t(p,_)}s(u,"TUnion");function d(p,y,_){let S=typeof p.$id=="string"?[...y,p]:y,E=p;switch(p[h0.Kind]){case"Array":return r(E,S,_);case"Intersect":return n(E,S,_);case"Not":return i(E,S,_);case"Object":return o(E,S,_);case"Record":return a(E,S,_);case"Ref":return l(E,S,_);case"This":return f(E,S,_);case"Tuple":return c(E,S,_);case"Union":return u(E,S,_);default:return t(E,_)}}s(d,"Visit");function g(p,y,_){return d(p,y,_)}s(g,"Encode"),e.Encode=g})(sN||(Ci.EncodeTransform=sN={}))});var aN=ae(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.TypeCompiler=to.Policy=to.TypeCompilerTypeGuardError=to.TypeCompilerUnknownTypeError=to.TypeCheck=void 0;var Th=I_(),S0=ts(),SX=_h(),Eh=v_(),wX=yc(),IX=bh(),qr=es(),R_=class R_{constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=Th.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,SX.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new Th.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?Th.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?Th.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Th.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};s(R_,"TypeCheck");var ug=R_;to.TypeCheck=ug;var jl;(function(e){function t(o){return o===36}s(t,"DollarSign"),e.DollarSign=t;function r(o){return o===95}s(r,"IsUnderscore"),e.IsUnderscore=r;function n(o){return o>=65&&o<=90||o>=97&&o<=122}s(n,"IsAlpha"),e.IsAlpha=n;function i(o){return o>=48&&o<=57}s(i,"IsNumeric"),e.IsNumeric=i})(jl||(jl={}));var dg;(function(e){function t(o){return o.length===0?!1:jl.IsNumeric(o.charCodeAt(0))}s(t,"IsFirstCharacterNumeric");function r(o){if(t(o))return!1;for(let a=0;a<o.length;a++){let l=o.charCodeAt(a);if(!(jl.IsAlpha(l)||jl.IsNumeric(l)||jl.DollarSign(l)||jl.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(o){return o.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function i(o,a){return r(a)?`${o}.${a}`:`${o}['${n(a)}']`}s(i,"Encode"),e.Encode=i})(dg||(dg={}));var A_;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);jl.IsNumeric(o)||jl.IsAlpha(o)?n.push(r.charAt(i)):n.push(`_${o}_`)}return n.join("").replace(/__/g,"_")}s(t,"Encode"),e.Encode=t})(A_||(A_={}));var P_;(function(e){function t(r){return r.replace(/'/g,"\\'")}s(t,"Escape"),e.Escape=t})(P_||(P_={}));var k_=class k_ extends qr.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(k_,"TypeCompilerUnknownTypeError");var hg=k_;to.TypeCompilerUnknownTypeError=hg;var N_=class N_ extends qr.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};s(N_,"TypeCompilerTypeGuardError");var Sh=N_;to.TypeCompilerTypeGuardError=Sh;var Lu;(function(e){function t(a,l,f){return Eh.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${f} : true)`:`(${dg.Encode(a,l)} !== undefined ? ${f} : true)`}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Eh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Eh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Eh.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){return Eh.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}s(o,"IsVoidLike"),e.IsVoidLike=o})(Lu||(to.Policy=Lu={}));var oN;(function(e){function t(G){return G[qr.Kind]==="Any"||G[qr.Kind]==="Unknown"}s(t,"IsAnyOrUnknown");function*r(G,Je,he){yield"true"}s(r,"TAny");function*n(G,Je,he){yield`Array.isArray(${he})`;let[Xe,Ve]=[mt("value","any"),mt("acc","number")];(0,S0.IsNumber)(G.maxItems)&&(yield`${he}.length <= ${G.maxItems}`),(0,S0.IsNumber)(G.minItems)&&(yield`${he}.length >= ${G.minItems}`);let nt=ce(G.items,Je,"value");if(yield`${he}.every((${Xe}) => ${nt})`,qr.TypeGuard.TSchema(G.contains)||(0,S0.IsNumber)(G.minContains)||(0,S0.IsNumber)(G.maxContains)){let wt=qr.TypeGuard.TSchema(G.contains)?G.contains:qr.Type.Never(),Mt=ce(wt,Je,"value"),Lt=(0,S0.IsNumber)(G.minContains)?[`(count >= ${G.minContains})`]:[],H=(0,S0.IsNumber)(G.maxContains)?[`(count <= ${G.maxContains})`]:[],$t=`const count = value.reduce((${Ve}, ${Xe}) => ${Mt} ? acc + 1 : acc, 0)`,vt=["(count > 0)",...Lt,...H].join(" && ");yield`((${Xe}) => { ${$t}; return ${vt}})(${he})`}G.uniqueItems===!0&&(yield`((${Xe}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${he})`)}s(n,"TArray");function*i(G,Je,he){yield`(typeof value === 'object' && Symbol.asyncIterator in ${he})`}s(i,"TAsyncIterator");function*o(G,Je,he){yield`(typeof ${he} === 'bigint')`,(0,S0.IsBigInt)(G.exclusiveMaximum)&&(yield`${he} < BigInt(${G.exclusiveMaximum})`),(0,S0.IsBigInt)(G.exclusiveMinimum)&&(yield`${he} > BigInt(${G.exclusiveMinimum})`),(0,S0.IsBigInt)(G.maximum)&&(yield`${he} <= BigInt(${G.maximum})`),(0,S0.IsBigInt)(G.minimum)&&(yield`${he} >= BigInt(${G.minimum})`),(0,S0.IsBigInt)(G.multipleOf)&&(yield`(${he} % BigInt(${G.multipleOf})) === 0`)}s(o,"TBigInt");function*a(G,Je,he){yield`(typeof ${he} === 'boolean')`}s(a,"TBoolean");function*l(G,Je,he){yield*be(G.returns,Je,`${he}.prototype`)}s(l,"TConstructor");function*f(G,Je,he){yield`(${he} instanceof Date) && Number.isFinite(${he}.getTime())`,(0,S0.IsNumber)(G.exclusiveMaximumTimestamp)&&(yield`${he}.getTime() < ${G.exclusiveMaximumTimestamp}`),(0,S0.IsNumber)(G.exclusiveMinimumTimestamp)&&(yield`${he}.getTime() > ${G.exclusiveMinimumTimestamp}`),(0,S0.IsNumber)(G.maximumTimestamp)&&(yield`${he}.getTime() <= ${G.maximumTimestamp}`),(0,S0.IsNumber)(G.minimumTimestamp)&&(yield`${he}.getTime() >= ${G.minimumTimestamp}`),(0,S0.IsNumber)(G.multipleOfTimestamp)&&(yield`(${he}.getTime() % ${G.multipleOfTimestamp}) === 0`)}s(f,"TDate");function*c(G,Je,he){yield`(typeof ${he} === 'function')`}s(c,"TFunction");function*u(G,Je,he){yield`(typeof ${he} === 'number' && Number.isInteger(${he}))`,(0,S0.IsNumber)(G.exclusiveMaximum)&&(yield`${he} < ${G.exclusiveMaximum}`),(0,S0.IsNumber)(G.exclusiveMinimum)&&(yield`${he} > ${G.exclusiveMinimum}`),(0,S0.IsNumber)(G.maximum)&&(yield`${he} <= ${G.maximum}`),(0,S0.IsNumber)(G.minimum)&&(yield`${he} >= ${G.minimum}`),(0,S0.IsNumber)(G.multipleOf)&&(yield`(${he} % ${G.multipleOf}) === 0`)}s(u,"TInteger");function*d(G,Je,he){let Xe=G.allOf.map(Ve=>ce(Ve,Je,he)).join(" && ");if(G.unevaluatedProperties===!1){let Ve=le(`${new RegExp(qr.KeyResolver.ResolvePattern(G))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.test(key))`;yield`(${Xe} && ${nt})`}else if(qr.TypeGuard.TSchema(G.unevaluatedProperties)){let Ve=le(`${new RegExp(qr.KeyResolver.ResolvePattern(G))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.test(key) || ${ce(G.unevaluatedProperties,Je,`${he}[key]`)})`;yield`(${Xe} && ${nt})`}else yield`(${Xe})`}s(d,"TIntersect");function*g(G,Je,he){yield`(typeof value === 'object' && Symbol.iterator in ${he})`}s(g,"TIterator");function*p(G,Je,he){typeof G.const=="number"||typeof G.const=="boolean"?yield`(${he} === ${G.const})`:yield`(${he} === '${P_.Escape(G.const)}')`}s(p,"TLiteral");function*y(G,Je,he){yield"false"}s(y,"TNever");function*_(G,Je,he){yield`(!${ce(G.not,Je,he)})`}s(_,"TNot");function*S(G,Je,he){yield`(${he} === null)`}s(S,"TNull");function*E(G,Je,he){yield Lu.IsNumberLike(he),(0,S0.IsNumber)(G.exclusiveMaximum)&&(yield`${he} < ${G.exclusiveMaximum}`),(0,S0.IsNumber)(G.exclusiveMinimum)&&(yield`${he} > ${G.exclusiveMinimum}`),(0,S0.IsNumber)(G.maximum)&&(yield`${he} <= ${G.maximum}`),(0,S0.IsNumber)(G.minimum)&&(yield`${he} >= ${G.minimum}`),(0,S0.IsNumber)(G.multipleOf)&&(yield`(${he} % ${G.multipleOf}) === 0`)}s(E,"TNumber");function*A(G,Je,he){yield Lu.IsObjectLike(he),(0,S0.IsNumber)(G.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${G.minProperties}`),(0,S0.IsNumber)(G.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${G.maxProperties}`);let Xe=Object.getOwnPropertyNames(G.properties);for(let Ve of Xe){let nt=dg.Encode(he,Ve),wt=G.properties[Ve];if(G.required&&G.required.includes(Ve))yield*be(wt,Je,nt),(qr.ExtendsUndefined.Check(wt)||t(wt))&&(yield`('${Ve}' in ${he})`);else{let Mt=ce(wt,Je,nt);yield Lu.IsExactOptionalProperty(he,Ve,Mt)}}if(G.additionalProperties===!1)if(G.required&&G.required.length===Xe.length)yield`Object.getOwnPropertyNames(${he}).length === ${Xe.length}`;else{let Ve=`[${Xe.map(nt=>`'${nt}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.includes(key))`}if(typeof G.additionalProperties=="object"){let Ve=ce(G.additionalProperties,Je,`${he}[key]`),nt=`[${Xe.map(wt=>`'${wt}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${he}).every(key => ${nt}.includes(key) || ${Ve}))`}}s(A,"TObject");function*P(G,Je,he){yield`(typeof value === 'object' && typeof ${he}.then === 'function')`}s(P,"TPromise");function*U(G,Je,he){yield Lu.IsRecordLike(he),(0,S0.IsNumber)(G.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${G.minProperties}`),(0,S0.IsNumber)(G.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${G.maxProperties}`);let[Xe,Ve]=Object.entries(G.patternProperties)[0],nt=le(`${new RegExp(Xe)}`),wt=ce(Ve,Je,"value"),Mt=qr.TypeGuard.TSchema(G.additionalProperties)?ce(G.additionalProperties,Je,he):G.additionalProperties===!1?"false":"true",Lt=`(${nt}.test(key) ? ${wt} : ${Mt})`;yield`(Object.entries(${he}).every(([key, value]) => ${Lt}))`}s(U,"TRecord");function*k(G,Je,he){let Xe=(0,wX.Deref)(G,Je);if(Ke.functions.has(G.$ref))return yield`${ve(G.$ref)}(${he})`;yield*be(Xe,Je,he)}s(k,"TRef");function*L(G,Je,he){yield`(typeof ${he} === 'string')`,(0,S0.IsNumber)(G.maxLength)&&(yield`${he}.length <= ${G.maxLength}`),(0,S0.IsNumber)(G.minLength)&&(yield`${he}.length >= ${G.minLength}`),G.pattern!==void 0&&(yield`${le(`${new RegExp(G.pattern)};`)}.test(${he})`),G.format!==void 0&&(yield`format('${G.format}', ${he})`)}s(L,"TString");function*Q(G,Je,he){yield`(typeof ${he} === 'symbol')`}s(Q,"TSymbol");function*te(G,Je,he){yield`(typeof ${he} === 'string')`,yield`${le(`${new RegExp(G.pattern)};`)}.test(${he})`}s(te,"TTemplateLiteral");function*Ce(G,Je,he){yield`${ve(G.$ref)}(${he})`}s(Ce,"TThis");function*De(G,Je,he){if(yield`Array.isArray(${he})`,G.items===void 0)return yield`${he}.length === 0`;yield`(${he}.length === ${G.maxItems})`;for(let Xe=0;Xe<G.items.length;Xe++)yield`${ce(G.items[Xe],Je,`${he}[${Xe}]`)}`}s(De,"TTuple");function*pe(G,Je,he){yield`${he} === undefined`}s(pe,"TUndefined");function*Ie(G,Je,he){yield`(${G.anyOf.map(Ve=>ce(Ve,Je,he)).join(" || ")})`}s(Ie,"TUnion");function*ie(G,Je,he){yield`${he} instanceof Uint8Array`,(0,S0.IsNumber)(G.maxByteLength)&&(yield`(${he}.length <= ${G.maxByteLength})`),(0,S0.IsNumber)(G.minByteLength)&&(yield`(${he}.length >= ${G.minByteLength})`)}s(ie,"TUint8Array");function*Z(G,Je,he){yield"true"}s(Z,"TUnknown");function*_e(G,Je,he){yield Lu.IsVoidLike(he)}s(_e,"TVoid");function*Ae(G,Je,he){let Xe=Ke.instances.size;Ke.instances.set(Xe,G),yield`kind('${G[qr.Kind]}', ${Xe}, ${he})`}s(Ae,"TKind");function*be(G,Je,he,Xe=!0){let Ve=(0,S0.IsString)(G.$id)?[...Je,G]:Je,nt=G;if(Xe&&(0,S0.IsString)(G.$id)){let wt=ve(G.$id);if(Ke.functions.has(wt))return yield`${wt}(${he})`;{let Mt=Ee(wt,G,Je,"value",!1);return Ke.functions.set(wt,Mt),yield`${wt}(${he})`}}switch(nt[qr.Kind]){case"Any":return yield*r(nt,Ve,he);case"Array":return yield*n(nt,Ve,he);case"AsyncIterator":return yield*i(nt,Ve,he);case"BigInt":return yield*o(nt,Ve,he);case"Boolean":return yield*a(nt,Ve,he);case"Constructor":return yield*l(nt,Ve,he);case"Date":return yield*f(nt,Ve,he);case"Function":return yield*c(nt,Ve,he);case"Integer":return yield*u(nt,Ve,he);case"Intersect":return yield*d(nt,Ve,he);case"Iterator":return yield*g(nt,Ve,he);case"Literal":return yield*p(nt,Ve,he);case"Never":return yield*y(nt,Ve,he);case"Not":return yield*_(nt,Ve,he);case"Null":return yield*S(nt,Ve,he);case"Number":return yield*E(nt,Ve,he);case"Object":return yield*A(nt,Ve,he);case"Promise":return yield*P(nt,Ve,he);case"Record":return yield*U(nt,Ve,he);case"Ref":return yield*k(nt,Ve,he);case"String":return yield*L(nt,Ve,he);case"Symbol":return yield*Q(nt,Ve,he);case"TemplateLiteral":return yield*te(nt,Ve,he);case"This":return yield*Ce(nt,Ve,he);case"Tuple":return yield*De(nt,Ve,he);case"Undefined":return yield*pe(nt,Ve,he);case"Union":return yield*Ie(nt,Ve,he);case"Uint8Array":return yield*ie(nt,Ve,he);case"Unknown":return yield*Z(nt,Ve,he);case"Void":return yield*_e(nt,Ve,he);default:if(!qr.TypeRegistry.Has(nt[qr.Kind]))throw new hg(G);return yield*Ae(nt,Ve,he)}}s(be,"Visit");let Ke={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(G,Je,he,Xe=!0){return`(${[...be(G,Je,he,Xe)].join(" && ")})`}s(ce,"CreateExpression");function ve(G){return`check_${A_.Encode(G)}`}s(ve,"CreateFunctionName");function le(G){let Je=`local_${Ke.variables.size}`;return Ke.variables.set(Je,`const ${Je} = ${G}`),Je}s(le,"CreateVariable");function Ee(G,Je,he,Xe,Ve=!0){let[nt,wt]=[`
`,$t=>"".padStart($t," ")],Mt=mt("value","any"),Lt=Et("boolean"),H=[...be(Je,he,Xe,Ve)].map($t=>`${wt(4)}${$t}`).join(` &&${nt}`);return`function ${G}(${Mt})${Lt} {${nt}${wt(2)}return (${nt}${H}${nt}${wt(2)})
}`}s(Ee,"CreateFunction");function mt(G,Je){let he=Ke.language==="typescript"?`: ${Je}`:"";return`${G}${he}`}s(mt,"CreateParameter");function Et(G){return Ke.language==="typescript"?`: ${G}`:""}s(Et,"CreateReturns");function dt(G,Je,he){let Xe=Ee("check",G,Je,"value"),Ve=mt("value","any"),nt=Et("boolean"),wt=[...Ke.functions.values()],Mt=[...Ke.variables.values()],Lt=(0,S0.IsString)(G.$id)?`return function check(${Ve})${nt} {
  return ${ve(G.$id)}(value)
}`:`return ${Xe}`;return[...Mt,...wt,Lt].join(`
`)}s(dt,"Build");function ze(...G){let Je={language:"javascript"},[he,Xe,Ve]=G.length===2&&(0,S0.IsArray)(G[1])?[G[0],G[1],Je]:G.length===2&&!(0,S0.IsArray)(G[1])?[G[0],[],G[1]]:G.length===3?[G[0],G[1],G[2]]:G.length===1?[G[0],[],Je]:[null,[],Je];if(Ke.language=Ve.language,Ke.variables.clear(),Ke.functions.clear(),Ke.instances.clear(),!qr.TypeGuard.TSchema(he))throw new Sh(he);for(let nt of Xe)if(!qr.TypeGuard.TSchema(nt))throw new Sh(nt);return dt(he,Xe,Ve)}s(ze,"Code"),e.Code=ze;function n0(G,Je=[]){let he=ze(G,Je,{language:"javascript"}),Xe=globalThis.Function("kind","format","hash",he),Ve=new Map(Ke.instances);function nt(H,$t,vt){if(!qr.TypeRegistry.Has(H)||!Ve.has($t))return!1;let sr=qr.TypeRegistry.Get(H),X0=Ve.get($t);return sr(X0,vt)}s(nt,"typeRegistryFunction");function wt(H,$t){return qr.FormatRegistry.Has(H)?qr.FormatRegistry.Get(H)($t):!1}s(wt,"formatRegistryFunction");function Mt(H){return(0,IX.Hash)(H)}s(Mt,"hashFunction");let Lt=Xe(nt,wt,Mt);return new ug(G,Je,Lt,he)}s(n0,"Compile"),e.Compile=n0})(oN||(to.TypeCompiler=oN={}))});var fN=ae(zo=>{"use strict";var AX=zo&&zo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PX=zo&&zo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AX(t,e,r)};Object.defineProperty(zo,"__esModule",{value:!0});zo.ValueErrorIterator=zo.ValueErrorType=void 0;var lN=ag();Object.defineProperty(zo,"ValueErrorType",{enumerable:!0,get:function(){return lN.ValueErrorType}});Object.defineProperty(zo,"ValueErrorIterator",{enumerable:!0,get:function(){return lN.ValueErrorIterator}});PX(aN(),zo)});var F0=ae((mg,cN)=>{(function(e,t){typeof mg=="object"?cN.exports=mg=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(mg,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),o=Object.create||function(){function E(){}return s(E,"F"),function(A){var P;return E.prototype=A,P=new E,E.prototype=null,P}}(),a={},l=a.lib={},f=l.Base=function(){return{extend:function(E){var A=o(this);return E&&A.mixIn(E),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var A in E)E.hasOwnProperty(A)&&(this[A]=E[A]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=f.extend({init:function(E,A){E=this.words=E||[],A!=r?this.sigBytes=A:this.sigBytes=E.length*4},toString:function(E){return(E||d).stringify(this)},concat:function(E){var A=this.words,P=E.words,U=this.sigBytes,k=E.sigBytes;if(this.clamp(),U%4)for(var L=0;L<k;L++){var Q=P[L>>>2]>>>24-L%4*8&255;A[U+L>>>2]|=Q<<24-(U+L)%4*8}else for(var te=0;te<k;te+=4)A[U+te>>>2]=P[te>>>2];return this.sigBytes+=k,this},clamp:function(){var E=this.words,A=this.sigBytes;E[A>>>2]&=4294967295<<32-A%4*8,E.length=t.ceil(A/4)},clone:function(){var E=f.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var A=[],P=0;P<E;P+=4)A.push(i());return new c.init(A,E)}}),u=a.enc={},d=u.Hex={stringify:function(E){for(var A=E.words,P=E.sigBytes,U=[],k=0;k<P;k++){var L=A[k>>>2]>>>24-k%4*8&255;U.push((L>>>4).toString(16)),U.push((L&15).toString(16))}return U.join("")},parse:function(E){for(var A=E.length,P=[],U=0;U<A;U+=2)P[U>>>3]|=parseInt(E.substr(U,2),16)<<24-U%8*4;return new c.init(P,A/2)}},g=u.Latin1={stringify:function(E){for(var A=E.words,P=E.sigBytes,U=[],k=0;k<P;k++){var L=A[k>>>2]>>>24-k%4*8&255;U.push(String.fromCharCode(L))}return U.join("")},parse:function(E){for(var A=E.length,P=[],U=0;U<A;U++)P[U>>>2]|=(E.charCodeAt(U)&255)<<24-U%4*8;return new c.init(P,A)}},p=u.Utf8={stringify:function(E){try{return decodeURIComponent(escape(g.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return g.parse(unescape(encodeURIComponent(E)))}},y=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=p.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var A,P=this._data,U=P.words,k=P.sigBytes,L=this.blockSize,Q=L*4,te=k/Q;E?te=t.ceil(te):te=t.max((te|0)-this._minBufferSize,0);var Ce=te*L,De=t.min(Ce*4,k);if(Ce){for(var pe=0;pe<Ce;pe+=L)this._doProcessBlock(U,pe);A=U.splice(0,Ce),P.sigBytes-=De}return new c.init(A,De)},clone:function(){var E=f.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),_=l.Hasher=y.extend({cfg:f.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var A=this._doFinalize();return A},blockSize:512/32,_createHelper:function(E){return function(A,P){return new E.init(P).finalize(A)}},_createHmacHelper:function(E){return function(A,P){return new S.HMAC.init(E,P).finalize(A)}}}),S=a.algo={};return a}(Math);return e})});var wh=ae((gg,uN)=>{(function(e,t){typeof gg=="object"?uN.exports=gg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gg,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:function(c,u){this.high=c,this.low=u}}),f=a.WordArray=i.extend({init:function(c,u){c=this.words=c||[],u!=t?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,d=[],g=0;g<u;g++){var p=c[g];d.push(p.high),d.push(p.low)}return o.create(d,this.sigBytes)},clone:function(){for(var c=i.clone.call(this),u=c.words=this.words.slice(0),d=u.length,g=0;g<d;g++)u[g]=u[g].clone();return c}})}(),e})});var hN=ae((pg,dN)=>{(function(e,t){typeof pg=="object"?dN.exports=pg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pg,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,o=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,f=[],c=0;c<l;c++)f[c>>>2]|=a[c]<<24-c%4*8;i.call(this,f,l)}else i.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})});var gN=ae((yg,mN)=>{(function(e,t){typeof yg=="object"?mN.exports=yg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Utf16=i.Utf16BE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var g=f[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(g))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return n.create(c,f*2)}};i.Utf16LE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var g=a(f[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(g))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return n.create(c,f*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}s(a,"swapEndian")}(),e.enc.Utf16})});var xc=ae((vg,pN)=>{(function(e,t){typeof vg=="object"?pN.exports=vg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(vg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64={stringify:function(l){var f=l.words,c=l.sigBytes,u=this._map;l.clamp();for(var d=[],g=0;g<c;g+=3)for(var p=f[g>>>2]>>>24-g%4*8&255,y=f[g+1>>>2]>>>24-(g+1)%4*8&255,_=f[g+2>>>2]>>>24-(g+2)%4*8&255,S=p<<16|y<<8|_,E=0;E<4&&g+E*.75<c;E++)d.push(u.charAt(S>>>6*(3-E)&63));var A=u.charAt(64);if(A)for(;d.length%4;)d.push(A);return d.join("")},parse:function(l){var f=l.length,c=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<c.length;d++)u[c.charCodeAt(d)]=d}var g=c.charAt(64);if(g){var p=l.indexOf(g);p!==-1&&(f=p)}return a(l,f,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,f,c){for(var u=[],d=0,g=0;g<f;g++)if(g%4){var p=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=p|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64})});var vN=ae((xg,yN)=>{(function(e,t){typeof xg=="object"?yN.exports=xg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64url={stringify:function(l,f){f===void 0&&(f=!0);var c=l.words,u=l.sigBytes,d=f?this._safe_map:this._map;l.clamp();for(var g=[],p=0;p<u;p+=3)for(var y=c[p>>>2]>>>24-p%4*8&255,_=c[p+1>>>2]>>>24-(p+1)%4*8&255,S=c[p+2>>>2]>>>24-(p+2)%4*8&255,E=y<<16|_<<8|S,A=0;A<4&&p+A*.75<u;A++)g.push(d.charAt(E>>>6*(3-A)&63));var P=d.charAt(64);if(P)for(;g.length%4;)g.push(P);return g.join("")},parse:function(l,f){f===void 0&&(f=!0);var c=l.length,u=f?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var g=0;g<u.length;g++)d[u.charCodeAt(g)]=g}var p=u.charAt(64);if(p){var y=l.indexOf(p);y!==-1&&(c=y)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,f,c){for(var u=[],d=0,g=0;g<f;g++)if(g%4){var p=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=p|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64url})});var _c=ae((_g,xN)=>{(function(e,t){typeof _g=="object"?xN.exports=_g=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_g,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var f=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,y){for(var _=0;_<16;_++){var S=y+_,E=p[S];p[S]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var A=this._hash.words,P=p[y+0],U=p[y+1],k=p[y+2],L=p[y+3],Q=p[y+4],te=p[y+5],Ce=p[y+6],De=p[y+7],pe=p[y+8],Ie=p[y+9],ie=p[y+10],Z=p[y+11],_e=p[y+12],Ae=p[y+13],be=p[y+14],Ke=p[y+15],ce=A[0],ve=A[1],le=A[2],Ee=A[3];ce=c(ce,ve,le,Ee,P,7,l[0]),Ee=c(Ee,ce,ve,le,U,12,l[1]),le=c(le,Ee,ce,ve,k,17,l[2]),ve=c(ve,le,Ee,ce,L,22,l[3]),ce=c(ce,ve,le,Ee,Q,7,l[4]),Ee=c(Ee,ce,ve,le,te,12,l[5]),le=c(le,Ee,ce,ve,Ce,17,l[6]),ve=c(ve,le,Ee,ce,De,22,l[7]),ce=c(ce,ve,le,Ee,pe,7,l[8]),Ee=c(Ee,ce,ve,le,Ie,12,l[9]),le=c(le,Ee,ce,ve,ie,17,l[10]),ve=c(ve,le,Ee,ce,Z,22,l[11]),ce=c(ce,ve,le,Ee,_e,7,l[12]),Ee=c(Ee,ce,ve,le,Ae,12,l[13]),le=c(le,Ee,ce,ve,be,17,l[14]),ve=c(ve,le,Ee,ce,Ke,22,l[15]),ce=u(ce,ve,le,Ee,U,5,l[16]),Ee=u(Ee,ce,ve,le,Ce,9,l[17]),le=u(le,Ee,ce,ve,Z,14,l[18]),ve=u(ve,le,Ee,ce,P,20,l[19]),ce=u(ce,ve,le,Ee,te,5,l[20]),Ee=u(Ee,ce,ve,le,ie,9,l[21]),le=u(le,Ee,ce,ve,Ke,14,l[22]),ve=u(ve,le,Ee,ce,Q,20,l[23]),ce=u(ce,ve,le,Ee,Ie,5,l[24]),Ee=u(Ee,ce,ve,le,be,9,l[25]),le=u(le,Ee,ce,ve,L,14,l[26]),ve=u(ve,le,Ee,ce,pe,20,l[27]),ce=u(ce,ve,le,Ee,Ae,5,l[28]),Ee=u(Ee,ce,ve,le,k,9,l[29]),le=u(le,Ee,ce,ve,De,14,l[30]),ve=u(ve,le,Ee,ce,_e,20,l[31]),ce=d(ce,ve,le,Ee,te,4,l[32]),Ee=d(Ee,ce,ve,le,pe,11,l[33]),le=d(le,Ee,ce,ve,Z,16,l[34]),ve=d(ve,le,Ee,ce,be,23,l[35]),ce=d(ce,ve,le,Ee,U,4,l[36]),Ee=d(Ee,ce,ve,le,Q,11,l[37]),le=d(le,Ee,ce,ve,De,16,l[38]),ve=d(ve,le,Ee,ce,ie,23,l[39]),ce=d(ce,ve,le,Ee,Ae,4,l[40]),Ee=d(Ee,ce,ve,le,P,11,l[41]),le=d(le,Ee,ce,ve,L,16,l[42]),ve=d(ve,le,Ee,ce,Ce,23,l[43]),ce=d(ce,ve,le,Ee,Ie,4,l[44]),Ee=d(Ee,ce,ve,le,_e,11,l[45]),le=d(le,Ee,ce,ve,Ke,16,l[46]),ve=d(ve,le,Ee,ce,k,23,l[47]),ce=g(ce,ve,le,Ee,P,6,l[48]),Ee=g(Ee,ce,ve,le,De,10,l[49]),le=g(le,Ee,ce,ve,be,15,l[50]),ve=g(ve,le,Ee,ce,te,21,l[51]),ce=g(ce,ve,le,Ee,_e,6,l[52]),Ee=g(Ee,ce,ve,le,L,10,l[53]),le=g(le,Ee,ce,ve,ie,15,l[54]),ve=g(ve,le,Ee,ce,U,21,l[55]),ce=g(ce,ve,le,Ee,pe,6,l[56]),Ee=g(Ee,ce,ve,le,Ke,10,l[57]),le=g(le,Ee,ce,ve,Ce,15,l[58]),ve=g(ve,le,Ee,ce,Ae,21,l[59]),ce=g(ce,ve,le,Ee,Q,6,l[60]),Ee=g(Ee,ce,ve,le,Z,10,l[61]),le=g(le,Ee,ce,ve,k,15,l[62]),ve=g(ve,le,Ee,ce,Ie,21,l[63]),A[0]=A[0]+ce|0,A[1]=A[1]+ve|0,A[2]=A[2]+le|0,A[3]=A[3]+Ee|0},_doFinalize:function(){var p=this._data,y=p.words,_=this._nDataBytes*8,S=p.sigBytes*8;y[S>>>5]|=128<<24-S%32;var E=t.floor(_/4294967296),A=_;y[(S+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,y[(S+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,p.sigBytes=(y.length+1)*4,this._process();for(var P=this._hash,U=P.words,k=0;k<4;k++){var L=U[k];U[k]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return P},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function c(p,y,_,S,E,A,P){var U=p+(y&_|~y&S)+E+P;return(U<<A|U>>>32-A)+y}s(c,"FF");function u(p,y,_,S,E,A,P){var U=p+(y&S|_&~S)+E+P;return(U<<A|U>>>32-A)+y}s(u,"GG");function d(p,y,_,S,E,A,P){var U=p+(y^_^S)+E+P;return(U<<A|U>>>32-A)+y}s(d,"HH");function g(p,y,_,S,E,A,P){var U=p+(_^(y|~S))+E+P;return(U<<A|U>>>32-A)+y}s(g,"II"),r.MD5=o._createHelper(f),r.HmacMD5=o._createHmacHelper(f)}(Math),e.MD5})});var D_=ae((bg,_N)=>{(function(e,t){typeof bg=="object"?_N.exports=bg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(bg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,a=[],l=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,c){for(var u=this._hash.words,d=u[0],g=u[1],p=u[2],y=u[3],_=u[4],S=0;S<80;S++){if(S<16)a[S]=f[c+S]|0;else{var E=a[S-3]^a[S-8]^a[S-14]^a[S-16];a[S]=E<<1|E>>>31}var A=(d<<5|d>>>27)+_+a[S];S<20?A+=(g&p|~g&y)+1518500249:S<40?A+=(g^p^y)+1859775393:S<60?A+=(g&p|g&y|p&y)-1894007588:A+=(g^p^y)-899497514,_=y,y=p,p=g<<30|g>>>2,g=d,d=A}u[0]=u[0]+d|0,u[1]=u[1]+g|0,u[2]=u[2]+p|0,u[3]=u[3]+y|0,u[4]=u[4]+_|0},_doFinalize:function(){var f=this._data,c=f.words,u=this._nDataBytes*8,d=f.sigBytes*8;return c[d>>>5]|=128<<24-d%32,c[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),c[(d+64>>>9<<4)+15]=u,f.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var f=i.clone.call(this);return f._hash=this._hash.clone(),f}});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var Tg=ae((Cg,bN)=>{(function(e,t){typeof Cg=="object"?bN.exports=Cg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Cg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[],f=[];(function(){function d(_){for(var S=t.sqrt(_),E=2;E<=S;E++)if(!(_%E))return!1;return!0}s(d,"isPrime");function g(_){return(_-(_|0))*4294967296|0}s(g,"getFractionalBits");for(var p=2,y=0;y<64;)d(p)&&(y<8&&(l[y]=g(t.pow(p,1/2))),f[y]=g(t.pow(p,1/3)),y++),p++})();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(l.slice(0))},_doProcessBlock:function(d,g){for(var p=this._hash.words,y=p[0],_=p[1],S=p[2],E=p[3],A=p[4],P=p[5],U=p[6],k=p[7],L=0;L<64;L++){if(L<16)c[L]=d[g+L]|0;else{var Q=c[L-15],te=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,Ce=c[L-2],De=(Ce<<15|Ce>>>17)^(Ce<<13|Ce>>>19)^Ce>>>10;c[L]=te+c[L-7]+De+c[L-16]}var pe=A&P^~A&U,Ie=y&_^y&S^_&S,ie=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),Z=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),_e=k+Z+pe+f[L]+c[L],Ae=ie+Ie;k=U,U=P,P=A,A=E+_e|0,E=S,S=_,_=y,y=_e+Ae|0}p[0]=p[0]+y|0,p[1]=p[1]+_|0,p[2]=p[2]+S|0,p[3]=p[3]+E|0,p[4]=p[4]+A|0,p[5]=p[5]+P|0,p[6]=p[6]+U|0,p[7]=p[7]+k|0},_doFinalize:function(){var d=this._data,g=d.words,p=this._nDataBytes*8,y=d.sigBytes*8;return g[y>>>5]|=128<<24-y%32,g[(y+64>>>9<<4)+14]=t.floor(p/4294967296),g[(y+64>>>9<<4)+15]=p,d.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=o._createHelper(u),r.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256})});var TN=ae((Eg,CN)=>{(function(e,t,r){typeof Eg=="object"?CN.exports=Eg=t(F0(),Tg()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Eg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})});var L_=ae((Sg,EN)=>{(function(e,t,r){typeof Sg=="object"?EN.exports=Sg=t(F0(),wh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Sg,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,o=i.Word,a=i.WordArray,l=t.algo;function f(){return o.create.apply(o,arguments)}s(f,"X64Word_create");var c=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],u=[];(function(){for(var g=0;g<80;g++)u[g]=f()})();var d=l.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(g,p){for(var y=this._hash.words,_=y[0],S=y[1],E=y[2],A=y[3],P=y[4],U=y[5],k=y[6],L=y[7],Q=_.high,te=_.low,Ce=S.high,De=S.low,pe=E.high,Ie=E.low,ie=A.high,Z=A.low,_e=P.high,Ae=P.low,be=U.high,Ke=U.low,ce=k.high,ve=k.low,le=L.high,Ee=L.low,mt=Q,Et=te,dt=Ce,ze=De,n0=pe,G=Ie,Je=ie,he=Z,Xe=_e,Ve=Ae,nt=be,wt=Ke,Mt=ce,Lt=ve,H=le,$t=Ee,vt=0;vt<80;vt++){var sr,X0,pr=u[vt];if(vt<16)X0=pr.high=g[p+vt*2]|0,sr=pr.low=g[p+vt*2+1]|0;else{var J0=u[vt-15],Wr=J0.high,mn=J0.low,Un=(Wr>>>1|mn<<31)^(Wr>>>8|mn<<24)^Wr>>>7,gn=(mn>>>1|Wr<<31)^(mn>>>8|Wr<<24)^(mn>>>7|Wr<<25),Xt=u[vt-2],Y=Xt.high,N=Xt.low,B=(Y>>>19|N<<13)^(Y<<3|N>>>29)^Y>>>6,Ye=(N>>>19|Y<<13)^(N<<3|Y>>>29)^(N>>>6|Y<<26),Vt=u[vt-7],w0=Vt.high,A0=Vt.low,Gt=u[vt-16],G0=Gt.high,u0=Gt.low;sr=gn+A0,X0=Un+w0+(sr>>>0<gn>>>0?1:0),sr=sr+Ye,X0=X0+B+(sr>>>0<Ye>>>0?1:0),sr=sr+u0,X0=X0+G0+(sr>>>0<u0>>>0?1:0),pr.high=X0,pr.low=sr}var er=Xe&nt^~Xe&Mt,I0=Ve&wt^~Ve&Lt,Q0=mt&dt^mt&n0^dt&n0,kt=Et&ze^Et&G^ze&G,gs=(mt>>>28|Et<<4)^(mt<<30|Et>>>2)^(mt<<25|Et>>>7),sl=(Et>>>28|mt<<4)^(Et<<30|mt>>>2)^(Et<<25|mt>>>7),qn=(Xe>>>14|Ve<<18)^(Xe>>>18|Ve<<14)^(Xe<<23|Ve>>>9),Us=(Ve>>>14|Xe<<18)^(Ve>>>18|Xe<<14)^(Ve<<23|Xe>>>9),Vi=c[vt],Eo=Vi.high,ye=Vi.low,M=$t+Us,se=H+qn+(M>>>0<$t>>>0?1:0),M=M+I0,se=se+er+(M>>>0<I0>>>0?1:0),M=M+ye,se=se+Eo+(M>>>0<ye>>>0?1:0),M=M+sr,se=se+X0+(M>>>0<sr>>>0?1:0),fe=sl+kt,K=gs+Q0+(fe>>>0<sl>>>0?1:0);H=Mt,$t=Lt,Mt=nt,Lt=wt,nt=Xe,wt=Ve,Ve=he+M|0,Xe=Je+se+(Ve>>>0<he>>>0?1:0)|0,Je=n0,he=G,n0=dt,G=ze,dt=mt,ze=Et,Et=M+fe|0,mt=se+K+(Et>>>0<M>>>0?1:0)|0}te=_.low=te+Et,_.high=Q+mt+(te>>>0<Et>>>0?1:0),De=S.low=De+ze,S.high=Ce+dt+(De>>>0<ze>>>0?1:0),Ie=E.low=Ie+G,E.high=pe+n0+(Ie>>>0<G>>>0?1:0),Z=A.low=Z+he,A.high=ie+Je+(Z>>>0<he>>>0?1:0),Ae=P.low=Ae+Ve,P.high=_e+Xe+(Ae>>>0<Ve>>>0?1:0),Ke=U.low=Ke+wt,U.high=be+nt+(Ke>>>0<wt>>>0?1:0),ve=k.low=ve+Lt,k.high=ce+Mt+(ve>>>0<Lt>>>0?1:0),Ee=L.low=Ee+$t,L.high=le+H+(Ee>>>0<$t>>>0?1:0)},_doFinalize:function(){var g=this._data,p=g.words,y=this._nDataBytes*8,_=g.sigBytes*8;p[_>>>5]|=128<<24-_%32,p[(_+128>>>10<<5)+30]=Math.floor(y/4294967296),p[(_+128>>>10<<5)+31]=y,g.sigBytes=p.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var g=n.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var wN=ae((wg,SN)=>{(function(e,t,r){typeof wg=="object"?SN.exports=wg=t(F0(),wh(),L_()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(wg,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,l=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var f=a._doFinalize.call(this);return f.sigBytes-=16,f}});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var AN=ae((Ig,IN)=>{(function(e,t,r){typeof Ig=="object"?IN.exports=Ig=t(F0(),wh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Ig,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64,l=a.Word,f=r.algo,c=[],u=[],d=[];(function(){for(var y=1,_=0,S=0;S<24;S++){c[y+5*_]=(S+1)*(S+2)/2%64;var E=_%5,A=(2*y+3*_)%5;y=E,_=A}for(var y=0;y<5;y++)for(var _=0;_<5;_++)u[y+5*_]=_+(2*y+3*_)%5*5;for(var P=1,U=0;U<24;U++){for(var k=0,L=0,Q=0;Q<7;Q++){if(P&1){var te=(1<<Q)-1;te<32?L^=1<<te:k^=1<<te-32}P&128?P=P<<1^113:P<<=1}d[U]=l.create(k,L)}})();var g=[];(function(){for(var y=0;y<25;y++)g[y]=l.create()})();var p=f.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],_=0;_<25;_++)y[_]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,_){for(var S=this._state,E=this.blockSize/2,A=0;A<E;A++){var P=y[_+2*A],U=y[_+2*A+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var k=S[A];k.high^=U,k.low^=P}for(var L=0;L<24;L++){for(var Q=0;Q<5;Q++){for(var te=0,Ce=0,De=0;De<5;De++){var k=S[Q+5*De];te^=k.high,Ce^=k.low}var pe=g[Q];pe.high=te,pe.low=Ce}for(var Q=0;Q<5;Q++)for(var Ie=g[(Q+4)%5],ie=g[(Q+1)%5],Z=ie.high,_e=ie.low,te=Ie.high^(Z<<1|_e>>>31),Ce=Ie.low^(_e<<1|Z>>>31),De=0;De<5;De++){var k=S[Q+5*De];k.high^=te,k.low^=Ce}for(var Ae=1;Ae<25;Ae++){var te,Ce,k=S[Ae],be=k.high,Ke=k.low,ce=c[Ae];ce<32?(te=be<<ce|Ke>>>32-ce,Ce=Ke<<ce|be>>>32-ce):(te=Ke<<ce-32|be>>>64-ce,Ce=be<<ce-32|Ke>>>64-ce);var ve=g[u[Ae]];ve.high=te,ve.low=Ce}var le=g[0],Ee=S[0];le.high=Ee.high,le.low=Ee.low;for(var Q=0;Q<5;Q++)for(var De=0;De<5;De++){var Ae=Q+5*De,k=S[Ae],mt=g[Ae],Et=g[(Q+1)%5+5*De],dt=g[(Q+2)%5+5*De];k.high=mt.high^~Et.high&dt.high,k.low=mt.low^~Et.low&dt.low}var k=S[0],ze=d[L];k.high^=ze.high,k.low^=ze.low}},_doFinalize:function(){var y=this._data,_=y.words,S=this._nDataBytes*8,E=y.sigBytes*8,A=this.blockSize*32;_[E>>>5]|=1<<24-E%32,_[(t.ceil((E+1)/A)*A>>>5)-1]|=128,y.sigBytes=_.length*4,this._process();for(var P=this._state,U=this.cfg.outputLength/8,k=U/8,L=[],Q=0;Q<k;Q++){var te=P[Q],Ce=te.high,De=te.low;Ce=(Ce<<8|Ce>>>24)&16711935|(Ce<<24|Ce>>>8)&4278255360,De=(De<<8|De>>>24)&16711935|(De<<24|De>>>8)&4278255360,L.push(De),L.push(Ce)}return new i.init(L,U)},clone:function(){for(var y=o.clone.call(this),_=y._state=this._state.slice(0),S=0;S<25;S++)_[S]=_[S].clone();return y}});r.SHA3=o._createHelper(p),r.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var RN=ae((Ag,PN)=>{(function(e,t){typeof Ag=="object"?PN.exports=Ag=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ag,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),g=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,k){for(var L=0;L<16;L++){var Q=k+L,te=U[Q];U[Q]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var Ce=this._hash.words,De=d.words,pe=g.words,Ie=l.words,ie=f.words,Z=c.words,_e=u.words,Ae,be,Ke,ce,ve,le,Ee,mt,Et,dt;le=Ae=Ce[0],Ee=be=Ce[1],mt=Ke=Ce[2],Et=ce=Ce[3],dt=ve=Ce[4];for(var ze,L=0;L<80;L+=1)ze=Ae+U[k+Ie[L]]|0,L<16?ze+=y(be,Ke,ce)+De[0]:L<32?ze+=_(be,Ke,ce)+De[1]:L<48?ze+=S(be,Ke,ce)+De[2]:L<64?ze+=E(be,Ke,ce)+De[3]:ze+=A(be,Ke,ce)+De[4],ze=ze|0,ze=P(ze,Z[L]),ze=ze+ve|0,Ae=ve,ve=ce,ce=P(Ke,10),Ke=be,be=ze,ze=le+U[k+ie[L]]|0,L<16?ze+=A(Ee,mt,Et)+pe[0]:L<32?ze+=E(Ee,mt,Et)+pe[1]:L<48?ze+=S(Ee,mt,Et)+pe[2]:L<64?ze+=_(Ee,mt,Et)+pe[3]:ze+=y(Ee,mt,Et)+pe[4],ze=ze|0,ze=P(ze,_e[L]),ze=ze+dt|0,le=dt,dt=Et,Et=P(mt,10),mt=Ee,Ee=ze;ze=Ce[1]+Ke+Et|0,Ce[1]=Ce[2]+ce+dt|0,Ce[2]=Ce[3]+ve+le|0,Ce[3]=Ce[4]+Ae+Ee|0,Ce[4]=Ce[0]+be+mt|0,Ce[0]=ze},_doFinalize:function(){var U=this._data,k=U.words,L=this._nDataBytes*8,Q=U.sigBytes*8;k[Q>>>5]|=128<<24-Q%32,k[(Q+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,U.sigBytes=(k.length+1)*4,this._process();for(var te=this._hash,Ce=te.words,De=0;De<5;De++){var pe=Ce[De];Ce[De]=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360}return te},clone:function(){var U=o.clone.call(this);return U._hash=this._hash.clone(),U}});function y(U,k,L){return U^k^L}s(y,"f1");function _(U,k,L){return U&k|~U&L}s(_,"f2");function S(U,k,L){return(U|~k)^L}s(S,"f3");function E(U,k,L){return U&L|k&~L}s(E,"f4");function A(U,k,L){return U^(k|~L)}s(A,"f5");function P(U,k){return U<<k|U>>>32-k}s(P,"rotl"),r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var Rg=ae((Pg,kN)=>{(function(e,t){typeof Pg=="object"?kN.exports=Pg=t(F0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Pg,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:function(f,c){f=this._hasher=new f.init,typeof c=="string"&&(c=o.parse(c));var u=f.blockSize,d=u*4;c.sigBytes>d&&(c=f.finalize(c)),c.clamp();for(var g=this._oKey=c.clone(),p=this._iKey=c.clone(),y=g.words,_=p.words,S=0;S<u;S++)y[S]^=1549556828,_[S]^=909522486;g.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var c=this._hasher,u=c.finalize(f);c.reset();var d=c.finalize(this._oKey.clone().concat(u));return d}})})()})});var DN=ae((kg,NN)=>{(function(e,t,r){typeof kg=="object"?NN.exports=kg=t(F0(),Tg(),Rg()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(kg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA256,l=o.HMAC,f=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d=this.cfg,g=l.create(d.hasher,c),p=i.create(),y=i.create([1]),_=p.words,S=y.words,E=d.keySize,A=d.iterations;_.length<E;){var P=g.update(u).finalize(y);g.reset();for(var U=P.words,k=U.length,L=P,Q=1;Q<A;Q++){L=g.finalize(L),g.reset();for(var te=L.words,Ce=0;Ce<k;Ce++)U[Ce]^=te[Ce]}p.concat(P),S[0]++}return p.sigBytes=E*4,p}});t.PBKDF2=function(c,u,d){return f.create(d).compute(c,u)}}(),e.PBKDF2})});var $l=ae((Ng,LN)=>{(function(e,t,r){typeof Ng=="object"?LN.exports=Ng=t(F0(),D_(),Rg()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Ng,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,c){for(var u,d=this.cfg,g=d.hasher.create(),p=i.create(),y=p.words,_=d.keySize,S=d.iterations;y.length<_;){u&&g.update(u),u=g.update(f).finalize(c),g.reset();for(var E=1;E<S;E++)u=g.finalize(u),g.reset();p.concat(u)}return p.sigBytes=_*4,p}});t.EvpKDF=function(f,c,u){return l.create(u).compute(f,c)}}(),e.EvpKDF})});var vn=ae((Dg,BN)=>{(function(e,t,r){typeof Dg=="object"?BN.exports=Dg=t(F0(),$l()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(Dg,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,f=l.Utf8,c=l.Base64,u=r.algo,d=u.EvpKDF,g=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(pe,Ie){return this.create(this._ENC_XFORM_MODE,pe,Ie)},createDecryptor:function(pe,Ie){return this.create(this._DEC_XFORM_MODE,pe,Ie)},init:function(pe,Ie,ie){this.cfg=this.cfg.extend(ie),this._xformMode=pe,this._key=Ie,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(pe){return this._append(pe),this._process()},finalize:function(pe){pe&&this._append(pe);var Ie=this._doFinalize();return Ie},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function pe(Ie){return typeof Ie=="string"?De:Q}return s(pe,"selectCipherStrategy"),function(Ie){return{encrypt:function(ie,Z,_e){return pe(Z).encrypt(Ie,ie,Z,_e)},decrypt:function(ie,Z,_e){return pe(Z).decrypt(Ie,ie,Z,_e)}}}}()}),p=n.StreamCipher=g.extend({_doFinalize:function(){var pe=this._process(!0);return pe},blockSize:1}),y=r.mode={},_=n.BlockCipherMode=i.extend({createEncryptor:function(pe,Ie){return this.Encryptor.create(pe,Ie)},createDecryptor:function(pe,Ie){return this.Decryptor.create(pe,Ie)},init:function(pe,Ie){this._cipher=pe,this._iv=Ie}}),S=y.CBC=function(){var pe=_.extend();pe.Encryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize;Ie.call(this,ie,Z,Ae),_e.encryptBlock(ie,Z),this._prevBlock=ie.slice(Z,Z+Ae)}}),pe.Decryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize,be=ie.slice(Z,Z+Ae);_e.decryptBlock(ie,Z),Ie.call(this,ie,Z,Ae),this._prevBlock=be}});function Ie(ie,Z,_e){var Ae,be=this._iv;be?(Ae=be,this._iv=t):Ae=this._prevBlock;for(var Ke=0;Ke<_e;Ke++)ie[Z+Ke]^=Ae[Ke]}return s(Ie,"xorBlock"),pe}(),E=r.pad={},A=E.Pkcs7={pad:function(pe,Ie){for(var ie=Ie*4,Z=ie-pe.sigBytes%ie,_e=Z<<24|Z<<16|Z<<8|Z,Ae=[],be=0;be<Z;be+=4)Ae.push(_e);var Ke=o.create(Ae,Z);pe.concat(Ke)},unpad:function(pe){var Ie=pe.words[pe.sigBytes-1>>>2]&255;pe.sigBytes-=Ie}},P=n.BlockCipher=g.extend({cfg:g.cfg.extend({mode:S,padding:A}),reset:function(){var pe;g.reset.call(this);var Ie=this.cfg,ie=Ie.iv,Z=Ie.mode;this._xformMode==this._ENC_XFORM_MODE?pe=Z.createEncryptor:(pe=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==pe?this._mode.init(this,ie&&ie.words):(this._mode=pe.call(Z,this,ie&&ie.words),this._mode.__creator=pe)},_doProcessBlock:function(pe,Ie){this._mode.processBlock(pe,Ie)},_doFinalize:function(){var pe,Ie=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ie.pad(this._data,this.blockSize),pe=this._process(!0)):(pe=this._process(!0),Ie.unpad(pe)),pe},blockSize:128/32}),U=n.CipherParams=i.extend({init:function(pe){this.mixIn(pe)},toString:function(pe){return(pe||this.formatter).stringify(this)}}),k=r.format={},L=k.OpenSSL={stringify:function(pe){var Ie,ie=pe.ciphertext,Z=pe.salt;return Z?Ie=o.create([1398893684,1701076831]).concat(Z).concat(ie):Ie=ie,Ie.toString(c)},parse:function(pe){var Ie,ie=c.parse(pe),Z=ie.words;return Z[0]==1398893684&&Z[1]==1701076831&&(Ie=o.create(Z.slice(2,4)),Z.splice(0,4),ie.sigBytes-=16),U.create({ciphertext:ie,salt:Ie})}},Q=n.SerializableCipher=i.extend({cfg:i.extend({format:L}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=pe.createEncryptor(ie,Z),Ae=_e.finalize(Ie),be=_e.cfg;return U.create({ciphertext:Ae,key:ie,iv:be.iv,algorithm:pe,mode:be.mode,padding:be.padding,blockSize:pe.blockSize,formatter:Z.format})},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=pe.createDecryptor(ie,Z).finalize(Ie.ciphertext);return _e},_parse:function(pe,Ie){return typeof pe=="string"?Ie.parse(pe,this):pe}}),te=r.kdf={},Ce=te.OpenSSL={execute:function(pe,Ie,ie,Z,_e){if(Z||(Z=o.random(64/8)),_e)var Ae=d.create({keySize:Ie+ie,hasher:_e}).compute(pe,Z);else var Ae=d.create({keySize:Ie+ie}).compute(pe,Z);var be=o.create(Ae.words.slice(Ie),ie*4);return Ae.sigBytes=Ie*4,U.create({key:Ae,iv:be,salt:Z})}},De=n.PasswordBasedCipher=Q.extend({cfg:Q.cfg.extend({kdf:Ce}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Z.salt,Z.hasher);Z.iv=_e.iv;var Ae=Q.encrypt.call(this,pe,Ie,_e.key,Z);return Ae.mixIn(_e),Ae},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Ie.salt,Z.hasher);Z.iv=_e.iv;var Ae=Q.decrypt.call(this,pe,Ie,_e.key,Z);return Ae}})}()})});var FN=ae((Lg,ON)=>{(function(e,t,r){typeof Lg=="object"?ON.exports=Lg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Lg,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize;r.call(this,n,i,a,o),this._prevBlock=n.slice(i,i+a)}}),t.Decryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,o),this._prevBlock=l}});function r(n,i,o,a){var l,f=this._iv;f?(l=f.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var c=0;c<o;c++)n[i+c]^=l[c]}return s(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var UN=ae((Bg,MN)=>{(function(e,t,r){typeof Bg=="object"?MN.exports=Bg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Bg,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._counter;l&&(f=this._counter=l.slice(0),this._iv=void 0);var c=f.slice(0);o.encryptBlock(c,0),f[a-1]=f[a-1]+1|0;for(var u=0;u<a;u++)n[i+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.CTR})});var jN=ae((Og,qN)=>{(function(e,t,r){typeof Og=="object"?qN.exports=Og=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Og,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(o){if((o>>24&255)===255){var a=o>>16&255,l=o>>8&255,f=o&255;a===255?(a=0,l===255?(l=0,f===255?f=0:++f):++l):++a,o=0,o+=a<<16,o+=l<<8,o+=f}else o+=1<<24;return o}s(r,"incWord");function n(o){return(o[0]=r(o[0]))===0&&(o[1]=r(o[1])),o}s(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:function(o,a){var l=this._cipher,f=l.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0),n(u);var d=u.slice(0);l.encryptBlock(d,0);for(var g=0;g<f;g++)o[a+g]^=d[g]}});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var HN=ae((Fg,$N)=>{(function(e,t,r){typeof Fg=="object"?$N.exports=Fg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fg,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._keystream;l&&(f=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(f,0);for(var c=0;c<a;c++)n[i+c]^=f[c]}});return t.Decryptor=r,t}(),e.mode.OFB})});var zN=ae((Mg,VN)=>{(function(e,t,r){typeof Mg=="object"?VN.exports=Mg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Mg,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var GN=ae((Ug,KN)=>{(function(e,t,r){typeof Ug=="object"?KN.exports=Ug=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ug,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,i=r*4,o=i-n%i,a=n+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var YN=ae((qg,WN)=>{(function(e,t,r){typeof qg=="object"?WN.exports=qg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qg,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var JN=ae((jg,XN)=>{(function(e,t,r){typeof jg=="object"?XN.exports=jg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(jg,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var ZN=ae(($g,QN)=>{(function(e,t,r){typeof $g=="object"?QN.exports=$g=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})($g,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var tD=ae((Hg,eD)=>{(function(e,t,r){typeof Hg=="object"?eD.exports=Hg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Hg,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var nD=ae((Vg,rD)=>{(function(e,t,r){typeof Vg=="object"?rD.exports=Vg=t(F0(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Vg,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,a=o.Hex,l=r.format,f=l.Hex={stringify:function(c){return c.ciphertext.toString(a)},parse:function(c){var u=a.parse(c);return i.create({ciphertext:u})}}}(),e.format.Hex})});var sD=ae((zg,iD)=>{(function(e,t,r){typeof zg=="object"?iD.exports=zg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],a=[],l=[],f=[],c=[],u=[],d=[],g=[],p=[],y=[];(function(){for(var E=[],A=0;A<256;A++)A<128?E[A]=A<<1:E[A]=A<<1^283;for(var P=0,U=0,A=0;A<256;A++){var k=U^U<<1^U<<2^U<<3^U<<4;k=k>>>8^k&255^99,o[P]=k,a[k]=P;var L=E[P],Q=E[L],te=E[Q],Ce=E[k]*257^k*16843008;l[P]=Ce<<24|Ce>>>8,f[P]=Ce<<16|Ce>>>16,c[P]=Ce<<8|Ce>>>24,u[P]=Ce;var Ce=te*16843009^Q*65537^L*257^P*16843008;d[k]=Ce<<24|Ce>>>8,g[k]=Ce<<16|Ce>>>16,p[k]=Ce<<8|Ce>>>24,y[k]=Ce,P?(P=L^E[E[E[te^L]]],U^=E[E[U]]):P=U=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],S=i.AES=n.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,P=A.words,U=A.sigBytes/4,k=this._nRounds=U+6,L=(k+1)*4,Q=this._keySchedule=[],te=0;te<L;te++)te<U?Q[te]=P[te]:(E=Q[te-1],te%U?U>6&&te%U==4&&(E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255]):(E=E<<8|E>>>24,E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255],E^=_[te/U|0]<<24),Q[te]=Q[te-U]^E);for(var Ce=this._invKeySchedule=[],De=0;De<L;De++){var te=L-De;if(De%4)var E=Q[te];else var E=Q[te-4];De<4||te<=4?Ce[De]=E:Ce[De]=d[o[E>>>24]]^g[o[E>>>16&255]]^p[o[E>>>8&255]]^y[o[E&255]]}}},encryptBlock:function(E,A){this._doCryptBlock(E,A,this._keySchedule,l,f,c,u,o)},decryptBlock:function(E,A){var P=E[A+1];E[A+1]=E[A+3],E[A+3]=P,this._doCryptBlock(E,A,this._invKeySchedule,d,g,p,y,a);var P=E[A+1];E[A+1]=E[A+3],E[A+3]=P},_doCryptBlock:function(E,A,P,U,k,L,Q,te){for(var Ce=this._nRounds,De=E[A]^P[0],pe=E[A+1]^P[1],Ie=E[A+2]^P[2],ie=E[A+3]^P[3],Z=4,_e=1;_e<Ce;_e++){var Ae=U[De>>>24]^k[pe>>>16&255]^L[Ie>>>8&255]^Q[ie&255]^P[Z++],be=U[pe>>>24]^k[Ie>>>16&255]^L[ie>>>8&255]^Q[De&255]^P[Z++],Ke=U[Ie>>>24]^k[ie>>>16&255]^L[De>>>8&255]^Q[pe&255]^P[Z++],ce=U[ie>>>24]^k[De>>>16&255]^L[pe>>>8&255]^Q[Ie&255]^P[Z++];De=Ae,pe=be,Ie=Ke,ie=ce}var Ae=(te[De>>>24]<<24|te[pe>>>16&255]<<16|te[Ie>>>8&255]<<8|te[ie&255])^P[Z++],be=(te[pe>>>24]<<24|te[Ie>>>16&255]<<16|te[ie>>>8&255]<<8|te[De&255])^P[Z++],Ke=(te[Ie>>>24]<<24|te[ie>>>16&255]<<16|te[De>>>8&255]<<8|te[pe&255])^P[Z++],ce=(te[ie>>>24]<<24|te[De>>>16&255]<<16|te[pe>>>8&255]<<8|te[Ie&255])^P[Z++];E[A]=Ae,E[A+1]=be,E[A+2]=Ke,E[A+3]=ce},keySize:256/32});t.AES=n._createHelper(S)}(),e.AES})});var aD=ae((Kg,oD)=>{(function(e,t,r){typeof Kg=="object"?oD.exports=Kg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Kg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var _=this._key,S=_.words,E=[],A=0;A<56;A++){var P=a[A]-1;E[A]=S[P>>>5]>>>31-P%32&1}for(var U=this._subKeys=[],k=0;k<16;k++){for(var L=U[k]=[],Q=f[k],A=0;A<24;A++)L[A/6|0]|=E[(l[A]-1+Q)%28]<<31-A%6,L[4+(A/6|0)]|=E[28+(l[A+24]-1+Q)%28]<<31-A%6;L[0]=L[0]<<1|L[0]>>>31;for(var A=1;A<7;A++)L[A]=L[A]>>>(A-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var te=this._invSubKeys=[],A=0;A<16;A++)te[A]=U[15-A]},encryptBlock:function(_,S){this._doCryptBlock(_,S,this._subKeys)},decryptBlock:function(_,S){this._doCryptBlock(_,S,this._invSubKeys)},_doCryptBlock:function(_,S,E){this._lBlock=_[S],this._rBlock=_[S+1],g.call(this,4,252645135),g.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),g.call(this,1,1431655765);for(var A=0;A<16;A++){for(var P=E[A],U=this._lBlock,k=this._rBlock,L=0,Q=0;Q<8;Q++)L|=c[Q][((k^P[Q])&u[Q])>>>0];this._lBlock=k,this._rBlock=U^L}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,g.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),_[S]=this._lBlock,_[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(_,S){var E=(this._lBlock>>>_^this._rBlock)&S;this._rBlock^=E,this._lBlock^=E<<_}s(g,"exchangeLR");function p(_,S){var E=(this._rBlock>>>_^this._lBlock)&S;this._lBlock^=E,this._rBlock^=E<<_}s(p,"exchangeRL"),t.DES=i._createHelper(d);var y=o.TripleDES=i.extend({_doReset:function(){var _=this._key,S=_.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=S.slice(0,2),A=S.length<4?S.slice(0,2):S.slice(2,4),P=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=d.createEncryptor(n.create(E)),this._des2=d.createEncryptor(n.create(A)),this._des3=d.createEncryptor(n.create(P))},encryptBlock:function(_,S){this._des1.encryptBlock(_,S),this._des2.decryptBlock(_,S),this._des3.encryptBlock(_,S)},decryptBlock:function(_,S){this._des3.decryptBlock(_,S),this._des2.encryptBlock(_,S),this._des1.decryptBlock(_,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(y)}(),e.TripleDES})});var fD=ae((Gg,lD)=>{(function(e,t,r){typeof Gg=="object"?lD.exports=Gg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Gg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:function(){for(var f=this._key,c=f.words,u=f.sigBytes,d=this._S=[],g=0;g<256;g++)d[g]=g;for(var g=0,p=0;g<256;g++){var y=g%u,_=c[y>>>2]>>>24-y%4*8&255;p=(p+d[g]+_)%256;var S=d[g];d[g]=d[p],d[p]=S}this._i=this._j=0},_doProcessBlock:function(f,c){f[c]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var f=this._S,c=this._i,u=this._j,d=0,g=0;g<4;g++){c=(c+1)%256,u=(u+f[c])%256;var p=f[c];f[c]=f[u],f[u]=p,d|=f[(f[c]+f[u])%256]<<24-g*8}return this._i=c,this._j=u,d}s(a,"generateKeystreamWord"),t.RC4=n._createHelper(o);var l=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)a.call(this)}});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var uD=ae((Wg,cD)=>{(function(e,t,r){typeof Wg=="object"?cD.exports=Wg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Wg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.Rabbit=n.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,g=0;g<4;g++)u[g]=(u[g]<<8|u[g]>>>24)&16711935|(u[g]<<24|u[g]>>>8)&4278255360;var p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],y=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var g=0;g<4;g++)c.call(this);for(var g=0;g<8;g++)y[g]^=p[g+4&7];if(d){var _=d.words,S=_[0],E=_[1],A=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,U=A>>>16|P&4294901760,k=P<<16|A&65535;y[0]^=A,y[1]^=U,y[2]^=P,y[3]^=k,y[4]^=A,y[5]^=U,y[6]^=P,y[7]^=k;for(var g=0;g<4;g++)c.call(this)}},_doProcessBlock:function(u,d){var g=this._X;c.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,u[d+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,g=0;g<8;g++)a[g]=d[g];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var g=0;g<8;g++){var p=u[g]+d[g],y=p&65535,_=p>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=S^E}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.Rabbit=n._createHelper(f)}(),e.Rabbit})});var hD=ae((Yg,dD)=>{(function(e,t,r){typeof Yg=="object"?dD.exports=Yg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Yg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.RabbitLegacy=n.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,g=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],p=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var y=0;y<4;y++)c.call(this);for(var y=0;y<8;y++)p[y]^=g[y+4&7];if(d){var _=d.words,S=_[0],E=_[1],A=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,U=A>>>16|P&4294901760,k=P<<16|A&65535;p[0]^=A,p[1]^=U,p[2]^=P,p[3]^=k,p[4]^=A,p[5]^=U,p[6]^=P,p[7]^=k;for(var y=0;y<4;y++)c.call(this)}},_doProcessBlock:function(u,d){var g=this._X;c.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,u[d+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,g=0;g<8;g++)a[g]=d[g];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var g=0;g<8;g++){var p=u[g]+d[g],y=p&65535,_=p>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=S^E}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.RabbitLegacy=n._createHelper(f)}(),e.RabbitLegacy})});var gD=ae((Xg,mD)=>{(function(e,t,r){typeof Xg=="object"?mD.exports=Xg=t(F0(),xc(),_c(),$l(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Xg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let o=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function c(y,_){let S=_>>24&255,E=_>>16&255,A=_>>8&255,P=_&255,U=y.sbox[0][S]+y.sbox[1][E];return U=U^y.sbox[2][A],U=U+y.sbox[3][P],U}s(c,"F");function u(y,_,S){let E=_,A=S,P;for(let U=0;U<o;++U)E=E^y.pbox[U],A=c(y,E)^A,P=E,E=A,A=P;return P=E,E=A,A=P,A=A^y.pbox[o],E=E^y.pbox[o+1],{left:E,right:A}}s(u,"BlowFish_Encrypt");function d(y,_,S){let E=_,A=S,P;for(let U=o+1;U>1;--U)E=E^y.pbox[U],A=c(y,E)^A,P=E,E=A,A=P;return P=E,E=A,A=P,A=A^y.pbox[1],E=E^y.pbox[0],{left:E,right:A}}s(d,"BlowFish_Decrypt");function g(y,_,S){for(let k=0;k<4;k++){y.sbox[k]=[];for(let L=0;L<256;L++)y.sbox[k][L]=l[k][L]}let E=0;for(let k=0;k<o+2;k++)y.pbox[k]=a[k]^_[E],E++,E>=S&&(E=0);let A=0,P=0,U=0;for(let k=0;k<o+2;k+=2)U=u(y,A,P),A=U.left,P=U.right,y.pbox[k]=A,y.pbox[k+1]=P;for(let k=0;k<4;k++)for(let L=0;L<256;L+=2)U=u(y,A,P),A=U.left,P=U.right,y.sbox[k][L]=A,y.sbox[k][L+1]=P;return!0}s(g,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,_=y.words,S=y.sigBytes/4;g(f,_,S)}},encryptBlock:function(y,_){var S=u(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},decryptBlock:function(y,_){var S=d(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Ih=ae((Jg,pD)=>{(function(e,t,r){typeof Jg=="object"?pD.exports=Jg=t(F0(),wh(),hN(),gN(),xc(),vN(),_c(),D_(),Tg(),TN(),L_(),wN(),AN(),RN(),Rg(),DN(),$l(),vn(),FN(),UN(),jN(),HN(),zN(),GN(),YN(),JN(),ZN(),tD(),nD(),sD(),aD(),fD(),uD(),hD(),gD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Jg,function(e){return e})});var e3=ae(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.stringArray=Ti.array=Ti.func=Ti.error=Ti.number=Ti.string=Ti.boolean=void 0;function kX(e){return e===!0||e===!1}s(kX,"boolean");Ti.boolean=kX;function _D(e){return typeof e=="string"||e instanceof String}s(_D,"string");Ti.string=_D;function NX(e){return typeof e=="number"||e instanceof Number}s(NX,"number");Ti.number=NX;function DX(e){return e instanceof Error}s(DX,"error");Ti.error=DX;function LX(e){return typeof e=="function"}s(LX,"func");Ti.func=LX;function bD(e){return Array.isArray(e)}s(bD,"array");Ti.array=bD;function BX(e){return bD(e)&&e.every(t=>_D(t))}s(BX,"stringArray");Ti.stringArray=BX});var kb=ae(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.Message=Bt.NotificationType9=Bt.NotificationType8=Bt.NotificationType7=Bt.NotificationType6=Bt.NotificationType5=Bt.NotificationType4=Bt.NotificationType3=Bt.NotificationType2=Bt.NotificationType1=Bt.NotificationType0=Bt.NotificationType=Bt.RequestType9=Bt.RequestType8=Bt.RequestType7=Bt.RequestType6=Bt.RequestType5=Bt.RequestType4=Bt.RequestType3=Bt.RequestType2=Bt.RequestType1=Bt.RequestType=Bt.RequestType0=Bt.AbstractMessageSignature=Bt.ParameterStructures=Bt.ResponseError=Bt.ErrorCodes=void 0;var Ou=e3(),M_;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(M_||(Bt.ErrorCodes=M_={}));var e9=class e9 extends Error{constructor(t,r,n){super(r),this.code=Ou.number(t)?t:M_.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e9.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};s(e9,"ResponseError");var U_=e9;Bt.ResponseError=U_;var t3=class t3{constructor(t){this.kind=t}static is(t){return t===t3.auto||t===t3.byName||t===t3.byPosition}toString(){return this.kind}};s(t3,"ParameterStructures");var ns=t3;Bt.ParameterStructures=ns;ns.auto=new ns("auto");ns.byPosition=new ns("byPosition");ns.byName=new ns("byName");var lb=class lb{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return ns.auto}};s(lb,"AbstractMessageSignature");var _r=lb;Bt.AbstractMessageSignature=_r;var fb=class fb extends _r{constructor(t){super(t,0)}};s(fb,"RequestType0");var q_=fb;Bt.RequestType0=q_;var cb=class cb extends _r{constructor(t,r=ns.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(cb,"RequestType");var j_=cb;Bt.RequestType=j_;var ub=class ub extends _r{constructor(t,r=ns.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(ub,"RequestType1");var $_=ub;Bt.RequestType1=$_;var db=class db extends _r{constructor(t){super(t,2)}};s(db,"RequestType2");var H_=db;Bt.RequestType2=H_;var hb=class hb extends _r{constructor(t){super(t,3)}};s(hb,"RequestType3");var V_=hb;Bt.RequestType3=V_;var mb=class mb extends _r{constructor(t){super(t,4)}};s(mb,"RequestType4");var z_=mb;Bt.RequestType4=z_;var gb=class gb extends _r{constructor(t){super(t,5)}};s(gb,"RequestType5");var K_=gb;Bt.RequestType5=K_;var pb=class pb extends _r{constructor(t){super(t,6)}};s(pb,"RequestType6");var G_=pb;Bt.RequestType6=G_;var yb=class yb extends _r{constructor(t){super(t,7)}};s(yb,"RequestType7");var W_=yb;Bt.RequestType7=W_;var vb=class vb extends _r{constructor(t){super(t,8)}};s(vb,"RequestType8");var Y_=vb;Bt.RequestType8=Y_;var xb=class xb extends _r{constructor(t){super(t,9)}};s(xb,"RequestType9");var X_=xb;Bt.RequestType9=X_;var _b=class _b extends _r{constructor(t,r=ns.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(_b,"NotificationType");var J_=_b;Bt.NotificationType=J_;var bb=class bb extends _r{constructor(t){super(t,0)}};s(bb,"NotificationType0");var Q_=bb;Bt.NotificationType0=Q_;var Cb=class Cb extends _r{constructor(t,r=ns.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(Cb,"NotificationType1");var Z_=Cb;Bt.NotificationType1=Z_;var Tb=class Tb extends _r{constructor(t){super(t,2)}};s(Tb,"NotificationType2");var eb=Tb;Bt.NotificationType2=eb;var Eb=class Eb extends _r{constructor(t){super(t,3)}};s(Eb,"NotificationType3");var tb=Eb;Bt.NotificationType3=tb;var Sb=class Sb extends _r{constructor(t){super(t,4)}};s(Sb,"NotificationType4");var rb=Sb;Bt.NotificationType4=rb;var wb=class wb extends _r{constructor(t){super(t,5)}};s(wb,"NotificationType5");var nb=wb;Bt.NotificationType5=nb;var Ib=class Ib extends _r{constructor(t){super(t,6)}};s(Ib,"NotificationType6");var ib=Ib;Bt.NotificationType6=ib;var Ab=class Ab extends _r{constructor(t){super(t,7)}};s(Ab,"NotificationType7");var sb=Ab;Bt.NotificationType7=sb;var Pb=class Pb extends _r{constructor(t){super(t,8)}};s(Pb,"NotificationType8");var ob=Pb;Bt.NotificationType8=ob;var Rb=class Rb extends _r{constructor(t){super(t,9)}};s(Rb,"NotificationType9");var ab=Rb;Bt.NotificationType9=ab;var CD;(function(e){function t(i){let o=i;return o&&Ou.string(o.method)&&(Ou.string(o.id)||Ou.number(o.id))}s(t,"isRequest"),e.isRequest=t;function r(i){let o=i;return o&&Ou.string(o.method)&&i.id===void 0}s(r,"isNotification"),e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Ou.string(o.id)||Ou.number(o.id)||o.id===null)}s(n,"isResponse"),e.isResponse=n})(CD||(Bt.Message=CD={}))});var Bb=ae(bc=>{"use strict";var TD;Object.defineProperty(bc,"__esModule",{value:!0});bc.LRUCache=bc.LinkedMap=bc.Touch=void 0;var Ei;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Ei||(bc.Touch=Ei={}));var Db=class Db{constructor(){this[TD]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,r=Ei.None){let n=this._map.get(t);if(n)return r!==Ei.None&&this.touch(n,r),n.value}set(t,r,n=Ei.None){let i=this._map.get(t);if(i)i.value=r,n!==Ei.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Ei.None:this.addItemLast(i);break;case Ei.First:this.addItemFirst(i);break;case Ei.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(TD=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ei.First&&r!==Ei.Last)){if(r===Ei.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Ei.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};s(Db,"LinkedMap");var t9=Db;bc.LinkedMap=t9;var Lb=class Lb extends t9{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Ei.AsNew){return super.get(t,r)}peek(t){return super.get(t,Ei.None)}set(t,r){return super.set(t,r,Ei.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};s(Lb,"LRUCache");var Nb=Lb;bc.LRUCache=Nb});var SD=ae(r9=>{"use strict";Object.defineProperty(r9,"__esModule",{value:!0});r9.Disposable=void 0;var ED;(function(e){function t(r){return{dispose:r}}s(t,"create"),e.create=t})(ED||(r9.Disposable=ED={}))});var Cc=ae(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});var Ob;function Fb(){if(Ob===void 0)throw new Error("No runtime abstraction layer installed");return Ob}s(Fb,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Ob=r}s(t,"install"),e.install=t})(Fb||(Fb={}));Mb.default=Fb});var n3=ae(r3=>{"use strict";Object.defineProperty(r3,"__esModule",{value:!0});r3.Emitter=r3.Event=void 0;var OX=Cc(),wD;(function(e){let t={dispose(){}};e.None=function(){return t}})(wD||(r3.Event=wD={}));var qb=class qb{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],t))}catch(l){(0,OX.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};s(qb,"CallbackList");var Ub=qb,i9=class i9{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Ub),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=i9._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};s(i9,"Emitter");var n9=i9;r3.Emitter=n9;n9._noop=function(){}});var a9=ae(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.CancellationTokenSource=i3.CancellationToken=void 0;var FX=Cc(),MX=e3(),jb=n3(),s9;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:jb.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:jb.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||MX.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(t,"is"),e.is=t})(s9||(i3.CancellationToken=s9={}));var UX=Object.freeze(function(e,t){let r=(0,FX.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),Hb=class Hb{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?UX:(this._emitter||(this._emitter=new jb.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};s(Hb,"MutableToken");var o9=Hb,Vb=class Vb{get token(){return this._token||(this._token=new o9),this._token}cancel(){this._token?this._token.cancel():this._token=s9.Cancelled}dispose(){this._token?this._token instanceof o9&&this._token.dispose():this._token=s9.None}};s(Vb,"CancellationTokenSource");var $b=Vb;i3.CancellationTokenSource=$b});var ID=ae(s3=>{"use strict";Object.defineProperty(s3,"__esModule",{value:!0});s3.SharedArrayReceiverStrategy=s3.SharedArraySenderStrategy=void 0;var qX=a9(),Ah;(function(e){e.Continue=0,e.Cancelled=1})(Ah||(Ah={}));var Yb=class Yb{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Ah.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Ah.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};s(Yb,"SharedArraySenderStrategy");var zb=Yb;s3.SharedArraySenderStrategy=zb;var Xb=class Xb{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Ah.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};s(Xb,"SharedArrayBufferCancellationToken");var Kb=Xb,Jb=class Jb{constructor(t){this.token=new Kb(t)}cancel(){}dispose(){}};s(Jb,"SharedArrayBufferCancellationTokenSource");var Gb=Jb,Qb=class Qb{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new qX.CancellationTokenSource:new Gb(r)}};s(Qb,"SharedArrayReceiverStrategy");var Wb=Qb;s3.SharedArrayReceiverStrategy=Wb});var tC=ae(l9=>{"use strict";Object.defineProperty(l9,"__esModule",{value:!0});l9.Semaphore=void 0;var jX=Cc(),eC=class eC{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,jX.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};s(eC,"Semaphore");var Zb=eC;l9.Semaphore=Zb});var PD=ae(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ReadableStreamMessageReader=Tc.AbstractMessageReader=Tc.MessageReader=void 0;var nC=Cc(),o3=e3(),rC=n3(),$X=tC(),AD;(function(e){function t(r){let n=r;return n&&o3.func(n.listen)&&o3.func(n.dispose)&&o3.func(n.onError)&&o3.func(n.onClose)&&o3.func(n.onPartialMessage)}s(t,"is"),e.is=t})(AD||(Tc.MessageReader=AD={}));var oC=class oC{constructor(){this.errorEmitter=new rC.Emitter,this.closeEmitter=new rC.Emitter,this.partialMessageEmitter=new rC.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${o3.string(t.message)?t.message:"unknown"}`)}};s(oC,"AbstractMessageReader");var f9=oC;Tc.AbstractMessageReader=f9;var iC;(function(e){function t(r){var c;let n,i,o,a=new Map,l,f=new Map;if(r===void 0||typeof r=="string")n=r!=null?r:"utf-8";else{if(n=(c=r.charset)!=null?c:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,f.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)f.set(u.name,u)}return l===void 0&&(l=(0,nC.default)().applicationJson.decoder,f.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:f}}s(t,"fromOptions"),e.fromOptions=t})(iC||(iC={}));var aC=class aC extends f9{constructor(t,r){super(),this.readable=t,this.options=iC.fromOptions(r),this.buffer=(0,nC.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new $X.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,nC.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};s(aC,"ReadableStreamMessageReader");var sC=aC;Tc.ReadableStreamMessageReader=sC});var LD=ae(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.WriteableStreamMessageWriter=Ec.AbstractMessageWriter=Ec.MessageWriter=void 0;var RD=Cc(),Ph=e3(),HX=tC(),kD=n3(),VX="Content-Length: ",ND=`\r
`,DD;(function(e){function t(r){let n=r;return n&&Ph.func(n.dispose)&&Ph.func(n.onClose)&&Ph.func(n.onError)&&Ph.func(n.write)}s(t,"is"),e.is=t})(DD||(Ec.MessageWriter=DD={}));var cC=class cC{constructor(){this.errorEmitter=new kD.Emitter,this.closeEmitter=new kD.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Ph.string(t.message)?t.message:"unknown"}`)}};s(cC,"AbstractMessageWriter");var c9=cC;Ec.AbstractMessageWriter=c9;var lC;(function(e){function t(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:(0,RD.default)().applicationJson.encoder}:{charset:(n=r.charset)!=null?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!=null?i:(0,RD.default)().applicationJson.encoder}}s(t,"fromOptions"),e.fromOptions=t})(lC||(lC={}));var uC=class uC extends c9{constructor(t,r){super(),this.writable=t,this.options=lC.fromOptions(r),this.errorCount=0,this.writeSemaphore=new HX.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(VX,n.byteLength.toString(),ND),i.push(ND),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};s(uC,"WriteableStreamMessageWriter");var fC=uC;Ec.WriteableStreamMessageWriter=fC});var BD=ae(u9=>{"use strict";Object.defineProperty(u9,"__esModule",{value:!0});u9.AbstractMessageBuffer=void 0;var zX=13,KX=10,GX=`\r
`,hC=class hC{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case zX:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case KX:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=c.byteLength,n++}if(r!==4)return;let a=this._read(o+i),l=new Map,f=this.toString(a,"ascii").split(GX);if(f.length<2)return l;for(let c=0;c<f.length-2;c++){let u=f[c],d=u.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);let g=u.substr(0,d),p=u.substr(d+1).trim();l.set(t?g.toLowerCase():g,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let a=o.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};s(hC,"AbstractMessageBuffer");var dC=hC;u9.AbstractMessageBuffer=dC});var qD=ae(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.createMessageConnection=f0.ConnectionOptions=f0.MessageStrategy=f0.CancellationStrategy=f0.CancellationSenderStrategy=f0.CancellationReceiverStrategy=f0.RequestCancellationReceiverStrategy=f0.IdCancellationReceiverStrategy=f0.ConnectionStrategy=f0.ConnectionError=f0.ConnectionErrors=f0.LogTraceNotification=f0.SetTraceNotification=f0.TraceFormat=f0.TraceValues=f0.Trace=f0.NullLogger=f0.ProgressType=f0.ProgressToken=void 0;var OD=Cc(),Lr=e3(),Qt=kb(),FD=Bb(),Rh=n3(),mC=a9(),Dh;(function(e){e.type=new Qt.NotificationType("$/cancelRequest")})(Dh||(Dh={}));var gC;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}s(t,"is"),e.is=t})(gC||(f0.ProgressToken=gC={}));var kh;(function(e){e.type=new Qt.NotificationType("$/progress")})(kh||(kh={}));var bC=class bC{constructor(){}};s(bC,"ProgressType");var pC=bC;f0.ProgressType=pC;var yC;(function(e){function t(r){return Lr.func(r)}s(t,"is"),e.is=t})(yC||(yC={}));f0.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ir;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ir||(f0.Trace=ir={}));var MD;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(MD||(f0.TraceValues=MD={}));(function(e){function t(n){if(!Lr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}s(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}s(r,"toString"),e.toString=r})(ir||(f0.Trace=ir={}));var Ps;(function(e){e.Text="text",e.JSON="json"})(Ps||(f0.TraceFormat=Ps={}));(function(e){function t(r){return Lr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}s(t,"fromString"),e.fromString=t})(Ps||(f0.TraceFormat=Ps={}));var vC;(function(e){e.type=new Qt.NotificationType("$/setTrace")})(vC||(f0.SetTraceNotification=vC={}));var d9;(function(e){e.type=new Qt.NotificationType("$/logTrace")})(d9||(f0.LogTraceNotification=d9={}));var Nh;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Nh||(f0.ConnectionErrors=Nh={}));var v9=class v9 extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,v9.prototype)}};s(v9,"ConnectionError");var a3=v9;f0.ConnectionError=a3;var xC;(function(e){function t(r){let n=r;return n&&Lr.func(n.cancelUndispatched)}s(t,"is"),e.is=t})(xC||(f0.ConnectionStrategy=xC={}));var h9;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Lr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Lr.func(n.dispose))}s(t,"is"),e.is=t})(h9||(f0.IdCancellationReceiverStrategy=h9={}));var _C;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Lr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Lr.func(n.dispose))}s(t,"is"),e.is=t})(_C||(f0.RequestCancellationReceiverStrategy=_C={}));var m9;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new mC.CancellationTokenSource}});function t(r){return h9.is(r)||_C.is(r)}s(t,"is"),e.is=t})(m9||(f0.CancellationReceiverStrategy=m9={}));var g9;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Dh.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Lr.func(n.sendCancellation)&&Lr.func(n.cleanup)}s(t,"is"),e.is=t})(g9||(f0.CancellationSenderStrategy=g9={}));var p9;(function(e){e.Message=Object.freeze({receiver:m9.Message,sender:g9.Message});function t(r){let n=r;return n&&m9.is(n.receiver)&&g9.is(n.sender)}s(t,"is"),e.is=t})(p9||(f0.CancellationStrategy=p9={}));var y9;(function(e){function t(r){let n=r;return n&&Lr.func(n.handleMessage)}s(t,"is"),e.is=t})(y9||(f0.MessageStrategy=y9={}));var UD;(function(e){function t(r){let n=r;return n&&(p9.is(n.cancellationStrategy)||xC.is(n.connectionStrategy)||y9.is(n.messageStrategy))}s(t,"is"),e.is=t})(UD||(f0.ConnectionOptions=UD={}));var Ko;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Ko||(Ko={}));function WX(e,t,r,n){let i=r!==void 0?r:f0.NullLogger,o=0,a=0,l=0,f="2.0",c,u=new Map,d,g=new Map,p=new Map,y,_=new FD.LinkedMap,S=new Map,E=new Set,A=new Map,P=ir.Off,U=Ps.Text,k,L=Ko.New,Q=new Rh.Emitter,te=new Rh.Emitter,Ce=new Rh.Emitter,De=new Rh.Emitter,pe=new Rh.Emitter,Ie=n&&n.cancellationStrategy?n.cancellationStrategy:p9.Message;function ie(Y){if(Y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Y.toString()}s(ie,"createRequestQueueKey");function Z(Y){return Y===null?"res-unknown-"+(++l).toString():"res-"+Y.toString()}s(Z,"createResponseQueueKey");function _e(){return"not-"+(++a).toString()}s(_e,"createNotificationQueueKey");function Ae(Y,N){Qt.Message.isRequest(N)?Y.set(ie(N.id),N):Qt.Message.isResponse(N)?Y.set(Z(N.id),N):Y.set(_e(),N)}s(Ae,"addMessageToQueue");function be(Y){}s(be,"cancelUndispatched");function Ke(){return L===Ko.Listening}s(Ke,"isListening");function ce(){return L===Ko.Closed}s(ce,"isClosed");function ve(){return L===Ko.Disposed}s(ve,"isDisposed");function le(){(L===Ko.New||L===Ko.Listening)&&(L=Ko.Closed,te.fire(void 0))}s(le,"closeHandler");function Ee(Y){Q.fire([Y,void 0,void 0])}s(Ee,"readErrorHandler");function mt(Y){Q.fire(Y)}s(mt,"writeErrorHandler"),e.onClose(le),e.onError(Ee),t.onClose(le),t.onError(mt);function Et(){y||_.size===0||(y=(0,OD.default)().timer.setImmediate(()=>{y=void 0,ze()}))}s(Et,"triggerMessageQueue");function dt(Y){Qt.Message.isRequest(Y)?G(Y):Qt.Message.isNotification(Y)?he(Y):Qt.Message.isResponse(Y)?Je(Y):Xe(Y)}s(dt,"handleMessage");function ze(){if(_.size===0)return;let Y=_.shift();try{let N=n==null?void 0:n.messageStrategy;y9.is(N)?N.handleMessage(Y,dt):dt(Y)}finally{Et()}}s(ze,"processMessageQueue");let n0=s(Y=>{try{if(Qt.Message.isNotification(Y)&&Y.method===Dh.type.method){let N=Y.params.id,B=ie(N),Ye=_.get(B);if(Qt.Message.isRequest(Ye)){let w0=n==null?void 0:n.connectionStrategy,A0=w0&&w0.cancelUndispatched?w0.cancelUndispatched(Ye,be):void 0;if(A0&&(A0.error!==void 0||A0.result!==void 0)){_.delete(B),A.delete(N),A0.id=Ye.id,Mt(A0,Y.method,Date.now()),t.write(A0).catch(()=>i.error("Sending response for canceled message failed."));return}}let Vt=A.get(N);if(Vt!==void 0){Vt.cancel(),H(Y);return}else E.add(N)}Ae(_,Y)}finally{Et()}},"callback");function G(Y){var G0;if(ve())return;function N(u0,er,I0){let Q0={jsonrpc:f,id:Y.id};u0 instanceof Qt.ResponseError?Q0.error=u0.toJson():Q0.result=u0===void 0?null:u0,Mt(Q0,er,I0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(N,"reply");function B(u0,er,I0){let Q0={jsonrpc:f,id:Y.id,error:u0.toJson()};Mt(Q0,er,I0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(B,"replyError");function Ye(u0,er,I0){u0===void 0&&(u0=null);let Q0={jsonrpc:f,id:Y.id,result:u0};Mt(Q0,er,I0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(Ye,"replySuccess"),Lt(Y);let Vt=u.get(Y.method),w0,A0;Vt&&(w0=Vt.type,A0=Vt.handler);let Gt=Date.now();if(A0||c){let u0=(G0=Y.id)!=null?G0:String(Date.now()),er=h9.is(Ie.receiver)?Ie.receiver.createCancellationTokenSource(u0):Ie.receiver.createCancellationTokenSource(Y);Y.id!==null&&E.has(Y.id)&&er.cancel(),Y.id!==null&&A.set(u0,er);try{let I0;if(A0)if(Y.params===void 0){if(w0!==void 0&&w0.numberOfParams!==0){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines ${w0.numberOfParams} params but received none.`),Y.method,Gt);return}I0=A0(er.token)}else if(Array.isArray(Y.params)){if(w0!==void 0&&w0.parameterStructures===Qt.ParameterStructures.byName){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by name but received parameters by position`),Y.method,Gt);return}I0=A0(...Y.params,er.token)}else{if(w0!==void 0&&w0.parameterStructures===Qt.ParameterStructures.byPosition){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by position but received parameters by name`),Y.method,Gt);return}I0=A0(Y.params,er.token)}else c&&(I0=c(Y.method,Y.params,er.token));let Q0=I0;I0?Q0.then?Q0.then(kt=>{A.delete(u0),N(kt,Y.method,Gt)},kt=>{A.delete(u0),kt instanceof Qt.ResponseError?B(kt,Y.method,Gt):kt&&Lr.string(kt.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${kt.message}`),Y.method,Gt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Gt)}):(A.delete(u0),N(I0,Y.method,Gt)):(A.delete(u0),Ye(I0,Y.method,Gt))}catch(I0){A.delete(u0),I0 instanceof Qt.ResponseError?N(I0,Y.method,Gt):I0&&Lr.string(I0.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${I0.message}`),Y.method,Gt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Gt)}}else B(new Qt.ResponseError(Qt.ErrorCodes.MethodNotFound,`Unhandled method ${Y.method}`),Y.method,Gt)}s(G,"handleRequest");function Je(Y){if(!ve())if(Y.id===null)Y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let N=Y.id,B=S.get(N);if($t(Y,B),B!==void 0){S.delete(N);try{if(Y.error){let Ye=Y.error;B.reject(new Qt.ResponseError(Ye.code,Ye.message,Ye.data))}else if(Y.result!==void 0)B.resolve(Y.result);else throw new Error("Should never happen.")}catch(Ye){Ye.message?i.error(`Response handler '${B.method}' failed with message: ${Ye.message}`):i.error(`Response handler '${B.method}' failed unexpectedly.`)}}}}s(Je,"handleResponse");function he(Y){if(ve())return;let N,B;if(Y.method===Dh.type.method){let Ye=Y.params.id;E.delete(Ye),H(Y);return}else{let Ye=g.get(Y.method);Ye&&(B=Ye.handler,N=Ye.type)}if(B||d)try{if(H(Y),B)if(Y.params===void 0)N!==void 0&&N.numberOfParams!==0&&N.parameterStructures!==Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines ${N.numberOfParams} params but received none.`),B();else if(Array.isArray(Y.params)){let Ye=Y.params;Y.method===kh.type.method&&Ye.length===2&&gC.is(Ye[0])?B({token:Ye[0],value:Ye[1]}):(N!==void 0&&(N.parameterStructures===Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines parameters by name but received parameters by position`),N.numberOfParams!==Y.params.length&&i.error(`Notification ${Y.method} defines ${N.numberOfParams} params but received ${Ye.length} arguments`)),B(...Ye))}else N!==void 0&&N.parameterStructures===Qt.ParameterStructures.byPosition&&i.error(`Notification ${Y.method} defines parameters by position but received parameters by name`),B(Y.params);else d&&d(Y.method,Y.params)}catch(Ye){Ye.message?i.error(`Notification handler '${Y.method}' failed with message: ${Ye.message}`):i.error(`Notification handler '${Y.method}' failed unexpectedly.`)}else Ce.fire(Y)}s(he,"handleNotification");function Xe(Y){if(!Y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Y,null,4)}`);let N=Y;if(Lr.string(N.id)||Lr.number(N.id)){let B=N.id,Ye=S.get(B);Ye&&Ye.reject(new Error("The received response has neither a result nor an error property."))}}s(Xe,"handleInvalidMessage");function Ve(Y){if(Y!=null)switch(P){case ir.Verbose:return JSON.stringify(Y,null,4);case ir.Compact:return JSON.stringify(Y);default:return}}s(Ve,"stringifyTrace");function nt(Y){if(!(P===ir.Off||!k))if(U===Ps.Text){let N;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(N=`Params: ${Ve(Y.params)}

`),k.log(`Sending request '${Y.method} - (${Y.id})'.`,N)}else vt("send-request",Y)}s(nt,"traceSendingRequest");function wt(Y){if(!(P===ir.Off||!k))if(U===Ps.Text){let N;(P===ir.Verbose||P===ir.Compact)&&(Y.params?N=`Params: ${Ve(Y.params)}

`:N=`No parameters provided.

`),k.log(`Sending notification '${Y.method}'.`,N)}else vt("send-notification",Y)}s(wt,"traceSendingNotification");function Mt(Y,N,B){if(!(P===ir.Off||!k))if(U===Ps.Text){let Ye;(P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?Ye=`Error data: ${Ve(Y.error.data)}

`:Y.result?Ye=`Result: ${Ve(Y.result)}

`:Y.error===void 0&&(Ye=`No result returned.

`)),k.log(`Sending response '${N} - (${Y.id})'. Processing request took ${Date.now()-B}ms`,Ye)}else vt("send-response",Y)}s(Mt,"traceSendingResponse");function Lt(Y){if(!(P===ir.Off||!k))if(U===Ps.Text){let N;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(N=`Params: ${Ve(Y.params)}

`),k.log(`Received request '${Y.method} - (${Y.id})'.`,N)}else vt("receive-request",Y)}s(Lt,"traceReceivedRequest");function H(Y){if(!(P===ir.Off||!k||Y.method===d9.type.method))if(U===Ps.Text){let N;(P===ir.Verbose||P===ir.Compact)&&(Y.params?N=`Params: ${Ve(Y.params)}

`:N=`No parameters provided.

`),k.log(`Received notification '${Y.method}'.`,N)}else vt("receive-notification",Y)}s(H,"traceReceivedNotification");function $t(Y,N){if(!(P===ir.Off||!k))if(U===Ps.Text){let B;if((P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?B=`Error data: ${Ve(Y.error.data)}

`:Y.result?B=`Result: ${Ve(Y.result)}

`:Y.error===void 0&&(B=`No result returned.

`)),N){let Ye=Y.error?` Request failed: ${Y.error.message} (${Y.error.code}).`:"";k.log(`Received response '${N.method} - (${Y.id})' in ${Date.now()-N.timerStart}ms.${Ye}`,B)}else k.log(`Received response ${Y.id} without active response promise.`,B)}else vt("receive-response",Y)}s($t,"traceReceivedResponse");function vt(Y,N){if(!k||P===ir.Off)return;let B={isLSPMessage:!0,type:Y,message:N,timestamp:Date.now()};k.log(B)}s(vt,"logLSPMessage");function sr(){if(ce())throw new a3(Nh.Closed,"Connection is closed.");if(ve())throw new a3(Nh.Disposed,"Connection is disposed.")}s(sr,"throwIfClosedOrDisposed");function X0(){if(Ke())throw new a3(Nh.AlreadyListening,"Connection is already listening")}s(X0,"throwIfListening");function pr(){if(!Ke())throw new Error("Call listen() first.")}s(pr,"throwIfNotListening");function J0(Y){return Y===void 0?null:Y}s(J0,"undefinedToNull");function Wr(Y){if(Y!==null)return Y}s(Wr,"nullToUndefined");function mn(Y){return Y!=null&&!Array.isArray(Y)&&typeof Y=="object"}s(mn,"isNamedParam");function Un(Y,N){switch(Y){case Qt.ParameterStructures.auto:return mn(N)?Wr(N):[J0(N)];case Qt.ParameterStructures.byName:if(!mn(N))throw new Error("Received parameters by name but param is not an object literal.");return Wr(N);case Qt.ParameterStructures.byPosition:return[J0(N)];default:throw new Error(`Unknown parameter structure ${Y.toString()}`)}}s(Un,"computeSingleParam");function gn(Y,N){let B,Ye=Y.numberOfParams;switch(Ye){case 0:B=void 0;break;case 1:B=Un(Y.parameterStructures,N[0]);break;default:B=[];for(let Vt=0;Vt<N.length&&Vt<Ye;Vt++)B.push(J0(N[Vt]));if(N.length<Ye)for(let Vt=N.length;Vt<Ye;Vt++)B.push(null);break}return B}s(gn,"computeMessageParams");let Xt={sendNotification:(Y,...N)=>{sr();let B,Ye;if(Lr.string(Y)){B=Y;let w0=N[0],A0=0,Gt=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(w0)&&(A0=1,Gt=w0);let G0=N.length,u0=G0-A0;switch(u0){case 0:Ye=void 0;break;case 1:Ye=Un(Gt,N[A0]);break;default:if(Gt===Qt.ParameterStructures.byName)throw new Error(`Received ${u0} parameters for 'by Name' notification parameter structure.`);Ye=N.slice(A0,G0).map(er=>J0(er));break}}else{let w0=N;B=Y.method,Ye=gn(Y,w0)}let Vt={jsonrpc:f,method:B,params:Ye};return wt(Vt),t.write(Vt).catch(w0=>{throw i.error("Sending notification failed."),w0})},onNotification:(Y,N)=>{sr();let B;return Lr.func(Y)?d=Y:N&&(Lr.string(Y)?(B=Y,g.set(Y,{type:void 0,handler:N})):(B=Y.method,g.set(Y.method,{type:Y,handler:N}))),{dispose:()=>{B!==void 0?g.delete(B):d=void 0}}},onProgress:(Y,N,B)=>{if(p.has(N))throw new Error(`Progress handler for token ${N} already registered`);return p.set(N,B),{dispose:()=>{p.delete(N)}}},sendProgress:(Y,N,B)=>Xt.sendNotification(kh.type,{token:N,value:B}),onUnhandledProgress:De.event,sendRequest:(Y,...N)=>{sr(),pr();let B,Ye,Vt;if(Lr.string(Y)){B=Y;let G0=N[0],u0=N[N.length-1],er=0,I0=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(G0)&&(er=1,I0=G0);let Q0=N.length;mC.CancellationToken.is(u0)&&(Q0=Q0-1,Vt=u0);let kt=Q0-er;switch(kt){case 0:Ye=void 0;break;case 1:Ye=Un(I0,N[er]);break;default:if(I0===Qt.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' request parameter structure.`);Ye=N.slice(er,Q0).map(gs=>J0(gs));break}}else{let G0=N;B=Y.method,Ye=gn(Y,G0);let u0=Y.numberOfParams;Vt=mC.CancellationToken.is(G0[u0])?G0[u0]:void 0}let w0=o++,A0;Vt&&(A0=Vt.onCancellationRequested(()=>{let G0=Ie.sender.sendCancellation(Xt,w0);return G0===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${w0}`),Promise.resolve()):G0.catch(()=>{i.log(`Sending cancellation messages for id ${w0} failed`)})}));let Gt={jsonrpc:f,id:w0,method:B,params:Ye};return nt(Gt),typeof Ie.sender.enableCancellation=="function"&&Ie.sender.enableCancellation(Gt),new Promise(async(G0,u0)=>{let er=s(kt=>{G0(kt),Ie.sender.cleanup(w0),A0==null||A0.dispose()},"resolveWithCleanup"),I0=s(kt=>{u0(kt),Ie.sender.cleanup(w0),A0==null||A0.dispose()},"rejectWithCleanup"),Q0={method:B,timerStart:Date.now(),resolve:er,reject:I0};try{await t.write(Gt),S.set(w0,Q0)}catch(kt){throw i.error("Sending request failed."),Q0.reject(new Qt.ResponseError(Qt.ErrorCodes.MessageWriteError,kt.message?kt.message:"Unknown reason")),kt}})},onRequest:(Y,N)=>{sr();let B=null;return yC.is(Y)?(B=void 0,c=Y):Lr.string(Y)?(B=null,N!==void 0&&(B=Y,u.set(Y,{handler:N,type:void 0}))):N!==void 0&&(B=Y.method,u.set(Y.method,{type:Y,handler:N})),{dispose:()=>{B!==null&&(B!==void 0?u.delete(B):c=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(Y,N,B)=>{let Ye=!1,Vt=Ps.Text;B!==void 0&&(Lr.boolean(B)?Ye=B:(Ye=B.sendNotification||!1,Vt=B.traceFormat||Ps.Text)),P=Y,U=Vt,P===ir.Off?k=void 0:k=N,Ye&&!ce()&&!ve()&&await Xt.sendNotification(vC.type,{value:ir.toString(Y)})},onError:Q.event,onClose:te.event,onUnhandledNotification:Ce.event,onDispose:pe.event,end:()=>{t.end()},dispose:()=>{if(ve())return;L=Ko.Disposed,pe.fire(void 0);let Y=new Qt.ResponseError(Qt.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let N of S.values())N.reject(Y);S=new Map,A=new Map,E=new Set,_=new FD.LinkedMap,Lr.func(t.dispose)&&t.dispose(),Lr.func(e.dispose)&&e.dispose()},listen:()=>{sr(),X0(),L=Ko.Listening,e.listen(n0)},inspect:()=>{(0,OD.default)().console.log("inspect")}};return Xt.onNotification(d9.type,Y=>{if(P===ir.Off||!k)return;let N=P===ir.Verbose||P===ir.Compact;k.log(Y.message,N?Y.verbose:void 0)}),Xt.onNotification(kh.type,Y=>{let N=p.get(Y.token);N?N(Y.value):De.fire(Y)}),Xt}s(WX,"createMessageConnection");f0.createMessageConnection=WX});var x9=ae(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.ProgressType=qe.ProgressToken=qe.createMessageConnection=qe.NullLogger=qe.ConnectionOptions=qe.ConnectionStrategy=qe.AbstractMessageBuffer=qe.WriteableStreamMessageWriter=qe.AbstractMessageWriter=qe.MessageWriter=qe.ReadableStreamMessageReader=qe.AbstractMessageReader=qe.MessageReader=qe.SharedArrayReceiverStrategy=qe.SharedArraySenderStrategy=qe.CancellationToken=qe.CancellationTokenSource=qe.Emitter=qe.Event=qe.Disposable=qe.LRUCache=qe.Touch=qe.LinkedMap=qe.ParameterStructures=qe.NotificationType9=qe.NotificationType8=qe.NotificationType7=qe.NotificationType6=qe.NotificationType5=qe.NotificationType4=qe.NotificationType3=qe.NotificationType2=qe.NotificationType1=qe.NotificationType0=qe.NotificationType=qe.ErrorCodes=qe.ResponseError=qe.RequestType9=qe.RequestType8=qe.RequestType7=qe.RequestType6=qe.RequestType5=qe.RequestType4=qe.RequestType3=qe.RequestType2=qe.RequestType1=qe.RequestType0=qe.RequestType=qe.Message=qe.RAL=void 0;qe.MessageStrategy=qe.CancellationStrategy=qe.CancellationSenderStrategy=qe.CancellationReceiverStrategy=qe.ConnectionError=qe.ConnectionErrors=qe.LogTraceNotification=qe.SetTraceNotification=qe.TraceFormat=qe.TraceValues=qe.Trace=void 0;var yr=kb();Object.defineProperty(qe,"Message",{enumerable:!0,get:function(){return yr.Message}});Object.defineProperty(qe,"RequestType",{enumerable:!0,get:function(){return yr.RequestType}});Object.defineProperty(qe,"RequestType0",{enumerable:!0,get:function(){return yr.RequestType0}});Object.defineProperty(qe,"RequestType1",{enumerable:!0,get:function(){return yr.RequestType1}});Object.defineProperty(qe,"RequestType2",{enumerable:!0,get:function(){return yr.RequestType2}});Object.defineProperty(qe,"RequestType3",{enumerable:!0,get:function(){return yr.RequestType3}});Object.defineProperty(qe,"RequestType4",{enumerable:!0,get:function(){return yr.RequestType4}});Object.defineProperty(qe,"RequestType5",{enumerable:!0,get:function(){return yr.RequestType5}});Object.defineProperty(qe,"RequestType6",{enumerable:!0,get:function(){return yr.RequestType6}});Object.defineProperty(qe,"RequestType7",{enumerable:!0,get:function(){return yr.RequestType7}});Object.defineProperty(qe,"RequestType8",{enumerable:!0,get:function(){return yr.RequestType8}});Object.defineProperty(qe,"RequestType9",{enumerable:!0,get:function(){return yr.RequestType9}});Object.defineProperty(qe,"ResponseError",{enumerable:!0,get:function(){return yr.ResponseError}});Object.defineProperty(qe,"ErrorCodes",{enumerable:!0,get:function(){return yr.ErrorCodes}});Object.defineProperty(qe,"NotificationType",{enumerable:!0,get:function(){return yr.NotificationType}});Object.defineProperty(qe,"NotificationType0",{enumerable:!0,get:function(){return yr.NotificationType0}});Object.defineProperty(qe,"NotificationType1",{enumerable:!0,get:function(){return yr.NotificationType1}});Object.defineProperty(qe,"NotificationType2",{enumerable:!0,get:function(){return yr.NotificationType2}});Object.defineProperty(qe,"NotificationType3",{enumerable:!0,get:function(){return yr.NotificationType3}});Object.defineProperty(qe,"NotificationType4",{enumerable:!0,get:function(){return yr.NotificationType4}});Object.defineProperty(qe,"NotificationType5",{enumerable:!0,get:function(){return yr.NotificationType5}});Object.defineProperty(qe,"NotificationType6",{enumerable:!0,get:function(){return yr.NotificationType6}});Object.defineProperty(qe,"NotificationType7",{enumerable:!0,get:function(){return yr.NotificationType7}});Object.defineProperty(qe,"NotificationType8",{enumerable:!0,get:function(){return yr.NotificationType8}});Object.defineProperty(qe,"NotificationType9",{enumerable:!0,get:function(){return yr.NotificationType9}});Object.defineProperty(qe,"ParameterStructures",{enumerable:!0,get:function(){return yr.ParameterStructures}});var CC=Bb();Object.defineProperty(qe,"LinkedMap",{enumerable:!0,get:function(){return CC.LinkedMap}});Object.defineProperty(qe,"LRUCache",{enumerable:!0,get:function(){return CC.LRUCache}});Object.defineProperty(qe,"Touch",{enumerable:!0,get:function(){return CC.Touch}});var YX=SD();Object.defineProperty(qe,"Disposable",{enumerable:!0,get:function(){return YX.Disposable}});var jD=n3();Object.defineProperty(qe,"Event",{enumerable:!0,get:function(){return jD.Event}});Object.defineProperty(qe,"Emitter",{enumerable:!0,get:function(){return jD.Emitter}});var $D=a9();Object.defineProperty(qe,"CancellationTokenSource",{enumerable:!0,get:function(){return $D.CancellationTokenSource}});Object.defineProperty(qe,"CancellationToken",{enumerable:!0,get:function(){return $D.CancellationToken}});var HD=ID();Object.defineProperty(qe,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return HD.SharedArraySenderStrategy}});Object.defineProperty(qe,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return HD.SharedArrayReceiverStrategy}});var TC=PD();Object.defineProperty(qe,"MessageReader",{enumerable:!0,get:function(){return TC.MessageReader}});Object.defineProperty(qe,"AbstractMessageReader",{enumerable:!0,get:function(){return TC.AbstractMessageReader}});Object.defineProperty(qe,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return TC.ReadableStreamMessageReader}});var EC=LD();Object.defineProperty(qe,"MessageWriter",{enumerable:!0,get:function(){return EC.MessageWriter}});Object.defineProperty(qe,"AbstractMessageWriter",{enumerable:!0,get:function(){return EC.AbstractMessageWriter}});Object.defineProperty(qe,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return EC.WriteableStreamMessageWriter}});var XX=BD();Object.defineProperty(qe,"AbstractMessageBuffer",{enumerable:!0,get:function(){return XX.AbstractMessageBuffer}});var ei=qD();Object.defineProperty(qe,"ConnectionStrategy",{enumerable:!0,get:function(){return ei.ConnectionStrategy}});Object.defineProperty(qe,"ConnectionOptions",{enumerable:!0,get:function(){return ei.ConnectionOptions}});Object.defineProperty(qe,"NullLogger",{enumerable:!0,get:function(){return ei.NullLogger}});Object.defineProperty(qe,"createMessageConnection",{enumerable:!0,get:function(){return ei.createMessageConnection}});Object.defineProperty(qe,"ProgressToken",{enumerable:!0,get:function(){return ei.ProgressToken}});Object.defineProperty(qe,"ProgressType",{enumerable:!0,get:function(){return ei.ProgressType}});Object.defineProperty(qe,"Trace",{enumerable:!0,get:function(){return ei.Trace}});Object.defineProperty(qe,"TraceValues",{enumerable:!0,get:function(){return ei.TraceValues}});Object.defineProperty(qe,"TraceFormat",{enumerable:!0,get:function(){return ei.TraceFormat}});Object.defineProperty(qe,"SetTraceNotification",{enumerable:!0,get:function(){return ei.SetTraceNotification}});Object.defineProperty(qe,"LogTraceNotification",{enumerable:!0,get:function(){return ei.LogTraceNotification}});Object.defineProperty(qe,"ConnectionErrors",{enumerable:!0,get:function(){return ei.ConnectionErrors}});Object.defineProperty(qe,"ConnectionError",{enumerable:!0,get:function(){return ei.ConnectionError}});Object.defineProperty(qe,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return ei.CancellationReceiverStrategy}});Object.defineProperty(qe,"CancellationSenderStrategy",{enumerable:!0,get:function(){return ei.CancellationSenderStrategy}});Object.defineProperty(qe,"CancellationStrategy",{enumerable:!0,get:function(){return ei.CancellationStrategy}});Object.defineProperty(qe,"MessageStrategy",{enumerable:!0,get:function(){return ei.MessageStrategy}});var JX=Cc();qe.RAL=JX.default});var KD=ae(AC=>{"use strict";Object.defineProperty(AC,"__esModule",{value:!0});var VD=require("util"),Hl=x9(),b9=class b9 extends Hl.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return b9.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new VD.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};s(b9,"MessageBuffer");var _9=b9;_9.emptyBuffer=Buffer.allocUnsafe(0);var PC=class PC{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hl.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hl.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hl.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Hl.Disposable.create(()=>this.stream.off("data",t))}};s(PC,"ReadableStreamWrapper");var SC=PC,RC=class RC{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hl.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hl.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hl.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let o=s(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,o):this.stream.write(t,o)})}end(){this.stream.end()}};s(RC,"WritableStreamWrapper");var wC=RC,zD=Object.freeze({messageBuffer:Object.freeze({create:e=>new _9(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new VD.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new SC(e),asWritableStream:e=>new wC(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function IC(){return zD}s(IC,"RIL");(function(e){function t(){Hl.RAL.install(zD)}s(t,"install"),e.install=t})(IC||(IC={}));AC.default=IC});var Uu=ae(H0=>{"use strict";var QX=H0&&H0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZX=H0&&H0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QX(t,e,r)};Object.defineProperty(H0,"__esModule",{value:!0});H0.createMessageConnection=H0.createServerSocketTransport=H0.createClientSocketTransport=H0.createServerPipeTransport=H0.createClientPipeTransport=H0.generateRandomPipeName=H0.StreamMessageWriter=H0.StreamMessageReader=H0.SocketMessageWriter=H0.SocketMessageReader=H0.PortMessageWriter=H0.PortMessageReader=H0.IPCMessageWriter=H0.IPCMessageReader=void 0;var l3=KD();l3.default.install();var GD=require("path"),eJ=require("os"),tJ=require("crypto"),E9=require("net"),Rs=x9();ZX(x9(),H0);var BC=class BC extends Rs.AbstractMessageReader{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Rs.Disposable.create(()=>this.process.off("message",t))}};s(BC,"IPCMessageReader");var kC=BC;H0.IPCMessageReader=kC;var OC=class OC extends Rs.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(OC,"IPCMessageWriter");var NC=OC;H0.IPCMessageWriter=NC;var FC=class FC extends Rs.AbstractMessageReader{constructor(t){super(),this.onData=new Rs.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};s(FC,"PortMessageReader");var DC=FC;H0.PortMessageReader=DC;var MC=class MC extends Rs.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(MC,"PortMessageWriter");var LC=MC;H0.PortMessageWriter=LC;var UC=class UC extends Rs.ReadableStreamMessageReader{constructor(t,r="utf-8"){super((0,l3.default)().stream.asReadableStream(t),r)}};s(UC,"SocketMessageReader");var Fu=UC;H0.SocketMessageReader=Fu;var qC=class qC extends Rs.WriteableStreamMessageWriter{constructor(t,r){super((0,l3.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};s(qC,"SocketMessageWriter");var Mu=qC;H0.SocketMessageWriter=Mu;var jC=class jC extends Rs.ReadableStreamMessageReader{constructor(t,r){super((0,l3.default)().stream.asReadableStream(t),r)}};s(jC,"StreamMessageReader");var C9=jC;H0.StreamMessageReader=C9;var $C=class $C extends Rs.WriteableStreamMessageWriter{constructor(t,r){super((0,l3.default)().stream.asWritableStream(t),r)}};s($C,"StreamMessageWriter");var T9=$C;H0.StreamMessageWriter=T9;var WD=process.env.XDG_RUNTIME_DIR,rJ=new Map([["linux",107],["darwin",103]]);function nJ(){let e=(0,tJ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;WD?t=GD.join(WD,`vscode-ipc-${e}.sock`):t=GD.join(eJ.tmpdir(),`vscode-${e}.sock`);let r=rJ.get(process.platform);return r!==void 0&&t.length>r&&(0,l3.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}s(nJ,"generateRandomPipeName");H0.generateRandomPipeName=nJ;function iJ(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,E9.createServer)(l=>{a.close(),r([new Fu(l,t),new Mu(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(iJ,"createClientPipeTransport");H0.createClientPipeTransport=iJ;function sJ(e,t="utf-8"){let r=(0,E9.createConnection)(e);return[new Fu(r,t),new Mu(r,t)]}s(sJ,"createServerPipeTransport");H0.createServerPipeTransport=sJ;function oJ(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,E9.createServer)(l=>{a.close(),r([new Fu(l,t),new Mu(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(oJ,"createClientSocketTransport");H0.createClientSocketTransport=oJ;function aJ(e,t="utf-8"){let r=(0,E9.createConnection)(e,"127.0.0.1");return[new Fu(r,t),new Mu(r,t)]}s(aJ,"createServerSocketTransport");H0.createServerSocketTransport=aJ;function lJ(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}s(lJ,"isReadableStream");function fJ(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}s(fJ,"isWritableStream");function cJ(e,t,r,n){r||(r=Rs.NullLogger);let i=lJ(e)?new C9(e):e,o=fJ(t)?new T9(t):t;return Rs.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Rs.createMessageConnection)(i,o,r,n)}s(cJ,"createMessageConnection");H0.createMessageConnection=cJ});var HC=ae((Lue,YD)=>{"use strict";YD.exports=Uu()});var w9=ae((XD,S9)=>{(function(e){if(typeof S9=="object"&&typeof S9.exports=="object"){var t=e(require,XD);t!==void 0&&(S9.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function se(fe){return typeof fe=="string"}s(se,"is"),M.is=se})(r||(t.DocumentUri=r={}));var n;(function(M){function se(fe){return typeof fe=="string"}s(se,"is"),M.is=se})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&M.MIN_VALUE<=fe&&fe<=M.MAX_VALUE}s(se,"is"),M.is=se})(i||(t.integer=i={}));var o;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&M.MIN_VALUE<=fe&&fe<=M.MAX_VALUE}s(se,"is"),M.is=se})(o||(t.uinteger=o={}));var a;(function(M){function se(K,O){return K===Number.MAX_VALUE&&(K=o.MAX_VALUE),O===Number.MAX_VALUE&&(O=o.MAX_VALUE),{line:K,character:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.line)&&ye.uinteger(O.character)}s(fe,"is"),M.is=fe})(a||(t.Position=a={}));var l;(function(M){function se(K,O,Te,$e){if(ye.uinteger(K)&&ye.uinteger(O)&&ye.uinteger(Te)&&ye.uinteger($e))return{start:a.create(K,O),end:a.create(Te,$e)};if(a.is(K)&&a.is(O))return{start:K,end:O};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(O,", ").concat(Te,", ").concat($e,"]"))}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.start)&&a.is(O.end)}s(fe,"is"),M.is=fe})(l||(t.Range=l={}));var f;(function(M){function se(K,O){return{uri:K,range:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(ye.string(O.uri)||ye.undefined(O.uri))}s(fe,"is"),M.is=fe})(f||(t.Location=f={}));var c;(function(M){function se(K,O,Te,$e){return{targetUri:K,targetRange:O,targetSelectionRange:Te,originSelectionRange:$e}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.targetRange)&&ye.string(O.targetUri)&&l.is(O.targetSelectionRange)&&(l.is(O.originSelectionRange)||ye.undefined(O.originSelectionRange))}s(fe,"is"),M.is=fe})(c||(t.LocationLink=c={}));var u;(function(M){function se(K,O,Te,$e){return{red:K,green:O,blue:Te,alpha:$e}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.numberRange(O.red,0,1)&&ye.numberRange(O.green,0,1)&&ye.numberRange(O.blue,0,1)&&ye.numberRange(O.alpha,0,1)}s(fe,"is"),M.is=fe})(u||(t.Color=u={}));var d;(function(M){function se(K,O){return{range:K,color:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&u.is(O.color)}s(fe,"is"),M.is=fe})(d||(t.ColorInformation=d={}));var g;(function(M){function se(K,O,Te){return{label:K,textEdit:O,additionalTextEdits:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.undefined(O.textEdit)||k.is(O))&&(ye.undefined(O.additionalTextEdits)||ye.typedArray(O.additionalTextEdits,k.is))}s(fe,"is"),M.is=fe})(g||(t.ColorPresentation=g={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var y;(function(M){function se(K,O,Te,$e,Ht,or){var tr={startLine:K,endLine:O};return ye.defined(Te)&&(tr.startCharacter=Te),ye.defined($e)&&(tr.endCharacter=$e),ye.defined(Ht)&&(tr.kind=Ht),ye.defined(or)&&(tr.collapsedText=or),tr}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.startLine)&&ye.uinteger(O.startLine)&&(ye.undefined(O.startCharacter)||ye.uinteger(O.startCharacter))&&(ye.undefined(O.endCharacter)||ye.uinteger(O.endCharacter))&&(ye.undefined(O.kind)||ye.string(O.kind))}s(fe,"is"),M.is=fe})(y||(t.FoldingRange=y={}));var _;(function(M){function se(K,O){return{location:K,message:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&f.is(O.location)&&ye.string(O.message)}s(fe,"is"),M.is=fe})(_||(t.DiagnosticRelatedInformation=_={}));var S;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(S||(t.DiagnosticSeverity=S={}));var E;(function(M){M.Unnecessary=1,M.Deprecated=2})(E||(t.DiagnosticTag=E={}));var A;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&ye.string(K.href)}s(se,"is"),M.is=se})(A||(t.CodeDescription=A={}));var P;(function(M){function se(K,O,Te,$e,Ht,or){var tr={range:K,message:O};return ye.defined(Te)&&(tr.severity=Te),ye.defined($e)&&(tr.code=$e),ye.defined(Ht)&&(tr.source=Ht),ye.defined(or)&&(tr.relatedInformation=or),tr}s(se,"create"),M.create=se;function fe(K){var O,Te=K;return ye.defined(Te)&&l.is(Te.range)&&ye.string(Te.message)&&(ye.number(Te.severity)||ye.undefined(Te.severity))&&(ye.integer(Te.code)||ye.string(Te.code)||ye.undefined(Te.code))&&(ye.undefined(Te.codeDescription)||ye.string((O=Te.codeDescription)===null||O===void 0?void 0:O.href))&&(ye.string(Te.source)||ye.undefined(Te.source))&&(ye.undefined(Te.relatedInformation)||ye.typedArray(Te.relatedInformation,_.is))}s(fe,"is"),M.is=fe})(P||(t.Diagnostic=P={}));var U;(function(M){function se(K,O){for(var Te=[],$e=2;$e<arguments.length;$e++)Te[$e-2]=arguments[$e];var Ht={title:K,command:O};return ye.defined(Te)&&Te.length>0&&(Ht.arguments=Te),Ht}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.title)&&ye.string(O.command)}s(fe,"is"),M.is=fe})(U||(t.Command=U={}));var k;(function(M){function se(Te,$e){return{range:Te,newText:$e}}s(se,"replace"),M.replace=se;function fe(Te,$e){return{range:{start:Te,end:Te},newText:$e}}s(fe,"insert"),M.insert=fe;function K(Te){return{range:Te,newText:""}}s(K,"del"),M.del=K;function O(Te){var $e=Te;return ye.objectLiteral($e)&&ye.string($e.newText)&&l.is($e.range)}s(O,"is"),M.is=O})(k||(t.TextEdit=k={}));var L;(function(M){function se(K,O,Te){var $e={label:K};return O!==void 0&&($e.needsConfirmation=O),Te!==void 0&&($e.description=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.boolean(O.needsConfirmation)||O.needsConfirmation===void 0)&&(ye.string(O.description)||O.description===void 0)}s(fe,"is"),M.is=fe})(L||(t.ChangeAnnotation=L={}));var Q;(function(M){function se(fe){var K=fe;return ye.string(K)}s(se,"is"),M.is=se})(Q||(t.ChangeAnnotationIdentifier=Q={}));var te;(function(M){function se(Te,$e,Ht){return{range:Te,newText:$e,annotationId:Ht}}s(se,"replace"),M.replace=se;function fe(Te,$e,Ht){return{range:{start:Te,end:Te},newText:$e,annotationId:Ht}}s(fe,"insert"),M.insert=fe;function K(Te,$e){return{range:Te,newText:"",annotationId:$e}}s(K,"del"),M.del=K;function O(Te){var $e=Te;return k.is($e)&&(L.is($e.annotationId)||Q.is($e.annotationId))}s(O,"is"),M.is=O})(te||(t.AnnotatedTextEdit=te={}));var Ce;(function(M){function se(K,O){return{textDocument:K,edits:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ce.is(O.textDocument)&&Array.isArray(O.edits)}s(fe,"is"),M.is=fe})(Ce||(t.TextDocumentEdit=Ce={}));var De;(function(M){function se(K,O,Te){var $e={kind:"create",uri:K};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&($e.options=O),Te!==void 0&&($e.annotationId=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="create"&&ye.string(O.uri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(De||(t.CreateFile=De={}));var pe;(function(M){function se(K,O,Te,$e){var Ht={kind:"rename",oldUri:K,newUri:O};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(Ht.options=Te),$e!==void 0&&(Ht.annotationId=$e),Ht}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="rename"&&ye.string(O.oldUri)&&ye.string(O.newUri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(pe||(t.RenameFile=pe={}));var Ie;(function(M){function se(K,O,Te){var $e={kind:"delete",uri:K};return O!==void 0&&(O.recursive!==void 0||O.ignoreIfNotExists!==void 0)&&($e.options=O),Te!==void 0&&($e.annotationId=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="delete"&&ye.string(O.uri)&&(O.options===void 0||(O.options.recursive===void 0||ye.boolean(O.options.recursive))&&(O.options.ignoreIfNotExists===void 0||ye.boolean(O.options.ignoreIfNotExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(Ie||(t.DeleteFile=Ie={}));var ie;(function(M){function se(fe){var K=fe;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(O){return ye.string(O.kind)?De.is(O)||pe.is(O)||Ie.is(O):Ce.is(O)}))}s(se,"is"),M.is=se})(ie||(t.WorkspaceEdit=ie={}));var Z=function(){function M(se,fe){this.edits=se,this.changeAnnotations=fe}return s(M,"TextEditChangeImpl"),M.prototype.insert=function(se,fe,K){var O,Te;if(K===void 0?O=k.insert(se,fe):Q.is(K)?(Te=K,O=te.insert(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.insert(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},M.prototype.replace=function(se,fe,K){var O,Te;if(K===void 0?O=k.replace(se,fe):Q.is(K)?(Te=K,O=te.replace(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.replace(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},M.prototype.delete=function(se,fe){var K,O;if(fe===void 0?K=k.del(se):Q.is(fe)?(O=fe,K=te.del(se,fe)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(fe),K=te.del(se,O)),this.edits.push(K),O!==void 0)return O},M.prototype.add=function(se){this.edits.push(se)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(se){if(se===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),_e=function(){function M(se){this._annotations=se===void 0?Object.create(null):se,this._counter=0,this._size=0}return s(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),M.prototype.manage=function(se,fe){var K;if(Q.is(se)?K=se:(K=this.nextId(),fe=se),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(fe===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=fe,this._size++,K},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),Ae=function(){function M(se){var fe=this;this._textEditChanges=Object.create(null),se!==void 0?(this._workspaceEdit=se,se.documentChanges?(this._changeAnnotations=new _e(se.changeAnnotations),se.changeAnnotations=this._changeAnnotations.all(),se.documentChanges.forEach(function(K){if(Ce.is(K)){var O=new Z(K.edits,fe._changeAnnotations);fe._textEditChanges[K.textDocument.uri]=O}})):se.changes&&Object.keys(se.changes).forEach(function(K){var O=new Z(se.changes[K]);fe._textEditChanges[K]=O})):this._workspaceEdit={}}return s(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(se){if(ce.is(se)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe={uri:se.uri,version:se.version},K=this._textEditChanges[fe.uri];if(!K){var O=[],Te={textDocument:fe,edits:O};this._workspaceEdit.documentChanges.push(Te),K=new Z(O,this._changeAnnotations),this._textEditChanges[fe.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[se];if(!K){var O=[];this._workspaceEdit.changes[se]=O,K=new Z(O),this._textEditChanges[se]=K}return K}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new _e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||Q.is(fe)?O=fe:K=fe;var Te,$e;if(O===void 0?Te=De.create(se,K):($e=Q.is(O)?O:this._changeAnnotations.manage(O),Te=De.create(se,K,$e)),this._workspaceEdit.documentChanges.push(Te),$e!==void 0)return $e},M.prototype.renameFile=function(se,fe,K,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;L.is(K)||Q.is(K)?Te=K:O=K;var $e,Ht;if(Te===void 0?$e=pe.create(se,fe,O):(Ht=Q.is(Te)?Te:this._changeAnnotations.manage(Te),$e=pe.create(se,fe,O,Ht)),this._workspaceEdit.documentChanges.push($e),Ht!==void 0)return Ht},M.prototype.deleteFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||Q.is(fe)?O=fe:K=fe;var Te,$e;if(O===void 0?Te=Ie.create(se,K):($e=Q.is(O)?O:this._changeAnnotations.manage(O),Te=Ie.create(se,K,$e)),this._workspaceEdit.documentChanges.push(Te),$e!==void 0)return $e},M}();t.WorkspaceChange=Ae;var be;(function(M){function se(K){return{uri:K}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)}s(fe,"is"),M.is=fe})(be||(t.TextDocumentIdentifier=be={}));var Ke;(function(M){function se(K,O){return{uri:K,version:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.integer(O.version)}s(fe,"is"),M.is=fe})(Ke||(t.VersionedTextDocumentIdentifier=Ke={}));var ce;(function(M){function se(K,O){return{uri:K,version:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&(O.version===null||ye.integer(O.version))}s(fe,"is"),M.is=fe})(ce||(t.OptionalVersionedTextDocumentIdentifier=ce={}));var ve;(function(M){function se(K,O,Te,$e){return{uri:K,languageId:O,version:Te,text:$e}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.string(O.languageId)&&ye.integer(O.version)&&ye.string(O.text)}s(fe,"is"),M.is=fe})(ve||(t.TextDocumentItem=ve={}));var le;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function se(fe){var K=fe;return K===M.PlainText||K===M.Markdown}s(se,"is"),M.is=se})(le||(t.MarkupKind=le={}));var Ee;(function(M){function se(fe){var K=fe;return ye.objectLiteral(fe)&&le.is(K.kind)&&ye.string(K.value)}s(se,"is"),M.is=se})(Ee||(t.MarkupContent=Ee={}));var mt;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(mt||(t.CompletionItemKind=mt={}));var Et;(function(M){M.PlainText=1,M.Snippet=2})(Et||(t.InsertTextFormat=Et={}));var dt;(function(M){M.Deprecated=1})(dt||(t.CompletionItemTag=dt={}));var ze;(function(M){function se(K,O,Te){return{newText:K,insert:O,replace:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.newText)&&l.is(O.insert)&&l.is(O.replace)}s(fe,"is"),M.is=fe})(ze||(t.InsertReplaceEdit=ze={}));var n0;(function(M){M.asIs=1,M.adjustIndentation=2})(n0||(t.InsertTextMode=n0={}));var G;(function(M){function se(fe){var K=fe;return K&&(ye.string(K.detail)||K.detail===void 0)&&(ye.string(K.description)||K.description===void 0)}s(se,"is"),M.is=se})(G||(t.CompletionItemLabelDetails=G={}));var Je;(function(M){function se(fe){return{label:fe}}s(se,"create"),M.create=se})(Je||(t.CompletionItem=Je={}));var he;(function(M){function se(fe,K){return{items:fe||[],isIncomplete:!!K}}s(se,"create"),M.create=se})(he||(t.CompletionList=he={}));var Xe;(function(M){function se(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(se,"fromPlainText"),M.fromPlainText=se;function fe(K){var O=K;return ye.string(O)||ye.objectLiteral(O)&&ye.string(O.language)&&ye.string(O.value)}s(fe,"is"),M.is=fe})(Xe||(t.MarkedString=Xe={}));var Ve;(function(M){function se(fe){var K=fe;return!!K&&ye.objectLiteral(K)&&(Ee.is(K.contents)||Xe.is(K.contents)||ye.typedArray(K.contents,Xe.is))&&(fe.range===void 0||l.is(fe.range))}s(se,"is"),M.is=se})(Ve||(t.Hover=Ve={}));var nt;(function(M){function se(fe,K){return K?{label:fe,documentation:K}:{label:fe}}s(se,"create"),M.create=se})(nt||(t.ParameterInformation=nt={}));var wt;(function(M){function se(fe,K){for(var O=[],Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];var $e={label:fe};return ye.defined(K)&&($e.documentation=K),ye.defined(O)?$e.parameters=O:$e.parameters=[],$e}s(se,"create"),M.create=se})(wt||(t.SignatureInformation=wt={}));var Mt;(function(M){M.Text=1,M.Read=2,M.Write=3})(Mt||(t.DocumentHighlightKind=Mt={}));var Lt;(function(M){function se(fe,K){var O={range:fe};return ye.number(K)&&(O.kind=K),O}s(se,"create"),M.create=se})(Lt||(t.DocumentHighlight=Lt={}));var H;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(H||(t.SymbolKind=H={}));var $t;(function(M){M.Deprecated=1})($t||(t.SymbolTag=$t={}));var vt;(function(M){function se(fe,K,O,Te,$e){var Ht={name:fe,kind:K,location:{uri:Te,range:O}};return $e&&(Ht.containerName=$e),Ht}s(se,"create"),M.create=se})(vt||(t.SymbolInformation=vt={}));var sr;(function(M){function se(fe,K,O,Te){return Te!==void 0?{name:fe,kind:K,location:{uri:O,range:Te}}:{name:fe,kind:K,location:{uri:O}}}s(se,"create"),M.create=se})(sr||(t.WorkspaceSymbol=sr={}));var X0;(function(M){function se(K,O,Te,$e,Ht,or){var tr={name:K,detail:O,kind:Te,range:$e,selectionRange:Ht};return or!==void 0&&(tr.children=or),tr}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.name)&&ye.number(O.kind)&&l.is(O.range)&&l.is(O.selectionRange)&&(O.detail===void 0||ye.string(O.detail))&&(O.deprecated===void 0||ye.boolean(O.deprecated))&&(O.children===void 0||Array.isArray(O.children))&&(O.tags===void 0||Array.isArray(O.tags))}s(fe,"is"),M.is=fe})(X0||(t.DocumentSymbol=X0={}));var pr;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(pr||(t.CodeActionKind=pr={}));var J0;(function(M){M.Invoked=1,M.Automatic=2})(J0||(t.CodeActionTriggerKind=J0={}));var Wr;(function(M){function se(K,O,Te){var $e={diagnostics:K};return O!=null&&($e.only=O),Te!=null&&($e.triggerKind=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.typedArray(O.diagnostics,P.is)&&(O.only===void 0||ye.typedArray(O.only,ye.string))&&(O.triggerKind===void 0||O.triggerKind===J0.Invoked||O.triggerKind===J0.Automatic)}s(fe,"is"),M.is=fe})(Wr||(t.CodeActionContext=Wr={}));var mn;(function(M){function se(K,O,Te){var $e={title:K},Ht=!0;return typeof O=="string"?(Ht=!1,$e.kind=O):U.is(O)?$e.command=O:$e.edit=O,Ht&&Te!==void 0&&($e.kind=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.title)&&(O.diagnostics===void 0||ye.typedArray(O.diagnostics,P.is))&&(O.kind===void 0||ye.string(O.kind))&&(O.edit!==void 0||O.command!==void 0)&&(O.command===void 0||U.is(O.command))&&(O.isPreferred===void 0||ye.boolean(O.isPreferred))&&(O.edit===void 0||ie.is(O.edit))}s(fe,"is"),M.is=fe})(mn||(t.CodeAction=mn={}));var Un;(function(M){function se(K,O){var Te={range:K};return ye.defined(O)&&(Te.data=O),Te}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.command)||U.is(O.command))}s(fe,"is"),M.is=fe})(Un||(t.CodeLens=Un={}));var gn;(function(M){function se(K,O){return{tabSize:K,insertSpaces:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.uinteger(O.tabSize)&&ye.boolean(O.insertSpaces)}s(fe,"is"),M.is=fe})(gn||(t.FormattingOptions=gn={}));var Xt;(function(M){function se(K,O,Te){return{range:K,target:O,data:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.target)||ye.string(O.target))}s(fe,"is"),M.is=fe})(Xt||(t.DocumentLink=Xt={}));var Y;(function(M){function se(K,O){return{range:K,parent:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(O.parent===void 0||M.is(O.parent))}s(fe,"is"),M.is=fe})(Y||(t.SelectionRange=Y={}));var N;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(N||(t.SemanticTokenTypes=N={}));var B;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(B||(t.SemanticTokenModifiers=B={}));var Ye;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}s(se,"is"),M.is=se})(Ye||(t.SemanticTokens=Ye={}));var Vt;(function(M){function se(K,O){return{range:K,text:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.string(O.text)}s(fe,"is"),M.is=fe})(Vt||(t.InlineValueText=Vt={}));var w0;(function(M){function se(K,O,Te){return{range:K,variableName:O,caseSensitiveLookup:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.boolean(O.caseSensitiveLookup)&&(ye.string(O.variableName)||O.variableName===void 0)}s(fe,"is"),M.is=fe})(w0||(t.InlineValueVariableLookup=w0={}));var A0;(function(M){function se(K,O){return{range:K,expression:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&(ye.string(O.expression)||O.expression===void 0)}s(fe,"is"),M.is=fe})(A0||(t.InlineValueEvaluatableExpression=A0={}));var Gt;(function(M){function se(K,O){return{frameId:K,stoppedLocation:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(K.stoppedLocation)}s(fe,"is"),M.is=fe})(Gt||(t.InlineValueContext=Gt={}));var G0;(function(M){M.Type=1,M.Parameter=2;function se(fe){return fe===1||fe===2}s(se,"is"),M.is=se})(G0||(t.InlayHintKind=G0={}));var u0;(function(M){function se(K){return{value:K}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.location===void 0||f.is(O.location))&&(O.command===void 0||U.is(O.command))}s(fe,"is"),M.is=fe})(u0||(t.InlayHintLabelPart=u0={}));var er;(function(M){function se(K,O,Te){var $e={position:K,label:O};return Te!==void 0&&($e.kind=Te),$e}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.position)&&(ye.string(O.label)||ye.typedArray(O.label,u0.is))&&(O.kind===void 0||G0.is(O.kind))&&O.textEdits===void 0||ye.typedArray(O.textEdits,k.is)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.paddingLeft===void 0||ye.boolean(O.paddingLeft))&&(O.paddingRight===void 0||ye.boolean(O.paddingRight))}s(fe,"is"),M.is=fe})(er||(t.InlayHint=er={}));var I0;(function(M){function se(fe){return{kind:"snippet",value:fe}}s(se,"createSnippet"),M.createSnippet=se})(I0||(t.StringValue=I0={}));var Q0;(function(M){function se(fe,K,O,Te){return{insertText:fe,filterText:K,range:O,command:Te}}s(se,"create"),M.create=se})(Q0||(t.InlineCompletionItem=Q0={}));var kt;(function(M){function se(fe){return{items:fe}}s(se,"create"),M.create=se})(kt||(t.InlineCompletionList=kt={}));var gs;(function(M){M.Invoked=0,M.Automatic=1})(gs||(t.InlineCompletionTriggerKind=gs={}));var sl;(function(M){function se(fe,K){return{range:fe,text:K}}s(se,"create"),M.create=se})(sl||(t.SelectedCompletionInfo=sl={}));var qn;(function(M){function se(fe,K){return{triggerKind:fe,selectedCompletionInfo:K}}s(se,"create"),M.create=se})(qn||(t.InlineCompletionContext=qn={}));var Us;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&n.is(K.uri)&&ye.string(K.name)}s(se,"is"),M.is=se})(Us||(t.WorkspaceFolder=Us={})),t.EOL=[`
`,`\r
`,"\r"];var Vi;(function(M){function se(Te,$e,Ht,or){return new Eo(Te,$e,Ht,or)}s(se,"create"),M.create=se;function fe(Te){var $e=Te;return!!(ye.defined($e)&&ye.string($e.uri)&&(ye.undefined($e.languageId)||ye.string($e.languageId))&&ye.uinteger($e.lineCount)&&ye.func($e.getText)&&ye.func($e.positionAt)&&ye.func($e.offsetAt))}s(fe,"is"),M.is=fe;function K(Te,$e){for(var Ht=Te.getText(),or=O($e,function(rr,dr){var $n=rr.range.start.line-dr.range.start.line;return $n===0?rr.range.start.character-dr.range.start.character:$n}),tr=Ht.length,jn=or.length-1;jn>=0;jn--){var lr=or[jn],ui=Te.offsetAt(lr.range.start),s0=Te.offsetAt(lr.range.end);if(s0<=tr)Ht=Ht.substring(0,ui)+lr.newText+Ht.substring(s0,Ht.length);else throw new Error("Overlapping edit");tr=ui}return Ht}s(K,"applyEdits"),M.applyEdits=K;function O(Te,$e){if(Te.length<=1)return Te;var Ht=Te.length/2|0,or=Te.slice(0,Ht),tr=Te.slice(Ht);O(or,$e),O(tr,$e);for(var jn=0,lr=0,ui=0;jn<or.length&&lr<tr.length;){var s0=$e(or[jn],tr[lr]);s0<=0?Te[ui++]=or[jn++]:Te[ui++]=tr[lr++]}for(;jn<or.length;)Te[ui++]=or[jn++];for(;lr<tr.length;)Te[ui++]=tr[lr++];return Te}s(O,"mergeSort")})(Vi||(t.TextDocument=Vi={}));var Eo=function(){function M(se,fe,K,O){this._uri=se,this._languageId=fe,this._version=K,this._content=O,this._lineOffsets=void 0}return s(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),M.prototype.getText=function(se){if(se){var fe=this.offsetAt(se.start),K=this.offsetAt(se.end);return this._content.substring(fe,K)}return this._content},M.prototype.update=function(se,fe){this._content=se.text,this._version=fe,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var se=[],fe=this._content,K=!0,O=0;O<fe.length;O++){K&&(se.push(O),K=!1);var Te=fe.charAt(O);K=Te==="\r"||Te===`
`,Te==="\r"&&O+1<fe.length&&fe.charAt(O+1)===`
`&&O++}K&&fe.length>0&&se.push(fe.length),this._lineOffsets=se}return this._lineOffsets},M.prototype.positionAt=function(se){se=Math.max(Math.min(se,this._content.length),0);var fe=this.getLineOffsets(),K=0,O=fe.length;if(O===0)return a.create(0,se);for(;K<O;){var Te=Math.floor((K+O)/2);fe[Te]>se?O=Te:K=Te+1}var $e=K-1;return a.create($e,se-fe[$e])},M.prototype.offsetAt=function(se){var fe=this.getLineOffsets();if(se.line>=fe.length)return this._content.length;if(se.line<0)return 0;var K=fe[se.line],O=se.line+1<fe.length?fe[se.line+1]:this._content.length;return Math.max(Math.min(K+se.character,O),K)},Object.defineProperty(M.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),M}(),ye;(function(M){var se=Object.prototype.toString;function fe(s0){return typeof s0<"u"}s(fe,"defined"),M.defined=fe;function K(s0){return typeof s0>"u"}s(K,"undefined"),M.undefined=K;function O(s0){return s0===!0||s0===!1}s(O,"boolean"),M.boolean=O;function Te(s0){return se.call(s0)==="[object String]"}s(Te,"string"),M.string=Te;function $e(s0){return se.call(s0)==="[object Number]"}s($e,"number"),M.number=$e;function Ht(s0,rr,dr){return se.call(s0)==="[object Number]"&&rr<=s0&&s0<=dr}s(Ht,"numberRange"),M.numberRange=Ht;function or(s0){return se.call(s0)==="[object Number]"&&-2147483648<=s0&&s0<=2147483647}s(or,"integer"),M.integer=or;function tr(s0){return se.call(s0)==="[object Number]"&&0<=s0&&s0<=2147483647}s(tr,"uinteger"),M.uinteger=tr;function jn(s0){return se.call(s0)==="[object Function]"}s(jn,"func"),M.func=jn;function lr(s0){return s0!==null&&typeof s0=="object"}s(lr,"objectLiteral"),M.objectLiteral=lr;function ui(s0,rr){return Array.isArray(s0)&&s0.every(rr)}s(ui,"typedArray"),M.typedArray=ui})(ye||(ye={}))})});var Pr=ae(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.ProtocolNotificationType=is.ProtocolNotificationType0=is.ProtocolRequestType=is.ProtocolRequestType0=is.RegistrationType=is.MessageDirection=void 0;var f3=Uu(),JD;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(JD||(is.MessageDirection=JD={}));var YC=class YC{constructor(t){this.method=t}};s(YC,"RegistrationType");var VC=YC;is.RegistrationType=VC;var XC=class XC extends f3.RequestType0{constructor(t){super(t)}};s(XC,"ProtocolRequestType0");var zC=XC;is.ProtocolRequestType0=zC;var JC=class JC extends f3.RequestType{constructor(t){super(t,f3.ParameterStructures.byName)}};s(JC,"ProtocolRequestType");var KC=JC;is.ProtocolRequestType=KC;var QC=class QC extends f3.NotificationType0{constructor(t){super(t)}};s(QC,"ProtocolNotificationType0");var GC=QC;is.ProtocolNotificationType0=GC;var ZC=class ZC extends f3.NotificationType{constructor(t){super(t,f3.ParameterStructures.byName)}};s(ZC,"ProtocolNotificationType");var WC=ZC;is.ProtocolNotificationType=WC});var I9=ae(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.objectLiteral=sn.typedArray=sn.stringArray=sn.array=sn.func=sn.error=sn.number=sn.string=sn.boolean=void 0;function uJ(e){return e===!0||e===!1}s(uJ,"boolean");sn.boolean=uJ;function QD(e){return typeof e=="string"||e instanceof String}s(QD,"string");sn.string=QD;function dJ(e){return typeof e=="number"||e instanceof Number}s(dJ,"number");sn.number=dJ;function hJ(e){return e instanceof Error}s(hJ,"error");sn.error=hJ;function mJ(e){return typeof e=="function"}s(mJ,"func");sn.func=mJ;function ZD(e){return Array.isArray(e)}s(ZD,"array");sn.array=ZD;function gJ(e){return ZD(e)&&e.every(t=>QD(t))}s(gJ,"stringArray");sn.stringArray=gJ;function pJ(e,t){return Array.isArray(e)&&e.every(t)}s(pJ,"typedArray");sn.typedArray=pJ;function yJ(e){return e!==null&&typeof e=="object"}s(yJ,"objectLiteral");sn.objectLiteral=yJ});var rL=ae(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});A9.ImplementationRequest=void 0;var eL=Pr(),tL;(function(e){e.method="textDocument/implementation",e.messageDirection=eL.MessageDirection.clientToServer,e.type=new eL.ProtocolRequestType(e.method)})(tL||(A9.ImplementationRequest=tL={}))});var sL=ae(P9=>{"use strict";Object.defineProperty(P9,"__esModule",{value:!0});P9.TypeDefinitionRequest=void 0;var nL=Pr(),iL;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=nL.MessageDirection.clientToServer,e.type=new nL.ProtocolRequestType(e.method)})(iL||(P9.TypeDefinitionRequest=iL={}))});var lL=ae(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.DidChangeWorkspaceFoldersNotification=c3.WorkspaceFoldersRequest=void 0;var R9=Pr(),oL;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=R9.MessageDirection.serverToClient,e.type=new R9.ProtocolRequestType0(e.method)})(oL||(c3.WorkspaceFoldersRequest=oL={}));var aL;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=R9.MessageDirection.clientToServer,e.type=new R9.ProtocolNotificationType(e.method)})(aL||(c3.DidChangeWorkspaceFoldersNotification=aL={}))});var uL=ae(k9=>{"use strict";Object.defineProperty(k9,"__esModule",{value:!0});k9.ConfigurationRequest=void 0;var fL=Pr(),cL;(function(e){e.method="workspace/configuration",e.messageDirection=fL.MessageDirection.serverToClient,e.type=new fL.ProtocolRequestType(e.method)})(cL||(k9.ConfigurationRequest=cL={}))});var mL=ae(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.ColorPresentationRequest=u3.DocumentColorRequest=void 0;var N9=Pr(),dL;(function(e){e.method="textDocument/documentColor",e.messageDirection=N9.MessageDirection.clientToServer,e.type=new N9.ProtocolRequestType(e.method)})(dL||(u3.DocumentColorRequest=dL={}));var hL;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=N9.MessageDirection.clientToServer,e.type=new N9.ProtocolRequestType(e.method)})(hL||(u3.ColorPresentationRequest=hL={}))});var yL=ae(d3=>{"use strict";Object.defineProperty(d3,"__esModule",{value:!0});d3.FoldingRangeRefreshRequest=d3.FoldingRangeRequest=void 0;var D9=Pr(),gL;(function(e){e.method="textDocument/foldingRange",e.messageDirection=D9.MessageDirection.clientToServer,e.type=new D9.ProtocolRequestType(e.method)})(gL||(d3.FoldingRangeRequest=gL={}));var pL;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=D9.MessageDirection.serverToClient,e.type=new D9.ProtocolRequestType0(e.method)})(pL||(d3.FoldingRangeRefreshRequest=pL={}))});var _L=ae(L9=>{"use strict";Object.defineProperty(L9,"__esModule",{value:!0});L9.DeclarationRequest=void 0;var vL=Pr(),xL;(function(e){e.method="textDocument/declaration",e.messageDirection=vL.MessageDirection.clientToServer,e.type=new vL.ProtocolRequestType(e.method)})(xL||(L9.DeclarationRequest=xL={}))});var TL=ae(B9=>{"use strict";Object.defineProperty(B9,"__esModule",{value:!0});B9.SelectionRangeRequest=void 0;var bL=Pr(),CL;(function(e){e.method="textDocument/selectionRange",e.messageDirection=bL.MessageDirection.clientToServer,e.type=new bL.ProtocolRequestType(e.method)})(CL||(B9.SelectionRangeRequest=CL={}))});var IL=ae(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.WorkDoneProgressCancelNotification=Sc.WorkDoneProgressCreateRequest=Sc.WorkDoneProgress=void 0;var vJ=Uu(),O9=Pr(),EL;(function(e){e.type=new vJ.ProgressType;function t(r){return r===e.type}s(t,"is"),e.is=t})(EL||(Sc.WorkDoneProgress=EL={}));var SL;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=O9.MessageDirection.serverToClient,e.type=new O9.ProtocolRequestType(e.method)})(SL||(Sc.WorkDoneProgressCreateRequest=SL={}));var wL;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=O9.MessageDirection.clientToServer,e.type=new O9.ProtocolNotificationType(e.method)})(wL||(Sc.WorkDoneProgressCancelNotification=wL={}))});var kL=ae(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.CallHierarchyOutgoingCallsRequest=wc.CallHierarchyIncomingCallsRequest=wc.CallHierarchyPrepareRequest=void 0;var h3=Pr(),AL;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=h3.MessageDirection.clientToServer,e.type=new h3.ProtocolRequestType(e.method)})(AL||(wc.CallHierarchyPrepareRequest=AL={}));var PL;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=h3.MessageDirection.clientToServer,e.type=new h3.ProtocolRequestType(e.method)})(PL||(wc.CallHierarchyIncomingCallsRequest=PL={}));var RL;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=h3.MessageDirection.clientToServer,e.type=new h3.ProtocolRequestType(e.method)})(RL||(wc.CallHierarchyOutgoingCallsRequest=RL={}))});var FL=ae(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.SemanticTokensRefreshRequest=ss.SemanticTokensRangeRequest=ss.SemanticTokensDeltaRequest=ss.SemanticTokensRequest=ss.SemanticTokensRegistrationType=ss.TokenFormat=void 0;var Vl=Pr(),NL;(function(e){e.Relative="relative"})(NL||(ss.TokenFormat=NL={}));var Lh;(function(e){e.method="textDocument/semanticTokens",e.type=new Vl.RegistrationType(e.method)})(Lh||(ss.SemanticTokensRegistrationType=Lh={}));var DL;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Vl.MessageDirection.clientToServer,e.type=new Vl.ProtocolRequestType(e.method),e.registrationMethod=Lh.method})(DL||(ss.SemanticTokensRequest=DL={}));var LL;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Vl.MessageDirection.clientToServer,e.type=new Vl.ProtocolRequestType(e.method),e.registrationMethod=Lh.method})(LL||(ss.SemanticTokensDeltaRequest=LL={}));var BL;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Vl.MessageDirection.clientToServer,e.type=new Vl.ProtocolRequestType(e.method),e.registrationMethod=Lh.method})(BL||(ss.SemanticTokensRangeRequest=BL={}));var OL;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Vl.MessageDirection.serverToClient,e.type=new Vl.ProtocolRequestType0(e.method)})(OL||(ss.SemanticTokensRefreshRequest=OL={}))});var qL=ae(F9=>{"use strict";Object.defineProperty(F9,"__esModule",{value:!0});F9.ShowDocumentRequest=void 0;var ML=Pr(),UL;(function(e){e.method="window/showDocument",e.messageDirection=ML.MessageDirection.serverToClient,e.type=new ML.ProtocolRequestType(e.method)})(UL||(F9.ShowDocumentRequest=UL={}))});var HL=ae(M9=>{"use strict";Object.defineProperty(M9,"__esModule",{value:!0});M9.LinkedEditingRangeRequest=void 0;var jL=Pr(),$L;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=jL.MessageDirection.clientToServer,e.type=new jL.ProtocolRequestType(e.method)})($L||(M9.LinkedEditingRangeRequest=$L={}))});var JL=ae(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.WillDeleteFilesRequest=Si.DidDeleteFilesNotification=Si.DidRenameFilesNotification=Si.WillRenameFilesRequest=Si.DidCreateFilesNotification=Si.WillCreateFilesRequest=Si.FileOperationPatternKind=void 0;var ro=Pr(),VL;(function(e){e.file="file",e.folder="folder"})(VL||(Si.FileOperationPatternKind=VL={}));var zL;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolRequestType(e.method)})(zL||(Si.WillCreateFilesRequest=zL={}));var KL;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolNotificationType(e.method)})(KL||(Si.DidCreateFilesNotification=KL={}));var GL;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolRequestType(e.method)})(GL||(Si.WillRenameFilesRequest=GL={}));var WL;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolNotificationType(e.method)})(WL||(Si.DidRenameFilesNotification=WL={}));var YL;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolNotificationType(e.method)})(YL||(Si.DidDeleteFilesNotification=YL={}));var XL;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=ro.MessageDirection.clientToServer,e.type=new ro.ProtocolRequestType(e.method)})(XL||(Si.WillDeleteFilesRequest=XL={}))});var rB=ae(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.MonikerRequest=Ic.MonikerKind=Ic.UniquenessLevel=void 0;var QL=Pr(),ZL;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(ZL||(Ic.UniquenessLevel=ZL={}));var eB;(function(e){e.$import="import",e.$export="export",e.local="local"})(eB||(Ic.MonikerKind=eB={}));var tB;(function(e){e.method="textDocument/moniker",e.messageDirection=QL.MessageDirection.clientToServer,e.type=new QL.ProtocolRequestType(e.method)})(tB||(Ic.MonikerRequest=tB={}))});var oB=ae(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.TypeHierarchySubtypesRequest=Ac.TypeHierarchySupertypesRequest=Ac.TypeHierarchyPrepareRequest=void 0;var m3=Pr(),nB;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=m3.MessageDirection.clientToServer,e.type=new m3.ProtocolRequestType(e.method)})(nB||(Ac.TypeHierarchyPrepareRequest=nB={}));var iB;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=m3.MessageDirection.clientToServer,e.type=new m3.ProtocolRequestType(e.method)})(iB||(Ac.TypeHierarchySupertypesRequest=iB={}));var sB;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=m3.MessageDirection.clientToServer,e.type=new m3.ProtocolRequestType(e.method)})(sB||(Ac.TypeHierarchySubtypesRequest=sB={}))});var fB=ae(g3=>{"use strict";Object.defineProperty(g3,"__esModule",{value:!0});g3.InlineValueRefreshRequest=g3.InlineValueRequest=void 0;var U9=Pr(),aB;(function(e){e.method="textDocument/inlineValue",e.messageDirection=U9.MessageDirection.clientToServer,e.type=new U9.ProtocolRequestType(e.method)})(aB||(g3.InlineValueRequest=aB={}));var lB;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=U9.MessageDirection.serverToClient,e.type=new U9.ProtocolRequestType0(e.method)})(lB||(g3.InlineValueRefreshRequest=lB={}))});var hB=ae(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.InlayHintRefreshRequest=Pc.InlayHintResolveRequest=Pc.InlayHintRequest=void 0;var p3=Pr(),cB;(function(e){e.method="textDocument/inlayHint",e.messageDirection=p3.MessageDirection.clientToServer,e.type=new p3.ProtocolRequestType(e.method)})(cB||(Pc.InlayHintRequest=cB={}));var uB;(function(e){e.method="inlayHint/resolve",e.messageDirection=p3.MessageDirection.clientToServer,e.type=new p3.ProtocolRequestType(e.method)})(uB||(Pc.InlayHintResolveRequest=uB={}));var dB;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=p3.MessageDirection.serverToClient,e.type=new p3.ProtocolRequestType0(e.method)})(dB||(Pc.InlayHintRefreshRequest=dB={}))});var _B=ae(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.DiagnosticRefreshRequest=no.WorkspaceDiagnosticRequest=no.DocumentDiagnosticRequest=no.DocumentDiagnosticReportKind=no.DiagnosticServerCancellationData=void 0;var xB=Uu(),xJ=I9(),y3=Pr(),mB;(function(e){function t(r){let n=r;return n&&xJ.boolean(n.retriggerRequest)}s(t,"is"),e.is=t})(mB||(no.DiagnosticServerCancellationData=mB={}));var gB;(function(e){e.Full="full",e.Unchanged="unchanged"})(gB||(no.DocumentDiagnosticReportKind=gB={}));var pB;(function(e){e.method="textDocument/diagnostic",e.messageDirection=y3.MessageDirection.clientToServer,e.type=new y3.ProtocolRequestType(e.method),e.partialResult=new xB.ProgressType})(pB||(no.DocumentDiagnosticRequest=pB={}));var yB;(function(e){e.method="workspace/diagnostic",e.messageDirection=y3.MessageDirection.clientToServer,e.type=new y3.ProtocolRequestType(e.method),e.partialResult=new xB.ProgressType})(yB||(no.WorkspaceDiagnosticRequest=yB={}));var vB;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=y3.MessageDirection.serverToClient,e.type=new y3.ProtocolRequestType0(e.method)})(vB||(no.DiagnosticRefreshRequest=vB={}))});var IB=ae(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.DidCloseNotebookDocumentNotification=jr.DidSaveNotebookDocumentNotification=jr.DidChangeNotebookDocumentNotification=jr.NotebookCellArrayChange=jr.DidOpenNotebookDocumentNotification=jr.NotebookDocumentSyncRegistrationType=jr.NotebookDocument=jr.NotebookCell=jr.ExecutionSummary=jr.NotebookCellKind=void 0;var Bh=w9(),Go=I9(),Ba=Pr(),eT;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(eT||(jr.NotebookCellKind=eT={}));var tT;(function(e){function t(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(t,"create"),e.create=t;function r(i){let o=i;return Go.objectLiteral(o)&&Bh.uinteger.is(o.executionOrder)&&(o.success===void 0||Go.boolean(o.success))}s(r,"is"),e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(n,"equals"),e.equals=n})(tT||(jr.ExecutionSummary=tT={}));var q9;(function(e){function t(o,a){return{kind:o,document:a}}s(t,"create"),e.create=t;function r(o){let a=o;return Go.objectLiteral(a)&&eT.is(a.kind)&&Bh.DocumentUri.is(a.document)&&(a.metadata===void 0||Go.objectLiteral(a.metadata))}s(r,"is"),e.is=r;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!tT.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),e.diff=n;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),f=Array.isArray(a);if(l!==f)return!1;if(l&&f){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],a[c]))return!1}if(Go.objectLiteral(o)&&Go.objectLiteral(a)){let c=Object.keys(o),u=Object.keys(a);if(c.length!==u.length||(c.sort(),u.sort(),!i(c,u)))return!1;for(let d=0;d<c.length;d++){let g=c[d];if(!i(o[g],a[g]))return!1}}return!0}s(i,"equalsMetadata")})(q9||(jr.NotebookCell=q9={}));var bB;(function(e){function t(n,i,o,a){return{uri:n,notebookType:i,version:o,cells:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Go.objectLiteral(i)&&Go.string(i.uri)&&Bh.integer.is(i.version)&&Go.typedArray(i.cells,q9.is)}s(r,"is"),e.is=r})(bB||(jr.NotebookDocument=bB={}));var v3;(function(e){e.method="notebookDocument/sync",e.messageDirection=Ba.MessageDirection.clientToServer,e.type=new Ba.RegistrationType(e.method)})(v3||(jr.NotebookDocumentSyncRegistrationType=v3={}));var CB;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Ba.MessageDirection.clientToServer,e.type=new Ba.ProtocolNotificationType(e.method),e.registrationMethod=v3.method})(CB||(jr.DidOpenNotebookDocumentNotification=CB={}));var TB;(function(e){function t(n){let i=n;return Go.objectLiteral(i)&&Bh.uinteger.is(i.start)&&Bh.uinteger.is(i.deleteCount)&&(i.cells===void 0||Go.typedArray(i.cells,q9.is))}s(t,"is"),e.is=t;function r(n,i,o){let a={start:n,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(r,"create"),e.create=r})(TB||(jr.NotebookCellArrayChange=TB={}));var EB;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Ba.MessageDirection.clientToServer,e.type=new Ba.ProtocolNotificationType(e.method),e.registrationMethod=v3.method})(EB||(jr.DidChangeNotebookDocumentNotification=EB={}));var SB;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Ba.MessageDirection.clientToServer,e.type=new Ba.ProtocolNotificationType(e.method),e.registrationMethod=v3.method})(SB||(jr.DidSaveNotebookDocumentNotification=SB={}));var wB;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Ba.MessageDirection.clientToServer,e.type=new Ba.ProtocolNotificationType(e.method),e.registrationMethod=v3.method})(wB||(jr.DidCloseNotebookDocumentNotification=wB={}))});var RB=ae(j9=>{"use strict";Object.defineProperty(j9,"__esModule",{value:!0});j9.InlineCompletionRequest=void 0;var AB=Pr(),PB;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=AB.MessageDirection.clientToServer,e.type=new AB.ProtocolRequestType(e.method)})(PB||(j9.InlineCompletionRequest=PB={}))});var HO=ae(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.WorkspaceSymbolRequest=X.CodeActionResolveRequest=X.CodeActionRequest=X.DocumentSymbolRequest=X.DocumentHighlightRequest=X.ReferencesRequest=X.DefinitionRequest=X.SignatureHelpRequest=X.SignatureHelpTriggerKind=X.HoverRequest=X.CompletionResolveRequest=X.CompletionRequest=X.CompletionTriggerKind=X.PublishDiagnosticsNotification=X.WatchKind=X.RelativePattern=X.FileChangeType=X.DidChangeWatchedFilesNotification=X.WillSaveTextDocumentWaitUntilRequest=X.WillSaveTextDocumentNotification=X.TextDocumentSaveReason=X.DidSaveTextDocumentNotification=X.DidCloseTextDocumentNotification=X.DidChangeTextDocumentNotification=X.TextDocumentContentChangeEvent=X.DidOpenTextDocumentNotification=X.TextDocumentSyncKind=X.TelemetryEventNotification=X.LogMessageNotification=X.ShowMessageRequest=X.ShowMessageNotification=X.MessageType=X.DidChangeConfigurationNotification=X.ExitNotification=X.ShutdownRequest=X.InitializedNotification=X.InitializeErrorCodes=X.InitializeRequest=X.WorkDoneProgressOptions=X.TextDocumentRegistrationOptions=X.StaticRegistrationOptions=X.PositionEncodingKind=X.FailureHandlingKind=X.ResourceOperationKind=X.UnregistrationRequest=X.RegistrationRequest=X.DocumentSelector=X.NotebookCellTextDocumentFilter=X.NotebookDocumentFilter=X.TextDocumentFilter=void 0;X.MonikerRequest=X.MonikerKind=X.UniquenessLevel=X.WillDeleteFilesRequest=X.DidDeleteFilesNotification=X.WillRenameFilesRequest=X.DidRenameFilesNotification=X.WillCreateFilesRequest=X.DidCreateFilesNotification=X.FileOperationPatternKind=X.LinkedEditingRangeRequest=X.ShowDocumentRequest=X.SemanticTokensRegistrationType=X.SemanticTokensRefreshRequest=X.SemanticTokensRangeRequest=X.SemanticTokensDeltaRequest=X.SemanticTokensRequest=X.TokenFormat=X.CallHierarchyPrepareRequest=X.CallHierarchyOutgoingCallsRequest=X.CallHierarchyIncomingCallsRequest=X.WorkDoneProgressCancelNotification=X.WorkDoneProgressCreateRequest=X.WorkDoneProgress=X.SelectionRangeRequest=X.DeclarationRequest=X.FoldingRangeRefreshRequest=X.FoldingRangeRequest=X.ColorPresentationRequest=X.DocumentColorRequest=X.ConfigurationRequest=X.DidChangeWorkspaceFoldersNotification=X.WorkspaceFoldersRequest=X.TypeDefinitionRequest=X.ImplementationRequest=X.ApplyWorkspaceEditRequest=X.ExecuteCommandRequest=X.PrepareRenameRequest=X.RenameRequest=X.PrepareSupportDefaultBehavior=X.DocumentOnTypeFormattingRequest=X.DocumentRangesFormattingRequest=X.DocumentRangeFormattingRequest=X.DocumentFormattingRequest=X.DocumentLinkResolveRequest=X.DocumentLinkRequest=X.CodeLensRefreshRequest=X.CodeLensResolveRequest=X.CodeLensRequest=X.WorkspaceSymbolResolveRequest=void 0;X.InlineCompletionRequest=X.DidCloseNotebookDocumentNotification=X.DidSaveNotebookDocumentNotification=X.DidChangeNotebookDocumentNotification=X.NotebookCellArrayChange=X.DidOpenNotebookDocumentNotification=X.NotebookDocumentSyncRegistrationType=X.NotebookDocument=X.NotebookCell=X.ExecutionSummary=X.NotebookCellKind=X.DiagnosticRefreshRequest=X.WorkspaceDiagnosticRequest=X.DocumentDiagnosticRequest=X.DocumentDiagnosticReportKind=X.DiagnosticServerCancellationData=X.InlayHintRefreshRequest=X.InlayHintResolveRequest=X.InlayHintRequest=X.InlineValueRefreshRequest=X.InlineValueRequest=X.TypeHierarchySupertypesRequest=X.TypeHierarchySubtypesRequest=X.TypeHierarchyPrepareRequest=void 0;var at=Pr(),kB=w9(),Pn=I9(),_J=rL();Object.defineProperty(X,"ImplementationRequest",{enumerable:!0,get:function(){return _J.ImplementationRequest}});var bJ=sL();Object.defineProperty(X,"TypeDefinitionRequest",{enumerable:!0,get:function(){return bJ.TypeDefinitionRequest}});var UO=lL();Object.defineProperty(X,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return UO.WorkspaceFoldersRequest}});Object.defineProperty(X,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return UO.DidChangeWorkspaceFoldersNotification}});var CJ=uL();Object.defineProperty(X,"ConfigurationRequest",{enumerable:!0,get:function(){return CJ.ConfigurationRequest}});var qO=mL();Object.defineProperty(X,"DocumentColorRequest",{enumerable:!0,get:function(){return qO.DocumentColorRequest}});Object.defineProperty(X,"ColorPresentationRequest",{enumerable:!0,get:function(){return qO.ColorPresentationRequest}});var jO=yL();Object.defineProperty(X,"FoldingRangeRequest",{enumerable:!0,get:function(){return jO.FoldingRangeRequest}});Object.defineProperty(X,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return jO.FoldingRangeRefreshRequest}});var TJ=_L();Object.defineProperty(X,"DeclarationRequest",{enumerable:!0,get:function(){return TJ.DeclarationRequest}});var EJ=TL();Object.defineProperty(X,"SelectionRangeRequest",{enumerable:!0,get:function(){return EJ.SelectionRangeRequest}});var oT=IL();Object.defineProperty(X,"WorkDoneProgress",{enumerable:!0,get:function(){return oT.WorkDoneProgress}});Object.defineProperty(X,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return oT.WorkDoneProgressCreateRequest}});Object.defineProperty(X,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return oT.WorkDoneProgressCancelNotification}});var aT=kL();Object.defineProperty(X,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return aT.CallHierarchyIncomingCallsRequest}});Object.defineProperty(X,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return aT.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(X,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return aT.CallHierarchyPrepareRequest}});var x3=FL();Object.defineProperty(X,"TokenFormat",{enumerable:!0,get:function(){return x3.TokenFormat}});Object.defineProperty(X,"SemanticTokensRequest",{enumerable:!0,get:function(){return x3.SemanticTokensRequest}});Object.defineProperty(X,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return x3.SemanticTokensDeltaRequest}});Object.defineProperty(X,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return x3.SemanticTokensRangeRequest}});Object.defineProperty(X,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return x3.SemanticTokensRefreshRequest}});Object.defineProperty(X,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return x3.SemanticTokensRegistrationType}});var SJ=qL();Object.defineProperty(X,"ShowDocumentRequest",{enumerable:!0,get:function(){return SJ.ShowDocumentRequest}});var wJ=HL();Object.defineProperty(X,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return wJ.LinkedEditingRangeRequest}});var qu=JL();Object.defineProperty(X,"FileOperationPatternKind",{enumerable:!0,get:function(){return qu.FileOperationPatternKind}});Object.defineProperty(X,"DidCreateFilesNotification",{enumerable:!0,get:function(){return qu.DidCreateFilesNotification}});Object.defineProperty(X,"WillCreateFilesRequest",{enumerable:!0,get:function(){return qu.WillCreateFilesRequest}});Object.defineProperty(X,"DidRenameFilesNotification",{enumerable:!0,get:function(){return qu.DidRenameFilesNotification}});Object.defineProperty(X,"WillRenameFilesRequest",{enumerable:!0,get:function(){return qu.WillRenameFilesRequest}});Object.defineProperty(X,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return qu.DidDeleteFilesNotification}});Object.defineProperty(X,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return qu.WillDeleteFilesRequest}});var lT=rB();Object.defineProperty(X,"UniquenessLevel",{enumerable:!0,get:function(){return lT.UniquenessLevel}});Object.defineProperty(X,"MonikerKind",{enumerable:!0,get:function(){return lT.MonikerKind}});Object.defineProperty(X,"MonikerRequest",{enumerable:!0,get:function(){return lT.MonikerRequest}});var fT=oB();Object.defineProperty(X,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return fT.TypeHierarchyPrepareRequest}});Object.defineProperty(X,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return fT.TypeHierarchySubtypesRequest}});Object.defineProperty(X,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return fT.TypeHierarchySupertypesRequest}});var $O=fB();Object.defineProperty(X,"InlineValueRequest",{enumerable:!0,get:function(){return $O.InlineValueRequest}});Object.defineProperty(X,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return $O.InlineValueRefreshRequest}});var cT=hB();Object.defineProperty(X,"InlayHintRequest",{enumerable:!0,get:function(){return cT.InlayHintRequest}});Object.defineProperty(X,"InlayHintResolveRequest",{enumerable:!0,get:function(){return cT.InlayHintResolveRequest}});Object.defineProperty(X,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return cT.InlayHintRefreshRequest}});var Oh=_B();Object.defineProperty(X,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Oh.DiagnosticServerCancellationData}});Object.defineProperty(X,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Oh.DocumentDiagnosticReportKind}});Object.defineProperty(X,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Oh.DocumentDiagnosticRequest}});Object.defineProperty(X,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Oh.WorkspaceDiagnosticRequest}});Object.defineProperty(X,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Oh.DiagnosticRefreshRequest}});var Oa=IB();Object.defineProperty(X,"NotebookCellKind",{enumerable:!0,get:function(){return Oa.NotebookCellKind}});Object.defineProperty(X,"ExecutionSummary",{enumerable:!0,get:function(){return Oa.ExecutionSummary}});Object.defineProperty(X,"NotebookCell",{enumerable:!0,get:function(){return Oa.NotebookCell}});Object.defineProperty(X,"NotebookDocument",{enumerable:!0,get:function(){return Oa.NotebookDocument}});Object.defineProperty(X,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Oa.NotebookDocumentSyncRegistrationType}});Object.defineProperty(X,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Oa.DidOpenNotebookDocumentNotification}});Object.defineProperty(X,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Oa.NotebookCellArrayChange}});Object.defineProperty(X,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Oa.DidChangeNotebookDocumentNotification}});Object.defineProperty(X,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Oa.DidSaveNotebookDocumentNotification}});Object.defineProperty(X,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Oa.DidCloseNotebookDocumentNotification}});var IJ=RB();Object.defineProperty(X,"InlineCompletionRequest",{enumerable:!0,get:function(){return IJ.InlineCompletionRequest}});var rT;(function(e){function t(r){let n=r;return Pn.string(n)||Pn.string(n.language)||Pn.string(n.scheme)||Pn.string(n.pattern)}s(t,"is"),e.is=t})(rT||(X.TextDocumentFilter=rT={}));var nT;(function(e){function t(r){let n=r;return Pn.objectLiteral(n)&&(Pn.string(n.notebookType)||Pn.string(n.scheme)||Pn.string(n.pattern))}s(t,"is"),e.is=t})(nT||(X.NotebookDocumentFilter=nT={}));var iT;(function(e){function t(r){let n=r;return Pn.objectLiteral(n)&&(Pn.string(n.notebook)||nT.is(n.notebook))&&(n.language===void 0||Pn.string(n.language))}s(t,"is"),e.is=t})(iT||(X.NotebookCellTextDocumentFilter=iT={}));var sT;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Pn.string(n)&&!rT.is(n)&&!iT.is(n))return!1;return!0}s(t,"is"),e.is=t})(sT||(X.DocumentSelector=sT={}));var NB;(function(e){e.method="client/registerCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(NB||(X.RegistrationRequest=NB={}));var DB;(function(e){e.method="client/unregisterCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(DB||(X.UnregistrationRequest=DB={}));var LB;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(LB||(X.ResourceOperationKind=LB={}));var BB;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(BB||(X.FailureHandlingKind=BB={}));var OB;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(OB||(X.PositionEncodingKind=OB={}));var FB;(function(e){function t(r){let n=r;return n&&Pn.string(n.id)&&n.id.length>0}s(t,"hasId"),e.hasId=t})(FB||(X.StaticRegistrationOptions=FB={}));var MB;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||sT.is(n.documentSelector))}s(t,"is"),e.is=t})(MB||(X.TextDocumentRegistrationOptions=MB={}));var UB;(function(e){function t(n){let i=n;return Pn.objectLiteral(i)&&(i.workDoneProgress===void 0||Pn.boolean(i.workDoneProgress))}s(t,"is"),e.is=t;function r(n){let i=n;return i&&Pn.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(UB||(X.WorkDoneProgressOptions=UB={}));var qB;(function(e){e.method="initialize",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(qB||(X.InitializeRequest=qB={}));var jB;(function(e){e.unknownProtocolVersion=1})(jB||(X.InitializeErrorCodes=jB={}));var $B;(function(e){e.method="initialized",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})($B||(X.InitializedNotification=$B={}));var HB;(function(e){e.method="shutdown",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType0(e.method)})(HB||(X.ShutdownRequest=HB={}));var VB;(function(e){e.method="exit",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType0(e.method)})(VB||(X.ExitNotification=VB={}));var zB;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(zB||(X.DidChangeConfigurationNotification=zB={}));var KB;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(KB||(X.MessageType=KB={}));var GB;(function(e){e.method="window/showMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(GB||(X.ShowMessageNotification=GB={}));var WB;(function(e){e.method="window/showMessageRequest",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(WB||(X.ShowMessageRequest=WB={}));var YB;(function(e){e.method="window/logMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(YB||(X.LogMessageNotification=YB={}));var XB;(function(e){e.method="telemetry/event",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(XB||(X.TelemetryEventNotification=XB={}));var JB;(function(e){e.None=0,e.Full=1,e.Incremental=2})(JB||(X.TextDocumentSyncKind=JB={}));var QB;(function(e){e.method="textDocument/didOpen",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(QB||(X.DidOpenTextDocumentNotification=QB={}));var ZB;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),e.isFull=r})(ZB||(X.TextDocumentContentChangeEvent=ZB={}));var eO;(function(e){e.method="textDocument/didChange",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(eO||(X.DidChangeTextDocumentNotification=eO={}));var tO;(function(e){e.method="textDocument/didClose",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(tO||(X.DidCloseTextDocumentNotification=tO={}));var rO;(function(e){e.method="textDocument/didSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(rO||(X.DidSaveTextDocumentNotification=rO={}));var nO;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(nO||(X.TextDocumentSaveReason=nO={}));var iO;(function(e){e.method="textDocument/willSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(iO||(X.WillSaveTextDocumentNotification=iO={}));var sO;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(sO||(X.WillSaveTextDocumentWaitUntilRequest=sO={}));var oO;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(oO||(X.DidChangeWatchedFilesNotification=oO={}));var aO;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(aO||(X.FileChangeType=aO={}));var lO;(function(e){function t(r){let n=r;return Pn.objectLiteral(n)&&(kB.URI.is(n.baseUri)||kB.WorkspaceFolder.is(n.baseUri))&&Pn.string(n.pattern)}s(t,"is"),e.is=t})(lO||(X.RelativePattern=lO={}));var fO;(function(e){e.Create=1,e.Change=2,e.Delete=4})(fO||(X.WatchKind=fO={}));var cO;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(cO||(X.PublishDiagnosticsNotification=cO={}));var uO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(uO||(X.CompletionTriggerKind=uO={}));var dO;(function(e){e.method="textDocument/completion",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(dO||(X.CompletionRequest=dO={}));var hO;(function(e){e.method="completionItem/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(hO||(X.CompletionResolveRequest=hO={}));var mO;(function(e){e.method="textDocument/hover",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(mO||(X.HoverRequest=mO={}));var gO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(gO||(X.SignatureHelpTriggerKind=gO={}));var pO;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(pO||(X.SignatureHelpRequest=pO={}));var yO;(function(e){e.method="textDocument/definition",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(yO||(X.DefinitionRequest=yO={}));var vO;(function(e){e.method="textDocument/references",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(vO||(X.ReferencesRequest=vO={}));var xO;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(xO||(X.DocumentHighlightRequest=xO={}));var _O;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(_O||(X.DocumentSymbolRequest=_O={}));var bO;(function(e){e.method="textDocument/codeAction",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(bO||(X.CodeActionRequest=bO={}));var CO;(function(e){e.method="codeAction/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(CO||(X.CodeActionResolveRequest=CO={}));var TO;(function(e){e.method="workspace/symbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(TO||(X.WorkspaceSymbolRequest=TO={}));var EO;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(EO||(X.WorkspaceSymbolResolveRequest=EO={}));var SO;(function(e){e.method="textDocument/codeLens",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(SO||(X.CodeLensRequest=SO={}));var wO;(function(e){e.method="codeLens/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(wO||(X.CodeLensResolveRequest=wO={}));var IO;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType0(e.method)})(IO||(X.CodeLensRefreshRequest=IO={}));var AO;(function(e){e.method="textDocument/documentLink",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(AO||(X.DocumentLinkRequest=AO={}));var PO;(function(e){e.method="documentLink/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(PO||(X.DocumentLinkResolveRequest=PO={}));var RO;(function(e){e.method="textDocument/formatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(RO||(X.DocumentFormattingRequest=RO={}));var kO;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(kO||(X.DocumentRangeFormattingRequest=kO={}));var NO;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(NO||(X.DocumentRangesFormattingRequest=NO={}));var DO;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(DO||(X.DocumentOnTypeFormattingRequest=DO={}));var LO;(function(e){e.Identifier=1})(LO||(X.PrepareSupportDefaultBehavior=LO={}));var BO;(function(e){e.method="textDocument/rename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(BO||(X.RenameRequest=BO={}));var OO;(function(e){e.method="textDocument/prepareRename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(OO||(X.PrepareRenameRequest=OO={}));var FO;(function(e){e.method="workspace/executeCommand",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(FO||(X.ExecuteCommandRequest=FO={}));var MO;(function(e){e.method="workspace/applyEdit",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType("workspace/applyEdit")})(MO||(X.ApplyWorkspaceEditRequest=MO={}))});var zO=ae($9=>{"use strict";Object.defineProperty($9,"__esModule",{value:!0});$9.createProtocolConnection=void 0;var VO=Uu();function AJ(e,t,r,n){return VO.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,VO.createMessageConnection)(e,t,r,n)}s(AJ,"createProtocolConnection");$9.createProtocolConnection=AJ});var GO=ae(os=>{"use strict";var PJ=os&&os.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H9=os&&os.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PJ(t,e,r)};Object.defineProperty(os,"__esModule",{value:!0});os.LSPErrorCodes=os.createProtocolConnection=void 0;H9(Uu(),os);H9(w9(),os);H9(Pr(),os);H9(HO(),os);var RJ=zO();Object.defineProperty(os,"createProtocolConnection",{enumerable:!0,get:function(){return RJ.createProtocolConnection}});var KO;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(KO||(os.LSPErrorCodes=KO={}))});var YO=ae(Fa=>{"use strict";var kJ=Fa&&Fa.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WO=Fa&&Fa.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kJ(t,e,r)};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.createProtocolConnection=void 0;var NJ=HC();WO(HC(),Fa);WO(GO(),Fa);function DJ(e,t,r,n){return(0,NJ.createMessageConnection)(e,t,r,n)}s(DJ,"createProtocolConnection");Fa.createProtocolConnection=DJ});var XO=ae((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((a,l)=>{throw l},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}s(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(s(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=s((a,l)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,l?void 0:"utf8")),"read_"),readBinary=s(a=>{var l=read_(a,!0);return l.buffer||(l=new Uint8Array(l)),l},"readBinary"),readAsync=s((a,l,f)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(c,u){c?f(c):l(u.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((a,l)=>{if(keepRuntimeAlive())throw process.exitCode=a,l;logExceptionOnExit(l),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.send(null),l.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)},"readBinary")),readAsync=s((a,l,f)=>{var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?l(c.response):f()},c.onerror=f,c.send(null)},"readAsync"),setWindowTitle=s(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,l,f){for(var c=l+f,u=l;a[u]&&!(u>=c);)++u;if(u-l>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(l,u));for(var d="";l<u;){var g=a[l++];if(128&g){var p=63&a[l++];if((224&g)!=192){var y=63&a[l++];if((g=(240&g)==224?(15&g)<<12|p<<6|y:(7&g)<<18|p<<12|y<<6|63&a[l++])<65536)d+=String.fromCharCode(g);else{var _=g-65536;d+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else d+=String.fromCharCode((31&g)<<6|p)}else d+=String.fromCharCode(g)}return d}s(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,l){return a?UTF8ArrayToString(HEAPU8,a,l):""}s(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,l,f,c){if(!(c>0))return 0;for(var u=f,d=f+c-1,g=0;g<a.length;++g){var p=a.charCodeAt(g);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&a.charCodeAt(++g)),p<=127){if(f>=d)break;l[f++]=p}else if(p<=2047){if(f+1>=d)break;l[f++]=192|p>>6,l[f++]=128|63&p}else if(p<=65535){if(f+2>=d)break;l[f++]=224|p>>12,l[f++]=128|p>>6&63,l[f++]=128|63&p}else{if(f+3>=d)break;l[f++]=240|p>>18,l[f++]=128|p>>12&63,l[f++]=128|p>>6&63,l[f++]=128|63&p}}return l[f]=0,f-u}s(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,l,f){return stringToUTF8Array(a,HEAPU8,l,f)}s(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var l=0,f=0;f<a.length;++f){var c=a.charCodeAt(f);c<=127?l++:c<=2047?l+=2:c>=55296&&c<=57343?(l+=4,++f):l+=3}return l}s(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}s(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}s(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}s(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}s(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var l=dependenciesFulfilled;dependenciesFulfilled=null,l()}}s(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}s(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}s(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(l){abort(l)}}s(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,l){readAsync(wasmBinaryFile,function(f){a(new Uint8Array(f))},l)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}s(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function l(u,d){var g=u.exports;g=relocateExports(g,1024);var p=getDylinkMetadata(d);p.neededDynlibs&&(dynamicLibraries=p.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(g,"main"),Module.asm=g,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}s(l,"t");function f(u){l(u.instance,u.module)}s(f,"r");function c(u){return getBinaryPromise().then(function(d){return WebAssembly.instantiate(d,a)}).then(function(d){return d}).then(u,function(d){err("failed to asynchronously prepare wasm: "+d),abort(d)})}if(s(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,l)}catch(u){return err("Module.instantiateWasm callback failed with error: "+u),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(f):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(u){return WebAssembly.instantiateStreaming(u,a).then(f,function(d){return err("wasm streaming compile failed: "+d),err("falling back to ArrayBuffer instantiation"),c(f)})}),{}}s(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}s(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,l){var f=GOT[l];return f||(f=GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(l)||(f.required=!0),f}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}s(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var l=0,f=0;function c(){for(var Q=0,te=1;;){var Ce=a[l++];if(Q+=(127&Ce)*te,te*=128,!(128&Ce))break}return Q}s(c,"_");function u(){var Q=c();return UTF8ArrayToString(a,(l+=Q)-Q,Q)}s(u,"n");function d(Q,te){if(Q)throw new Error(te)}s(d,"s");var g="dylink.0";if(a instanceof WebAssembly.Module){var p=WebAssembly.Module.customSections(a,g);p.length===0&&(g="dylink",p=WebAssembly.Module.customSections(a,g)),d(p.length===0,"need dylink section"),f=(a=new Uint8Array(p[0])).length}else{d(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),d(a[8]!==0,"need the dylink section to be first"),l=9;var y=c();f=l+y,g=u()}var _={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(g=="dylink"){_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();for(var S=c(),E=0;E<S;++E){var A=u();_.neededDynlibs.push(A)}}else for(d(g!=="dylink.0");l<f;){var P=a[l++],U=c();if(P===1)_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();else if(P===2)for(S=c(),E=0;E<S;++E)A=u(),_.neededDynlibs.push(A);else if(P===3)for(var k=c();k--;){var L=u();256&c()&&_.tlsExports.add(L)}else if(P===4)for(k=c();k--;)u(),L=u(),(3&c())==1&&_.weakImports.add(L);else l+=U}return _}s(getDylinkMetadata,"getDylinkMetadata");function getValue(a,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+l)}return null}s(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}s(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,l){for(var f in a)if(a.hasOwnProperty(f)){asmLibraryArg.hasOwnProperty(f)||(asmLibraryArg[f]=a[f]);var c=asmjsMangle(f);Module.hasOwnProperty(c)||(Module[c]=a[f]),f=="__main_argc_argv"&&(Module._main=a[f])}}s(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,l,f){var c=Module["dynCall_"+a];return f&&f.length?c.apply(null,[l].concat(f)):c.call(null,l)}s(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var l=wasmTableMirror[a];return l||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=l=wasmTable.get(a)),l}s(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,l,f){return a.includes("j")?dynCallLegacy(a,l,f):getWasmTableEntry(l).apply(null,f)}s(dynCall,"dynCall");function createInvokeFunction(a){return function(){var l=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(f){if(stackRestore(l),f!==f+0)throw f;_setThrew(1,0)}}}s(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,l){return HEAPU8.fill(0,a,a+l),a}s(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var l=___heap_base,f=l+a+15&-16;return ___heap_base=f,GOT.__heap_base.value=f,l}s(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}s(isInternalSym,"isInternalSym");function uleb128Encode(a,l){a<128?l.push(a):l.push(a%128|128,a>>7)}s(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var l={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},f={parameters:[],results:a[0]=="v"?[]:[l[a[0]]]},c=1;c<a.length;++c)f.parameters.push(l[a[c]]),a[c]==="j"&&f.parameters.push("i32");return f}s(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,l){var f=a.slice(0,1),c=a.slice(1),u={i:127,p:127,j:126,f:125,d:124};l.push(96),uleb128Encode(c.length,l);for(var d=0;d<c.length;++d)l.push(u[c[d]]);f=="v"?l.push(0):l.push(1,u[f])}s(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,l){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(l),a);var f=[1];generateFuncType(l,f);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(f.length,c),c.push.apply(c,f),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(u,{e:{f:a}}).exports.f}s(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,l){if(functionsInTableMap)for(var f=a;f<a+l;f++){var c=getWasmTableEntry(f);c&&functionsInTableMap.set(c,f)}}s(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}s(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,l){wasmTable.set(a,l),wasmTableMirror[a]=wasmTable.get(a)}s(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,l){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var f=getEmptyTableSlot();try{setWasmTableEntry(f,a)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(f,convertJsFunctionToWasm(a,l))}return functionsInTableMap.set(a,f),f}s(addFunction,"addFunction");function updateGOT(a,l){for(var f in a)if(!isInternalSym(f)){var c=a[f];f.startsWith("orig$")&&(f=f.split("$")[1],l=!0),GOT[f]||(GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),(l||GOT[f].value==0)&&(typeof c=="function"?GOT[f].value=addFunction(c):typeof c=="number"?GOT[f].value=c:err("unhandled export type for `"+f+"`: "+typeof c))}}s(updateGOT,"updateGOT");function relocateExports(a,l,f){var c={};for(var u in a){var d=a[u];typeof d=="object"&&(d=d.value),typeof d=="number"&&(d+=l),c[u]=d}return updateGOT(c,f),c}s(relocateExports,"relocateExports");function resolveGlobalSymbol(a,l){var f;return l&&(f=asmLibraryArg["orig$"+a]),f||(f=asmLibraryArg[a])&&f.stub&&(f=void 0),f||(f=Module[asmjsMangle(a)]),!f&&a.startsWith("invoke_")&&(f=createInvokeFunction(a.split("_")[1])),f}s(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,l){return Math.ceil(a/l)*l}s(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var l=resolveGlobalSymbol(a,!1);return l||(l=moduleExports[a]),l}s(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,l){switch(l){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(l in asmLibraryArg)return asmLibraryArg[l];var f;return l in a||(a[l]=function(){return f||(f=resolveSymbol(l)),f.apply(null,arguments)}),a[l]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return s(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}s(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,l,f){l=l||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[a];if(c)return l.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,a)),l.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,f&&(LDSO.loadedLibsByHandle[f]=c),!l.loadAsync||Promise.resolve(!0);function u(p){if(l.fs&&l.fs.findObject(p)){var y=l.fs.readFile(p,{encoding:"binary"});return y instanceof Uint8Array||(y=new Uint8Array(y)),l.loadAsync?Promise.resolve(y):y}if(p=locateFile(p),l.loadAsync)return new Promise(function(_,S){readAsync(p,E=>_(new Uint8Array(E)),S)});if(!readBinary)throw new Error(p+": file not found, and synchronous loading of external files is not available");return readBinary(p)}s(u,"n");function d(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var p=preloadedWasm[a];return l.loadAsync?Promise.resolve(p):p}return l.loadAsync?u(a).then(function(y){return loadWebAssemblyModule(y,l,f)}):loadWebAssemblyModule(u(a),l,f)}s(d,"s");function g(p){c.global&&mergeLibSymbols(p,a),c.module=p}return s(g,"a"),c={refcount:l.nodelete?1/0:1,name:a,module:"loading",global:l.global},LDSO.loadedLibsByName[a]=c,f&&(LDSO.loadedLibsByHandle[f]=c),l.loadAsync?d().then(function(p){return g(p),!0}):(g(d()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var l=resolveGlobalSymbol(a,!0);if(!l&&!GOT[a].required)continue;if(typeof l=="function")GOT[a].value=addFunction(l,l.sig);else{if(typeof l!="number")throw new Error("bad export type for `"+a+"`: "+typeof l);GOT[a].value=l}}}s(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}s(preloadDylibs,"preloadDylibs");function setValue(a,l,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":HEAP8[a>>0]=l;break;case"i16":HEAP16[a>>1]=l;break;case"i32":HEAP32[a>>2]=l;break;case"i64":tempI64=[l>>>0,(tempDouble=l,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=l;break;case"double":HEAPF64[a>>3]=l;break;case"*":HEAPU32[a>>2]=l;break;default:abort("invalid type for setValue: "+f)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}s(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}s(_abort,"_abort");function _emscripten_date_now(){return Date.now()}s(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,l,f){HEAPU8.copyWithin(a,l,l+f)}s(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}s(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}s(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var l=HEAPU8.length;a>>>=0;var f=getHeapMax();if(a>f)return!1;for(var c=1;c<=4;c*=2){var u=l*(1+.2/c);if(u=Math.min(u,a+100663296),emscripten_realloc_buffer(Math.min(f,(d=Math.max(a,u))+((g=65536)-d%g)%g)))return!0}var d,g;return!1}s(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,l,f){if(PATH.isAbs(l))return l;var c;if(a===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(a).path,l.length==0){if(!f)throw new FS.ErrnoError(44);return c}return PATH.join2(c,l)},doStat:function(a,l,f){try{var c=a(l)}catch(p){if(p&&p.node&&PATH.normalize(l)!==PATH.normalize(FS.getPath(p.node)))return-54;throw p}HEAP32[f>>2]=c.dev,HEAP32[f+8>>2]=c.ino,HEAP32[f+12>>2]=c.mode,HEAPU32[f+16>>2]=c.nlink,HEAP32[f+20>>2]=c.uid,HEAP32[f+24>>2]=c.gid,HEAP32[f+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+40>>2]=tempI64[0],HEAP32[f+44>>2]=tempI64[1],HEAP32[f+48>>2]=4096,HEAP32[f+52>>2]=c.blocks;var u=c.atime.getTime(),d=c.mtime.getTime(),g=c.ctime.getTime();return tempI64=[Math.floor(u/1e3)>>>0,(tempDouble=Math.floor(u/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+56>>2]=tempI64[0],HEAP32[f+60>>2]=tempI64[1],HEAPU32[f+64>>2]=u%1e3*1e3,tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+72>>2]=tempI64[0],HEAP32[f+76>>2]=tempI64[1],HEAPU32[f+80>>2]=d%1e3*1e3,tempI64=[Math.floor(g/1e3)>>>0,(tempDouble=Math.floor(g/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+88>>2]=tempI64[0],HEAP32[f+92>>2]=tempI64[1],HEAPU32[f+96>>2]=g%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+104>>2]=tempI64[0],HEAP32[f+108>>2]=tempI64[1],0},doMsync:function(a,l,f,c,u){if(!FS.isFile(l.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var d=HEAPU8.slice(a,a+f);FS.msync(l,d,u,f,c)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var l=FS.getStream(a);if(!l)throw new FS.ErrnoError(8);return l}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}s(_proc_exit,"_proc_exit");function exitJS(a,l){EXITSTATUS=a,_proc_exit(a)}s(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var l=SYSCALLS.getStreamFromFD(a);return FS.close(l),0}catch(f){if(typeof FS>"u"||!(f instanceof FS.ErrnoError))throw f;return f.errno}}s(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,l){return l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN}s(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,l,f,c,u){try{var d=convertI32PairToI53Checked(l,f);if(isNaN(d))return 61;var g=SYSCALLS.getStreamFromFD(a);return FS.llseek(g,d,c),tempI64=[g.position>>>0,(tempDouble=g.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u>>2]=tempI64[0],HEAP32[u+4>>2]=tempI64[1],g.getdents&&d===0&&c===0&&(g.getdents=null),0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}s(_fd_seek,"_fd_seek");function doWritev(a,l,f,c){for(var u=0,d=0;d<f;d++){var g=HEAPU32[l>>2],p=HEAPU32[l+4>>2];l+=8;var y=FS.write(a,HEAP8,g,p,c);if(y<0)return-1;u+=y,c!==void 0&&(c+=y)}return u}s(doWritev,"doWritev");function _fd_write(a,l,f,c){try{var u=doWritev(SYSCALLS.getStreamFromFD(a),l,f);return HEAPU32[c>>2]=u,0}catch(d){if(typeof FS>"u"||!(d instanceof FS.ErrnoError))throw d;return d.errno}}s(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,l){if(currentLogCallback){let f=UTF8ToString(l);currentLogCallback(f,a!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,l,f,c,u){var d=currentParseCallback(l,{row:f,column:c});typeof d=="string"?(setValue(u,d.length,"i32"),stringToUTF16(d,a,10240)):setValue(u,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}s(handleException,"handleException");function allocateUTF8OnStack(a){var l=lengthBytesUTF8(a)+1,f=stackAlloc(l);return stringToUTF8Array(a,HEAP8,f,l),f}s(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,l,f){if(f===void 0&&(f=2147483647),f<2)return 0;for(var c=l,u=(f-=2)<2*a.length?f/2:a.length,d=0;d<u;++d){var g=a.charCodeAt(d);HEAP16[l>>1]=g,l+=2}return HEAP16[l>>1]=0,l-c}s(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var l="";;){var f=HEAPU8[a++>>0];if(!f)return l;l+=String.fromCharCode(f)}}s(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var l=Module._main;if(l){(a=a||[]).unshift(thisProgram);var f=a.length,c=stackAlloc(4*(f+1)),u=c>>2;a.forEach(g=>{HEAP32[u++]=allocateUTF8OnStack(g)}),HEAP32[u]=0;try{var d=l(f,c);return exitJS(d,!0),d}catch(g){return handleException(g)}}}s(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=s(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"e");var dylibsLoaded=!1;function run(a){function l(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}s(l,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),l()},1)):l()))}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(l){let f;if(l){if(l.constructor!==Language)throw new Error("Argument must be a Language");{f=l[0];let c=C._ts_language_version(f);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else f=0,l=null;return this.language=l,C._ts_parser_set_language(this[0],f),this}getLanguage(){return this.language}parse(l,f,c){if(typeof l=="string")currentParseCallback=s((y,_,S)=>l.slice(y,S),"currentParseCallback");else{if(typeof l!="function")throw new Error("Argument must be a string or a function");currentParseCallback=l}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let u=0,d=0;if(c&&c.includedRanges){u=c.includedRanges.length,d=C._calloc(u,SIZE_OF_RANGE);let y=d;for(let _=0;_<u;_++)marshalRange(y,c.includedRanges[_]),y+=SIZE_OF_RANGE}let g=C._ts_parser_parse_wasm(this[0],this[1],f?f[0]:0,d,u);if(!g)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let p=new Tree(INTERNAL,g,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,p}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(l){C._ts_parser_set_timeout_micros(this[0],l)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(l){if(l){if(typeof l!="function")throw new Error("Logger callback must be a function")}else l=null;return this.logCallback=l,this}getLogger(){return this.logCallback}};s(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(l,f,c,u){assertInternal(l),this[0]=f,this.language=c,this.textCallback=u}copy(){let l=C._ts_tree_copy(this[0]);return new t(INTERNAL,l,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(l){marshalEdit(l),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(l){if(l.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],l[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(f);if(f>0){let d=c;for(let g=0;g<f;g++)u[g]=unmarshalRange(d),d+=SIZE_OF_RANGE;C._free(c)}return u}};s(t,"Tree");let Tree=t,r=class r{constructor(l,f){assertInternal(l),this.tree=f}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(l){return this.id===l.id}child(l){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}namedChild(l){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldId(l){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldName(l){let f=this.tree.language.fields.indexOf(l);if(f!==-1)return this.childForFieldId(f)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._children[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._namedChildren[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._namedChildren}descendantsOfType(l,f,c){Array.isArray(l)||(l=[l]),f||(f=ZERO_POINT),c||(c=ZERO_POINT);let u=[],d=this.tree.language.types;for(let S=0,E=d.length;S<E;S++)l.includes(d[S])&&u.push(S);let g=C._malloc(SIZE_OF_INT*u.length);for(let S=0,E=u.length;S<E;S++)setValue(g+S*SIZE_OF_INT,u[S],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],g,u.length,f.row,f.column,c.row,c.column);let p=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(p);if(p>0){let S=y;for(let E=0;E<p;E++)_[E]=unmarshalNode(this.tree,S),S+=SIZE_OF_NODE}return C._free(y),C._free(g),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let l=C._ts_node_to_string_wasm(this.tree[0]),f=AsciiToString(l);return C._free(l),f}};s(r,"Node");let Node=r,n=class n{constructor(l,f){assertInternal(l),this.tree=f,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(l){marshalNode(l),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let l=C._ts_tree_cursor_start_index_wasm(this.tree[0]),f=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,l,f)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoNextSibling(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoParent(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}};s(n,"TreeCursor");let TreeCursor=n,i=class i{constructor(l,f){assertInternal(l),this[0]=f,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,u=this.types.length;c<u;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,u=this.fields.length;c<u;c++){let d=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=d!==0?UTF8ToString(d):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(l){let f=this.fields.indexOf(l);return f!==-1?f:null}fieldNameForId(l){return this.fields[l]||null}idForNodeType(l,f){let c=lengthBytesUTF8(l),u=C._malloc(c+1);stringToUTF8(l,u,c+1);let d=C._ts_language_symbol_for_name(this[0],u,c,f);return C._free(u),d||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(l){let f=C._ts_language_symbol_name(this[0],l);return f?UTF8ToString(f):null}nodeTypeIsNamed(l){return!!C._ts_language_type_is_named_wasm(this[0],l)}nodeTypeIsVisible(l){return!!C._ts_language_type_is_visible_wasm(this[0],l)}query(l){let f=lengthBytesUTF8(l),c=C._malloc(f+1);stringToUTF8(l,c,f+1);let u=C._ts_query_new(this[0],c,f,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!u){let k=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),L=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,Q=l.substr(L,100).split(`
`)[0],te,Ce=Q.match(QUERY_WORD_REGEX)[0];switch(k){case 2:te=new RangeError(`Bad node name '${Ce}'`);break;case 3:te=new RangeError(`Bad field name '${Ce}'`);break;case 4:te=new RangeError(`Bad capture name @${Ce}`);break;case 5:te=new TypeError(`Bad pattern structure at offset ${L}: '${Q}'...`),Ce="";break;default:te=new SyntaxError(`Bad syntax at offset ${L}: '${Q}'...`),Ce=""}throw te.index=L,te.length=Ce.length,C._free(c),te}let d=C._ts_query_string_count(u),g=C._ts_query_capture_count(u),p=C._ts_query_pattern_count(u),y=new Array(g),_=new Array(d);for(let k=0;k<g;k++){let L=C._ts_query_capture_name_for_id(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");y[k]=UTF8ToString(L,Q)}for(let k=0;k<d;k++){let L=C._ts_query_string_value_for_id(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");_[k]=UTF8ToString(L,Q)}let S=new Array(p),E=new Array(p),A=new Array(p),P=new Array(p),U=new Array(p);for(let k=0;k<p;k++){let L=C._ts_query_predicates_for_pattern(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");P[k]=[],U[k]=[];let te=[],Ce=L;for(let De=0;De<Q;De++){let pe=getValue(Ce,"i32");Ce+=SIZE_OF_INT;let Ie=getValue(Ce,"i32");if(Ce+=SIZE_OF_INT,pe===PREDICATE_STEP_TYPE_CAPTURE)te.push({type:"capture",name:y[Ie]});else if(pe===PREDICATE_STEP_TYPE_STRING)te.push({type:"string",value:_[Ie]});else if(te.length>0){if(te[0].type!=="string")throw new Error("Predicates must begin with a literal value");let ie=te[0].value,Z=!0;switch(ie){case"not-eq?":Z=!1;case"eq?":if(te.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(te.length-1));if(te[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${te[1].value}"`);if(te[2].type==="capture"){let Ke=te[1].name,ce=te[2].name;U[k].push(function(ve){let le,Ee;for(let mt of ve)mt.name===Ke&&(le=mt.node),mt.name===ce&&(Ee=mt.node);return le===void 0||Ee===void 0||le.text===Ee.text===Z})}else{let Ke=te[1].name,ce=te[2].value;U[k].push(function(ve){for(let le of ve)if(le.name===Ke)return le.node.text===ce===Z;return!0})}break;case"not-match?":Z=!1;case"match?":if(te.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${te.length-1}.`);if(te[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${te[1].value}".`);if(te[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${te[2].value}.`);let _e=te[1].name,Ae=new RegExp(te[2].value);U[k].push(function(Ke){for(let ce of Ke)if(ce.name===_e)return Ae.test(ce.node.text)===Z;return!0});break;case"set!":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(Ke=>Ke.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');S[k]||(S[k]={}),S[k][te[1].value]=te[2]?te[2].value:null;break;case"is?":case"is-not?":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#${ie}\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(Ke=>Ke.type!=="string"))throw new Error(`Arguments to \`#${ie}\` predicate must be a strings.".`);let be=ie==="is?"?E:A;be[k]||(be[k]={}),be[k][te[1].value]=te[2]?te[2].value:null;break;default:P[k].push({operator:ie,operands:te.slice(1)})}te.length=0}}Object.freeze(S[k]),Object.freeze(E[k]),Object.freeze(A[k])}return C._free(c),new Query(INTERNAL,u,y,U,P,Object.freeze(S),Object.freeze(E),Object.freeze(A))}static load(l){let f;if(l instanceof Uint8Array)f=Promise.resolve(l);else{let u=l;if(typeof process<"u"&&process.versions&&process.versions.node){let d=require("fs");f=Promise.resolve(d.readFileSync(u))}else f=fetch(u).then(d=>d.arrayBuffer().then(g=>{if(d.ok)return new Uint8Array(g);{let p=new TextDecoder("utf-8").decode(g);throw new Error(`Language.load failed with status ${d.status}.

${p}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return f.then(u=>c(u,{loadAsync:!0})).then(u=>{let d=Object.keys(u),g=d.find(y=>LANGUAGE_FUNCTION_REGEX.test(y)&&!y.includes("external_scanner_"));g||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(d,null,2)}`);let p=u[g]();return new i(INTERNAL,p)})}};s(i,"Language");let Language=i,o=class o{constructor(l,f,c,u,d,g,p,y){assertInternal(l),this[0]=f,this.captureNames=c,this.textPredicates=u,this.predicates=d,this.setProperties=g,this.assertedProperties=p,this.refutedProperties=y,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_matches_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let g=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=new Array(g);this.exceededMatchLimit=!!y;let S=0,E=p;for(let A=0;A<g;A++){let P=getValue(E,"i32");E+=SIZE_OF_INT;let U=getValue(E,"i32");E+=SIZE_OF_INT;let k=new Array(U);if(E=unmarshalCaptures(this,l.tree,E,k),this.textPredicates[P].every(L=>L(k))){_[S++]={pattern:P,captures:k};let L=this.setProperties[P];L&&(_[A].setProperties=L);let Q=this.assertedProperties[P];Q&&(_[A].assertedProperties=Q);let te=this.refutedProperties[P];te&&(_[A].refutedProperties=te)}}return _.length=S,C._free(p),_}captures(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_captures_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let g=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=[];this.exceededMatchLimit=!!y;let S=[],E=p;for(let A=0;A<g;A++){let P=getValue(E,"i32");E+=SIZE_OF_INT;let U=getValue(E,"i32");E+=SIZE_OF_INT;let k=getValue(E,"i32");if(E+=SIZE_OF_INT,S.length=U,E=unmarshalCaptures(this,l.tree,E,S),this.textPredicates[P].every(L=>L(S))){let L=S[k],Q=this.setProperties[P];Q&&(L.setProperties=Q);let te=this.assertedProperties[P];te&&(L.assertedProperties=te);let Ce=this.refutedProperties[P];Ce&&(L.refutedProperties=Ce),_.push(L)}}return C._free(p),_}predicatesForPattern(l){return this.predicates[l]}didExceedMatchLimit(){return this.exceededMatchLimit}};s(o,"Query");let Query=o;function getText(a,l,f){let c=f-l,u=a.textCallback(l,null,f);for(l+=u.length;l<f;){let d=a.textCallback(l,null,f);if(!(d&&d.length>0))break;l+=d.length,u+=d}return l>f&&(u=u.slice(0,c)),u}s(getText,"getText");function unmarshalCaptures(a,l,f,c){for(let u=0,d=c.length;u<d;u++){let g=getValue(f,"i32"),p=unmarshalNode(l,f+=SIZE_OF_INT);f+=SIZE_OF_NODE,c[u]={name:a.captureNames[g],node:p}}return f}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}s(isPoint,"isPoint");function marshalNode(a){let l=TRANSFER_BUFFER;setValue(l,a.id,"i32"),l+=SIZE_OF_INT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.row,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.column,"i32"),l+=SIZE_OF_INT,setValue(l,a[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(a,l=TRANSFER_BUFFER){let f=getValue(l,"i32");if(f===0)return null;let c=getValue(l+=SIZE_OF_INT,"i32"),u=getValue(l+=SIZE_OF_INT,"i32"),d=getValue(l+=SIZE_OF_INT,"i32"),g=getValue(l+=SIZE_OF_INT,"i32"),p=new Node(INTERNAL,a);return p.id=f,p.startIndex=c,p.startPosition={row:u,column:d},p[0]=g,p}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,l=TRANSFER_BUFFER){setValue(l+0*SIZE_OF_INT,a[0],"i32"),setValue(l+1*SIZE_OF_INT,a[1],"i32"),setValue(l+2*SIZE_OF_INT,a[2],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,l){setValue(a,l.row,"i32"),setValue(a+SIZE_OF_INT,l.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(a,l){marshalPoint(a,l.startPosition),marshalPoint(a+=SIZE_OF_POINT,l.endPosition),setValue(a+=SIZE_OF_POINT,l.startIndex,"i32"),setValue(a+=SIZE_OF_INT,l.endIndex,"i32"),a+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(a){let l={};return l.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,l.endIndex=getValue(a,"i32"),l}s(unmarshalRange,"unmarshalRange");function marshalEdit(a){let l=TRANSFER_BUFFER;marshalPoint(l,a.startPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.oldEndPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.newEndPosition),l+=SIZE_OF_POINT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.oldEndIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.newEndIndex,"i32"),l+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};s(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function ju(e){return e in hT}function QO(e){if(!(e in hT))throw new Error(`Unrecognized language: ${e}`);return hT[e]}async function LJ(e){let t,r=V9.default.resolve(V9.default.extname(__filename)!==".ts"?__dirname:V9.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await JO.promises.readFile(r)}catch(n){if(typeof n.code=="string"&&n instanceof Error&&n.name==="Error"){let i=new Error(`Could not load tree-sitter-${e}.wasm`);throw i.code="CopilotPromptLoadFailure",i.cause=n,i}throw n}return z9.default.Language.load(t)}async function BJ(e){let t=QO(e);if(!dT.has(t)){let r=await LJ(t);dT.set(t,r)}return dT.get(t)}async function mT(e,t){await z9.default.init();let r;try{r=new z9.default}catch(o){let a=o.message;if(a&&a.includes("table index is out of bounds")){let l=new Error(`Could not init Parse for language <${e}>`);throw l.cause=o,l}throw o}let n=await BJ(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}function OJ(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}function ZO(e){return OJ([FJ],e).length==1}var JO,V9,z9,hT,dT,FJ,Fh=E0(()=>{"use strict";JO=require("fs"),V9=O0(require("path")),z9=O0(XO()),hT={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};s(ju,"isSupportedLanguageId");s(QO,"languageIdToWasmLanguage");dT=new Map;s(LJ,"loadWasmLanguage");s(BJ,"getLanguage");s(mT,"parseTreeSitter");s(OJ,"innerQuery");FJ=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];s(ZO,"queryPythonIsDocstring")});var eF=ae(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.bytePairEncode=Ua.BinaryMap=Ua.binaryMapKey=void 0;var MJ=s((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),o=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return o+16777216*l},"binaryMapKey");Ua.binaryMapKey=MJ;var Uh=class Uh{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){var a;let i=n<6+r,o=(0,Ua.binaryMapKey)(t,r,n);return i?this.final.get(o):(a=this.nested.get(o))==null?void 0:a.get(t,6+r,n)}set(t,r){let n=(0,Ua.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let o=this.nested.get(n);if(o instanceof Uh)o.set(t.subarray(6),r);else{let a=new Uh;a.set(t.subarray(6),r),this.nested.set(n,a)}}};s(Uh,"BinaryMap");var gT=Uh;Ua.BinaryMap=gT;var Ma=new Int32Array(128),Oi=new Int32Array(128);function UJ(e,t,r){var f;if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Ma.length<r*2;)Oi=new Int32Array(Oi.length*2),Ma=new Int32Array(Ma.length*2);for(let c=0;c<r-1;c++){let u=(f=t.get(e,c,c+2))!=null?f:2147483647;u<n&&(n=u,i=c),Oi[c]=c,Ma[c]=u}Oi[r-1]=r-1,Ma[r-1]=2147483647,Oi[r]=r,Ma[r]=2147483647;let o=r+1;function a(c,u=0){if(c+u+2<o){let d=t.get(e,Oi[c],Oi[c+u+2]);if(d!==void 0)return d}return 2147483647}for(s(a,"getRank");n!==2147483647;){Ma[Oi[i]]=a(i,1),i>0&&(Ma[Oi[i-1]]=a(i-1,1));for(let c=i+1;c<o-1;c++)Oi[c]=Oi[c+1];o--,i=-1,n=2147483647;for(let c=0;c<o-1;c++){let u=Ma[Oi[c]];Ma[Oi[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<o-1;c++)l.push(t.get(e,Oi[c],Oi[c+1]));return l}s(UJ,"bytePairEncode");Ua.bytePairEncode=UJ});var tF=ae(K9=>{"use strict";Object.defineProperty(K9,"__esModule",{value:!0});K9.makeTextEncoder=void 0;var vT=class vT{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};s(vT,"UniversalTextEncoder");var pT=vT,xT=class xT{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};s(xT,"NodeTextEncoder");var yT=xT,qJ=s(()=>typeof Buffer<"u"?new yT:new pT,"makeTextEncoder");K9.makeTextEncoder=qJ});var rF=ae(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});G9.LRUCache=void 0;var CT=class CT{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new bT(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};s(CT,"LRUCache");var _T=CT;G9.LRUCache=_T;var TT=class TT{constructor(t,r){this.key=t,this.value=r}};s(TT,"Node");var bT=TT});var wT=ae(Y9=>{"use strict";Object.defineProperty(Y9,"__esModule",{value:!0});Y9.TikTokenizer=void 0;var jJ=require("fs"),$J=require("util"),W9=eF(),HJ=tF(),VJ=rF();function zJ(e){let t=new Map;try{let n=jJ.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(o[0],"base64")),l=parseInt(o[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${o[1]} to integer`)}}s(r,"processBpeRanks")}s(zJ,"loadTikTokenBpe");function KJ(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(KJ,"escapeRegExp");var ST=class ST{constructor(t,r,n,i=8192){this.textEncoder=(0,HJ.makeTextEncoder)(),this.textDecoder=new $J.TextDecoder("utf-8"),this.cache=new VJ.LRUCache(i);let o=zJ(t);this.init(o,r,n)}init(t,r,n){this.encoder=new W9.BinaryMap;for(let[i,o]of t)this.encoder.set(i,o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>KJ(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of t)this.decoder.set(o,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(t,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=t.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let a=o?i+o.index:t.length;return[o,a]}encode(t,r){let n=[],i=0;for(;;){let o,a;if([o,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),o){if(i=i+this.encodeSpecialToken(n,o),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){var i;let n=(i=this.specialTokensEncoder)==null?void 0:i.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let o,a=t.substring(n,i);for(this.regex.lastIndex=0;o=this.regex.exec(a);){let l=this.cache.get(o[0]);if(l)for(let f of l)r.push(f);else{let f=this.textEncoder.encode(o[0]),c=this.encoder.get(f,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(o[0],[c]);else{let u=(0,W9.bytePairEncode)(f,this.encoder,this.textEncoder.length);for(let d of u)r.push(d);this.cache.set(o[0],u)}}}}encodeTrimSuffixByIndex(t,r,n,i,o,a,l){let f,c=t.substring(n,i);for(this.regex.lastIndex=0;f=this.regex.exec(c);){let u=f[0],d=this.cache.get(u);if(d)if(a+d.length<=o)a+=d.length,l+=u.length,r.push(...d);else{let g=o-a;a+=g,l+=u.length,r.push(...d.slice(0,g));break}else{let g=this.textEncoder.encode(u),p=this.encoder.get(g,0,g.length);if(p!==void 0)if(this.cache.set(u,[p]),a+1<=o)a++,l+=u.length,r.push(p);else break;else{let y=(0,W9.bytePairEncode)(g,this.encoder,this.textEncoder.length);if(this.cache.set(u,y),a+y.length<=o){a+=y.length,l+=u.length;for(let _ of y)r.push(_)}else{let _=o-a;a+=_,l+=u.length;for(let S=0;S<_;S++)r.push(y[S]);break}}}if(a>=o)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],o=0,a=0,l=0;for(;;){let c,u;if([c,u]=this.findNextSpecialToken(t,o,n),u>o){let{tokenCount:d,encodeLength:g}=this.encodeTrimSuffixByIndex(t,i,o,u,r,a,l);if(a=d,l=g,a>=r)break}if(c!==null){if(a++,a<=r&&(o=o+this.encodeSpecialToken(i,c),l+=c[0].length,o>=t.length)||a>=r)break}else break}let f=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:f}}encodeTrimPrefix(t,r,n){let i=[],o=0,a=0,l=0,f=new Map;for(f.set(a,l);;){let g,p;if([g,p]=this.findNextSpecialToken(t,o,n),p>o){let y,_=t.substring(o,p);for(this.regex.lastIndex=0;y=this.regex.exec(_);){let S=y[0],E=this.cache.get(S);if(E)a+=E.length,l+=S.length,i.push(...E),f.set(a,l);else{let A=this.textEncoder.encode(S),P=this.encoder.get(A);if(P!==void 0)this.cache.set(S,[P]),a++,l+=S.length,i.push(P),f.set(a,l);else{let U=(0,W9.bytePairEncode)(A,this.encoder,this.textEncoder.length);this.cache.set(S,U),a+=U.length,l+=S.length;for(let k of U)i.push(k);f.set(a,l)}}}}if(g!==null){if(o=o+this.encodeSpecialToken(i,g),a++,l+=g[0].length,f.set(a,l),o>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let c=a-r,u=0,d=0;for(let[g,p]of f)if(g>=c){u=g,d=p;break}if(u>r){let g=this.encode(t,n),p=g.slice(g.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(u),text:t.slice(d)}}decode(t){var n,i;let r=[];for(let o of t){let a=[],l=(n=this.decoder)==null?void 0:n.get(o);if(l!==void 0)a=Array.from(l);else{let f=(i=this.specialTokensDecoder)==null?void 0:i.get(o);if(f!==void 0){let c=this.textEncoder.encode(f);a=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...a)}return this.textDecoder.decode(new Uint8Array(r))}};s(ST,"TikTokenizer");var ET=ST;Y9.TikTokenizer=ET});var dF=ae(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.createTokenizer=on.createByEncoderName=on.createByModelName=on.getRegexByModel=on.getRegexByEncoder=on.getSpecialTokensByModel=on.getSpecialTokensByEncoder=on.MODEL_TO_ENCODING=void 0;var J9=require("fs"),IT=require("path"),GJ=wT(),WJ=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);on.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var X9="<|endoftext|>",nF="<|fim_prefix|>",iF="<|fim_middle|>",sF="<|fim_suffix|>",oF="<|endofprompt|>",qh="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",aF="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",YJ=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],lF=YJ.join("|");function AT(e){let t="";if(on.MODEL_TO_ENCODING.has(e))t=on.MODEL_TO_ENCODING.get(e);else for(let[r,n]of WJ)if(e.startsWith(r)){t=n;break}return t}s(AT,"getEncoderFromModelName");async function XJ(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();J9.writeFileSync(t,n)}s(XJ,"fetchAndSaveFile");function PT(e){let t=new Map([[X9,50256]]);switch(e){case"o200k_base":t=new Map([[X9,199999],[oF,200018]]);break;case"cl100k_base":t=new Map([[X9,100257],[nF,100258],[iF,100259],[sF,100260],[oF,100276]]);break;case"p50k_edit":t=new Map([[X9,50256],[nF,50281],[iF,50282],[sF,50283]]);break;default:break}return t}s(PT,"getSpecialTokensByEncoder");on.getSpecialTokensByEncoder=PT;function JJ(e){let t=AT(e);return PT(t)}s(JJ,"getSpecialTokensByModel");on.getSpecialTokensByModel=JJ;function fF(e){switch(e){case"o200k_base":return lF;case"cl100k_base":return aF;default:break}return qh}s(fF,"getRegexByEncoder");on.getRegexByEncoder=fF;function QJ(e){let t=AT(e);return fF(t)}s(QJ,"getRegexByModel");on.getRegexByModel=QJ;async function ZJ(e,t=null){return cF(AT(e),t)}s(ZJ,"createByModelName");on.createByModelName=ZJ;async function cF(e,t=null){let r,n,i=PT(e);switch(e){case"o200k_base":r=lF,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=aF,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=qh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=qh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=qh,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=qh,n="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let o=IT.basename(n),a=IT.resolve(__dirname,"..","model");J9.existsSync(a)||J9.mkdirSync(a,{recursive:!0});let l=IT.resolve(a,o);return J9.existsSync(l)||(console.log(`Downloading file from ${n}`),await XJ(n,l),console.log(`Saved file to ${l}`)),uF(l,i,r)}s(cF,"createByEncoderName");on.createByEncoderName=cF;function uF(e,t,r,n=8192){return new GJ.TikTokenizer(e,t,r,n)}s(uF,"createTokenizer");on.createTokenizer=uF});var hF=ae(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.createTokenizer=an.createByEncoderName=an.createByModelName=an.getSpecialTokensByModel=an.getSpecialTokensByEncoder=an.getRegexByModel=an.getRegexByEncoder=an.MODEL_TO_ENCODING=an.TikTokenizer=void 0;var eQ=wT();Object.defineProperty(an,"TikTokenizer",{enumerable:!0,get:function(){return eQ.TikTokenizer}});var Rc=dF();Object.defineProperty(an,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return Rc.MODEL_TO_ENCODING}});Object.defineProperty(an,"getRegexByEncoder",{enumerable:!0,get:function(){return Rc.getRegexByEncoder}});Object.defineProperty(an,"getRegexByModel",{enumerable:!0,get:function(){return Rc.getRegexByModel}});Object.defineProperty(an,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return Rc.getSpecialTokensByEncoder}});Object.defineProperty(an,"getSpecialTokensByModel",{enumerable:!0,get:function(){return Rc.getSpecialTokensByModel}});Object.defineProperty(an,"createByModelName",{enumerable:!0,get:function(){return Rc.createByModelName}});Object.defineProperty(an,"createByEncoderName",{enumerable:!0,get:function(){return Rc.createByEncoderName}});Object.defineProperty(an,"createTokenizer",{enumerable:!0,get:function(){return Rc.createTokenizer}})});function jh(e="cl100k_base"){let t=mF.get(e);return t!==void 0||(e==="mock"?t=new kT:t=new RT(e),mF.set(e,t)),t}var _3,gF,mF,NT,RT,DT,kT,pF=E0(()=>{"use strict";_3=O0(hF()),gF=require("path"),mF=new Map;s(jh,"getTokenizer");NT=class NT{constructor(t){try{this._tokenizer=(0,_3.createTokenizer)((0,gF.join)(__dirname,`./resources/${t}.tiktoken`),(0,_3.getSpecialTokensByEncoder)(t),(0,_3.getRegexByEncoder)(t),32768)}catch(r){if(r instanceof Error){let n=new Error("Could not load tokenizer");throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return"";let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(-o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(-o),l=this.tokenize(a);return l.length<r?t:(l=l.slice(-r),this.detokenize(l))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(0,o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(0,o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(NT,"TTokenizer");RT=NT,DT=class DT{constructor(){this.hash=s(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(DT,"MockTokenizer");kT=DT});var b3=E0(()=>{"use strict";pF()});function LT(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function BT(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function as(e){return e.type==="blank"}function C3(e){return e.type==="line"}function $u(e){return e.type==="virtual"}var Hu=E0(()=>{"use strict";s(LT,"virtualNode");s(BT,"topNode");s(as,"isBlank");s(C3,"isLine");s($u,"isVirtual")});function yF(e,t){return qa(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function qa(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(o=>{n(o)}),r==="bottomUp"&&t(i)}s(n,"_visit"),n(e)}function Q9(e,t,r){let n=s(o=>{if(r!==void 0&&r(o))return o;{let a=o.subs.map(n).filter(l=>l!==void 0);return o.subs=a,t(o)}},"rebuild"),i=n(e);return i!==void 0?i:BT()}var T3=E0(()=>{"use strict";Hu();s(yF,"clearLabelsIf");s(qa,"visitTree");s(Q9,"rebuildTree")});function Z9(e,t){function r(n){if(C3(n)){let i=t.find(o=>o.matches(n.sourceLine));i&&(n.label=i.label)}}s(r,"visitor"),qa(e,r,"bottomUp")}function e7(e){function t(r){if($u(r)&&r.label===void 0){let n=r.subs.filter(i=>!as(i));n.length===1&&(r.label=n[0].label)}}s(t,"visitor"),qa(e,t,"bottomUp")}function $h(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=s(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}function vF(e){let r=Q9(e,s(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],o;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],f=n.subs[a-1];if(l.label==="opener"&&f!==void 0&&C3(f))f.subs.push(l),l.subs.forEach(c=>f.subs.push(c)),l.subs=[];else if(l.label==="closer"&&o!==void 0&&(C3(l)||$u(l))&&l.indentation>=o.indentation){let c=i.length-1;for(;c>0&&as(i[c]);)c-=1;if(o.subs.push(...i.splice(c+1)),l.subs.length>0){let u=o.subs.findIndex(y=>y.label!=="newVirtual"),d=o.subs.slice(0,u),g=o.subs.slice(u),p=g.length>0?[LT(l.indentation,g,"newVirtual")]:[];o.subs=[...d,...p,l]}else o.subs.push(l)}else i.push(l),as(l)||(o=l)}return n.subs=i,n},"rebuilder"));return yF(e,n=>n==="newVirtual"),r}function xF(e,t=as,r){return Q9(e,s(function(i){if(i.subs.length<=1)return i;let o=[],a=[],l,f=!1;function c(u=!1){if(l!==void 0&&(o.length>0||!u)){let d=LT(l,a,r);o.push(d)}else a.forEach(d=>o.push(d))}s(c,"flushBlockIntoNewSubs");for(let u=0;u<i.subs.length;u++){let d=i.subs[u],g=t(d);!g&&f&&(c(),a=[]),f=g,a.push(d),as(d)||(l=l!=null?l:d.indentation)}return c(!0),i.subs=o,i},"rebuilder"))}function E3(e){return Q9(e,s(function(r){return $u(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&$u(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function OT(e,t){nQ[e]=t}var rQ,n5e,nQ,S3=E0(()=>{"use strict";Hu();T3();s(Z9,"labelLines");s(e7,"labelVirtualInherited");s($h,"buildLabelRules");s(vF,"combineClosersAndOpeners");s(xF,"groupBlocks");s(E3,"flattenVirtual");rQ={opener:/^[\[({]/,closer:/^[\])}]/},n5e=$h(rQ),nQ={};s(OT,"registerLanguageSpecificParser")});function _F(e){let t=e;return Z9(t,sQ),t=vF(t),t=E3(t),e7(t),qa(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!as(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}var iQ,sQ,bF=E0(()=>{"use strict";Hu();T3();S3();iQ={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},sQ=$h(iQ);s(_F,"processJava")});function CF(e){let t=e;if(Z9(t,aQ),as(t))return t;function r(o){if(o.label==="heading")return 1;if(o.label==="subheading")return 2;if(o.label==="subsubheading")return 3}s(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let o of i){let a=r(o);if(a===void 0||as(o))n[n.length-1].subs.push(o);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(o),n[a]=o;n.length>a+1;)n.pop()}}return t=xF(t),t=E3(t),e7(t),t}var oQ,aQ,TF=E0(()=>{"use strict";Hu();S3();oQ={heading:/^# /,subheading:/^## /,subsubheading:/### /},aQ=$h(oQ);s(CF,"processMarkdown")});var EF=E0(()=>{"use strict";Hu();T3()});var Hh=E0(()=>{"use strict";bF();TF();S3();Hu();EF();T3();S3();OT("markdown",CF);OT("java",_F)});var t7=E0(()=>{"use strict";Hh();FT()});var MT=E0(()=>{"use strict";Hh();t7()});var UT=E0(()=>{"use strict";b3()});var FT=E0(()=>{"use strict";b3();MT();UT()});function Kl(){}function cQ(e,t,r,n,i){for(var o=[],a;t;)o.push(t),a=t.previousComponent,delete t.previousComponent,t=a;o.reverse();for(var l=0,f=o.length,c=0,u=0;l<f;l++){var d=o[l];if(d.removed){if(d.value=e.join(n.slice(u,u+d.count)),u+=d.count,l&&o[l-1].added){var p=o[l-1];o[l-1]=o[l],o[l]=p}}else{if(!d.added&&i){var g=r.slice(c,c+d.count);g=g.map(function(_,S){var E=n[u+S];return E.length>_.length?E:_}),d.value=e.join(g)}else d.value=e.join(r.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}var y=o[f-1];return f>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(o[f-2].value+=y.value,o.pop()),o}function r7(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r7=s(function(t){return typeof t},"_typeof"):r7=s(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),r7(e)}function qT(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var a;if(hQ.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),o=0;o<e.length;o+=1)a[o]=qT(e[o],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),r7(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],f;for(f in e)e.hasOwnProperty(f)&&l.push(f);for(l.sort(),o=0;o<l.length;o+=1)f=l[o],a[f]=qT(e[f],t,r,n,f);t.pop(),r.pop()}else a=e;return a}var i3e,IF,AF,PF,RF,uQ,dQ,hQ,Vh,jT,kF=E0(()=>{s(Kl,"Diff");Kl.prototype={diff:s(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={}),this.options=i;var a=this;function l(U){return o?(setTimeout(function(){o(void 0,U)},0),!0):U}s(l,"done"),t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var f=r.length,c=t.length,u=1,d=f+c;i.maxEditLength&&(d=Math.min(d,i.maxEditLength));var g=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+g,y=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(y[0],r,t,0);if(y[0].oldPos+1>=c&&_+1>=f)return l([{value:this.join(r),count:r.length}]);var S=-1/0,E=1/0;function A(){for(var U=Math.max(S,-u);U<=Math.min(E,u);U+=2){var k=void 0,L=y[U-1],Q=y[U+1];L&&(y[U-1]=void 0);var te=!1;if(Q){var Ce=Q.oldPos-U;te=Q&&0<=Ce&&Ce<f}var De=L&&L.oldPos+1<c;if(!te&&!De){y[U]=void 0;continue}if(!De||te&&L.oldPos+1<Q.oldPos?k=a.addToPath(Q,!0,void 0,0):k=a.addToPath(L,void 0,!0,1),_=a.extractCommon(k,r,t,U),k.oldPos+1>=c&&_+1>=f)return l(cQ(a,k.lastComponent,r,t,a.useLongestToken));y[U]=k,k.oldPos+1>=c&&(E=Math.min(E,U-1)),_+1>=f&&(S=Math.max(S,U+1))}u++}if(s(A,"execEditLength"),o)s(function U(){setTimeout(function(){if(u>d||Date.now()>p)return o();A()||U()},0)},"exec")();else for(;u<=d&&Date.now()<=p;){var P=A();if(P)return P}},"diff"),addToPath:s(function(t,r,n,i){var o=t.lastComponent;return o&&o.added===r&&o.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:o.count+1,added:r,removed:n,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:o}}},"addToPath"),extractCommon:s(function(t,r,n,i){for(var o=r.length,a=n.length,l=t.oldPos,f=l-i,c=0;f+1<o&&l+1<a&&this.equals(r[f+1],n[l+1]);)f++,l++,c++;return c&&(t.lastComponent={count:c,previousComponent:t.lastComponent}),t.oldPos=l,f},"extractCommon"),equals:s(function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:s(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:s(function(t){return t},"castInput"),tokenize:s(function(t){return t.split("")},"tokenize"),join:s(function(t){return t.join("")},"join")};s(cQ,"buildValues");i3e=new Kl,IF=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,AF=/\S/,PF=new Kl;PF.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!AF.test(e)&&!AF.test(t)};PF.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&IF.test(t[r])&&IF.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};RF=new Kl;RF.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};uQ=new Kl;uQ.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};dQ=new Kl;dQ.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};s(r7,"_typeof");hQ=Object.prototype.toString,Vh=new Kl;Vh.useLongestToken=!0;Vh.tokenize=RF.tokenize;Vh.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(o,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(qT(e,null,null,i),i,"  ")};Vh.equals=function(e,t){return Kl.prototype.equals.call(Vh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};s(qT,"canonicalize");jT=new Kl;jT.tokenize=function(e){return e.slice()};jT.join=jT.removeEmpty=function(e){return e}});var NF=E0(()=>{"use strict";kF();Hh();t7()});var DF=E0(()=>{"use strict";FT();NF();t7();MT();UT()});function pQ({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function n7(e,t,r){var i;let n=(i=$T[t])!=null?i:r;if(n){let o=n.end==""?"":" "+n.end;return`${n.start} ${e}${o}`}return""}function zh(e,t,r){if(!$T[t]&&!r||e==="")return"";let n=e.endsWith(`
`),o=(n?e.slice(0,-1):e).split(`
`).map(a=>n7(a,t,r)).join(`
`);return n?o+`
`:o}function BF(e,t){let{languageId:r}=e;return gQ.indexOf(r)===-1&&!pQ(e)?r in LF?LF[r]:n7(`Language: ${r}`,r,t):""}function OF(e,t){return e.relativePath?n7(`Path: ${e.relativePath}`,e.languageId,t):""}function w3(e){return e===""||e.endsWith(`
`)?e:e+`
`}var $T,gQ,LF,Vu=E0(()=>{"use strict";$T={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},gQ=["php","plaintext"],LF={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};s(pQ,"hasLanguageMarker");s(n7,"comment");s(zh,"commentBlockAsSingles");s(BF,"getLanguageMarker");s(OF,"getPathMarker");s(w3,"newLineEnded")});function xQ(e){return{...vQ,...e}}function HT(e,t={}){let r=xQ(t),n=jh(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}var vQ,VT=E0(()=>{"use strict";b3();vQ={tokenizerName:"cl100k_base"};s(xQ,"cursorContextOptions");s(HT,"getCursorContext")});var FF=E0(()=>{"use strict"});var i7=E0(()=>{"use strict";Nc();I3();FF()});var zu=E0(()=>{"use strict";Vu();i7()});function bQ(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var GT,zT,WT,KT,MF,YT,s7,CQ,TQ,EQ,XT=E0(()=>{"use strict";zu();GT=class GT{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let i=(n=this.keys.shift())!=null?n:"";delete this.cache[i]}}get(t){return this.cache[t]}};s(GT,"FifoCache");zT=GT,WT=class WT{constructor(t){var r;this.stopsForLanguage=(r=EQ.get(t.languageId))!=null?r:TQ}tokenize(t){return new Set(bQ(t).filter(r=>!this.stopsForLanguage.has(r)))}};s(WT,"Tokenizer");KT=WT,MF=new zT(20),YT=class YT{constructor(t){this.referenceDoc=t,this.tokenizer=new KT(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var c;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let i=t.source.split(`
`),o=this.id()+":"+t.source,a=(c=MF.get(o))!=null?c:[],l=a.length==0,f=l?i.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[u,[d,g]]of this.getWindowsDelineations(i).entries()){if(l){let _=new Set;f.slice(d,g).forEach(S=>S.forEach(_.add,_)),a.push(_)}let p=a[u],y=this.similarityScore(p,this.referenceTokens);n.push({score:y,startLine:d,endLine:g})}return l&&MF.put(o,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"similar-files",...n[0]}}};s(YT,"WindowedMatcher");s7=YT;s(bQ,"splitIntoWords");CQ=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),TQ=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...CQ]),EQ=new Map([])});function UF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}var qF=E0(()=>{"use strict";T3();S3();s(UF,"getBasicWindowDelineations")});function SQ(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}var Kh,a7,jF=E0(()=>{"use strict";VT();XT();qF();Kh=class Kh extends s7{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return UF(this.windowLength,t)}_getCursorContextInfo(t){return HT(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return SQ(t,r)}};s(Kh,"FixedWindowSizeJaccardMatcher"),Kh.FACTORY=s(t=>({to:r=>new Kh(r,t)}),"FACTORY");a7=Kh;s(SQ,"computeScore")});function PQ(e,t){return a7.FACTORY(t.snippetLength).to(e)}async function $F(e,t,r){let n={...wQ[r]},i=PQ(e,n);return n.numberOfSnippets===0?[]:(await t.filter(a=>a.source.length<IQ&&a.source.length>0).slice(0,AQ).reduce(async(a,l)=>(await a).concat((await i.findMatches(l)).map(f=>({relativePath:l.relativePath,...f}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>n.threshold).sort((a,l)=>a.score-l.score).slice(-n.numberOfSnippets)}var wQ,IQ,AQ,Gh=E0(()=>{"use strict";jF();wQ={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},IQ=1e4,AQ=20;s(PQ,"getMatcher");s($F,"getSimilarSnippets")});var HF=E0(()=>{"use strict"});var VF=E0(()=>{"use strict";HF();i7()});function zF(e,t){let r=`Use ${e}`;return zh(r,t)}function KF(e){let t=e.source.substring(0,e.offset);return kQ.test(t)}var kQ,JT=E0(()=>{"use strict";Vu();kQ=/(\.|\->|::)\w+$/;s(zF,"announceTooltipSignatureSnippet");s(KF,"endsWithAttributesOrMethod")});function Gl(e){var t;return e=e.toLowerCase(),(t=NQ[e])!=null?t:e}var Wh,GF,WF,YF,XF,NQ,I3=E0(()=>{"use strict";Gh();zu();VF();b3();JT();i7();Wh=500,GF=8192-Wh,WF=4,YF=10,XF=15,NQ={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};s(Gl,"normalizeLanguageId")});var ZT,Ku,eE,ja,Gu=E0(()=>{"use strict";l7();ZT=class ZT extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};s(ZT,"ProviderTimeoutError");Ku=ZT,eE=class eE{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i({error:new Ku("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{i({error:new Ku(`max runtime exceeded: ${tE} ms`),providerType:this.type})},{once:!0});let o=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-o})}).catch(a=>{i({error:a,providerType:this.type})})})}};s(eE,"SnippetProvider");ja=eE});var rE,f7,JF=E0(()=>{"use strict";Vu();I3();zu();Gu();rE=class rE extends ja{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:n,options:i}=r;return n.languageId=Gl(n.languageId),[{provider:this.type,semantics:"snippet",snippet:w3(BF(n,i.defaultCommentMarker)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(rE,"LanguageSnippetProvider");f7=rE});var nE,c7,QF=E0(()=>{"use strict";Vu();I3();zu();Gu();nE=class nE extends ja{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:n,options:i}=r;return n.languageId=Gl(n.languageId),[{provider:this.type,semantics:"snippet",snippet:w3(OF(n,i.defaultCommentMarker)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(nE,"PathSnippetProvider");c7=nE});var iE,u7,ZF=E0(()=>{"use strict";Nc();Gh();Gu();iE=class iE extends ja{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:o}=r;return o&&i&&i.length&&o.similarFiles!=="none"?await this.api.getSimilarSnippets(n,i,o.similarFiles):[]}};s(iE,"SimilarFilesProvider");u7=iE});var sE,d7,eM=E0(()=>{"use strict";Vu();I3();zu();JT();Gu();sE=class sE extends ja{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,o=[];return n.languageId=Gl(n.languageId),i&&KF(n)&&o.push({provider:this.type,semantics:"snippet",snippet:w3(zF(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),o}};s(sE,"TooltipSignatureSnippetProvider");d7=sE});var rM=ae(oE=>{var tM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");oE.encode=function(e){if(0<=e&&e<tM.length)return tM[e];throw new TypeError("Must be between 0 and 63: "+e)};oE.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,l=43,f=47,c=26,u=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+c:o<=e&&e<=a?e-o+u:e==l?62:e==f?63:-1}});var fE=ae(lE=>{var nM=rM(),aE=5,iM=1<<aE,sM=iM-1,oM=iM;function DQ(e){return e<0?(-e<<1)+1:(e<<1)+0}s(DQ,"toVLQSigned");function LQ(e){var t=(e&1)===1,r=e>>1;return t?-r:r}s(LQ,"fromVLQSigned");lE.encode=s(function(t){var r="",n,i=DQ(t);do n=i&sM,i>>>=aE,i>0&&(n|=oM),r+=nM.encode(n);while(i>0);return r},"base64VLQ_encode");lE.decode=s(function(t,r,n){var i=t.length,o=0,a=0,l,f;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(f=nM.decode(t.charCodeAt(r++)),f===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(f&oM),f&=sM,o=o+(f<<a),a+=aE}while(l);n.value=LQ(o),n.rest=r},"base64VLQ_decode")});var R3=ae(wi=>{function BQ(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}s(BQ,"getArg");wi.getArg=BQ;var aM=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,OQ=/^data:.+\,.+$/;function Yh(e){var t=e.match(aM);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}s(Yh,"urlParse");wi.urlParse=Yh;function A3(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}s(A3,"urlGenerate");wi.urlGenerate=A3;function cE(e){var t=e,r=Yh(e);if(r){if(!r.path)return e;t=r.path}for(var n=wi.isAbsolute(t),i=t.split(/\/+/),o,a=0,l=i.length-1;l>=0;l--)o=i[l],o==="."?i.splice(l,1):o===".."?a++:a>0&&(o===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,A3(r)):t}s(cE,"normalize");wi.normalize=cE;function lM(e,t){e===""&&(e="."),t===""&&(t=".");var r=Yh(t),n=Yh(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),A3(r);if(r||t.match(OQ))return t;if(n&&!n.host&&!n.path)return n.host=t,A3(n);var i=t.charAt(0)==="/"?t:cE(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,A3(n)):i}s(lM,"join");wi.join=lM;wi.isAbsolute=function(e){return e.charAt(0)==="/"||aM.test(e)};function FQ(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}s(FQ,"relative");wi.relative=FQ;var fM=function(){var e=Object.create(null);return!("__proto__"in e)}();function cM(e){return e}s(cM,"identity");function MQ(e){return uM(e)?"$"+e:e}s(MQ,"toSetString");wi.toSetString=fM?cM:MQ;function UQ(e){return uM(e)?e.slice(1):e}s(UQ,"fromSetString");wi.fromSetString=fM?cM:UQ;function uM(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}s(uM,"isProtoString");function qQ(e,t,r){var n=P3(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:P3(e.name,t.name)}s(qQ,"compareByOriginalPositions");wi.compareByOriginalPositions=qQ;function jQ(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=P3(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:P3(e.name,t.name)}s(jQ,"compareByGeneratedPositionsDeflated");wi.compareByGeneratedPositionsDeflated=jQ;function P3(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}s(P3,"strcmp");function $Q(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=P3(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:P3(e.name,t.name)}s($Q,"compareByGeneratedPositionsInflated");wi.compareByGeneratedPositionsInflated=$Q;function HQ(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}s(HQ,"parseSourceMapInput");wi.parseSourceMapInput=HQ;function VQ(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Yh(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=lM(A3(n),t)}return cE(t)}s(VQ,"computeSourceURL");wi.computeSourceURL=VQ});var hE=ae(dM=>{var uE=R3(),dE=Object.prototype.hasOwnProperty,Wu=typeof Map<"u";function Wl(){this._array=[],this._set=Wu?new Map:Object.create(null)}s(Wl,"ArraySet");Wl.fromArray=s(function(t,r){for(var n=new Wl,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Wl.prototype.size=s(function(){return Wu?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Wl.prototype.add=s(function(t,r){var n=Wu?t:uE.toSetString(t),i=Wu?this.has(t):dE.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||(Wu?this._set.set(t,o):this._set[n]=o)},"ArraySet_add");Wl.prototype.has=s(function(t){if(Wu)return this._set.has(t);var r=uE.toSetString(t);return dE.call(this._set,r)},"ArraySet_has");Wl.prototype.indexOf=s(function(t){if(Wu){var r=this._set.get(t);if(r>=0)return r}else{var n=uE.toSetString(t);if(dE.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Wl.prototype.at=s(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Wl.prototype.toArray=s(function(){return this._array.slice()},"ArraySet_toArray");dM.ArraySet=Wl});var gM=ae(mM=>{var hM=R3();function zQ(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||hM.compareByGeneratedPositionsInflated(e,t)<=0}s(zQ,"generatedPositionAfter");function h7(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(h7,"MappingList");h7.prototype.unsortedForEach=s(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");h7.prototype.add=s(function(t){zQ(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");h7.prototype.toArray=s(function(){return this._sorted||(this._array.sort(hM.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");mM.MappingList=h7});var mE=ae(pM=>{var Xh=fE(),ln=R3(),m7=hE().ArraySet,KQ=gM().MappingList;function io(e){e||(e={}),this._file=ln.getArg(e,"file",null),this._sourceRoot=ln.getArg(e,"sourceRoot",null),this._skipValidation=ln.getArg(e,"skipValidation",!1),this._sources=new m7,this._names=new m7,this._mappings=new KQ,this._sourcesContents=null}s(io,"SourceMapGenerator");io.prototype._version=3;io.fromSourceMap=s(function(t){var r=t.sourceRoot,n=new io({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=ln.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),t.sources.forEach(function(i){var o=i;r!==null&&(o=ln.relative(r,i)),n._sources.has(o)||n._sources.add(o);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");io.prototype.addMapping=s(function(t){var r=ln.getArg(t,"generated"),n=ln.getArg(t,"original",null),i=ln.getArg(t,"source",null),o=ln.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})},"SourceMapGenerator_addMapping");io.prototype.setSourceContent=s(function(t,r){var n=t;this._sourceRoot!=null&&(n=ln.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ln.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[ln.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");io.prototype.applySourceMap=s(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=ln.relative(o,i));var a=new m7,l=new m7;this._mappings.unsortedForEach(function(f){if(f.source===i&&f.originalLine!=null){var c=t.originalPositionFor({line:f.originalLine,column:f.originalColumn});c.source!=null&&(f.source=c.source,n!=null&&(f.source=ln.join(n,f.source)),o!=null&&(f.source=ln.relative(o,f.source)),f.originalLine=c.line,f.originalColumn=c.column,c.name!=null&&(f.name=c.name))}var u=f.source;u!=null&&!a.has(u)&&a.add(u);var d=f.name;d!=null&&!l.has(d)&&l.add(d)},this),this._sources=a,this._names=l,t.sources.forEach(function(f){var c=t.sourceContentFor(f);c!=null&&(n!=null&&(f=ln.join(n,f)),o!=null&&(f=ln.relative(o,f)),this.setSourceContent(f,c))},this)},"SourceMapGenerator_applySourceMap");io.prototype._validateMapping=s(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");io.prototype._serializeMappings=s(function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,l="",f,c,u,d,g=this._mappings.toArray(),p=0,y=g.length;p<y;p++){if(c=g[p],f="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)f+=";",r++;else if(p>0){if(!ln.compareByGeneratedPositionsInflated(c,g[p-1]))continue;f+=","}f+=Xh.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(d=this._sources.indexOf(c.source),f+=Xh.encode(d-a),a=d,f+=Xh.encode(c.originalLine-1-i),i=c.originalLine-1,f+=Xh.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(u=this._names.indexOf(c.name),f+=Xh.encode(u-o),o=u)),l+=f}return l},"SourceMapGenerator_serializeMappings");io.prototype._generateSourcesContent=s(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=ln.relative(r,n));var i=ln.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");io.prototype.toJSON=s(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");io.prototype.toString=s(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");pM.SourceMapGenerator=io});var yM=ae(Yu=>{Yu.GREATEST_LOWER_BOUND=1;Yu.LEAST_UPPER_BOUND=2;function gE(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?gE(a,t,r,n,i,o):o==Yu.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?gE(e,a,r,n,i,o):o==Yu.LEAST_UPPER_BOUND?a:e<0?-1:e}s(gE,"recursiveSearch");Yu.search=s(function(t,r,n,i){if(r.length===0)return-1;var o=gE(-1,r.length,t,r,n,i||Yu.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o},"search")});var xM=ae(vM=>{function pE(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}s(pE,"swap");function GQ(e,t){return Math.round(e+Math.random()*(t-e))}s(GQ,"randomIntInRange");function yE(e,t,r,n){if(r<n){var i=GQ(r,n),o=r-1;pE(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(o+=1,pE(e,o,l));pE(e,o+1,l);var f=o+1;yE(e,t,r,f-1),yE(e,t,f+1,n)}}s(yE,"doQuickSort");vM.quickSort=function(e,t){yE(e,t,0,e.length-1)}});var bM=ae(g7=>{var Rt=R3(),vE=yM(),k3=hE().ArraySet,WQ=fE(),Jh=xM().quickSort;function br(e,t){var r=e;return typeof e=="string"&&(r=Rt.parseSourceMapInput(e)),r.sections!=null?new Wo(r,t):new ti(r,t)}s(br,"SourceMapConsumer");br.fromSourceMap=function(e,t){return ti.fromSourceMap(e,t)};br.prototype._version=3;br.prototype.__generatedMappings=null;Object.defineProperty(br.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});br.prototype.__originalMappings=null;Object.defineProperty(br.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});br.prototype._charIsMappingSeparator=s(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");br.prototype._parseMappings=s(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");br.GENERATED_ORDER=1;br.ORIGINAL_ORDER=2;br.GREATEST_LOWER_BOUND=1;br.LEAST_UPPER_BOUND=2;br.prototype.eachMapping=s(function(t,r,n){var i=r||null,o=n||br.GENERATED_ORDER,a;switch(o){case br.GENERATED_ORDER:a=this._generatedMappings;break;case br.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(f){var c=f.source===null?null:this._sources.at(f.source);return c=Rt.computeSourceURL(l,c,this._sourceMapURL),{source:c,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:f.name===null?null:this._names.at(f.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");br.prototype.allGeneratedPositionsFor=s(function(t){var r=Rt.getArg(t,"line"),n={source:Rt.getArg(t,"source"),originalLine:r,originalColumn:Rt.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,vE.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var f=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==f;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i},"SourceMapConsumer_allGeneratedPositionsFor");g7.SourceMapConsumer=br;function ti(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sources"),o=Rt.getArg(r,"names",[]),a=Rt.getArg(r,"sourceRoot",null),l=Rt.getArg(r,"sourcesContent",null),f=Rt.getArg(r,"mappings"),c=Rt.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Rt.normalize(a)),i=i.map(String).map(Rt.normalize).map(function(u){return a&&Rt.isAbsolute(a)&&Rt.isAbsolute(u)?Rt.relative(a,u):u}),this._names=k3.fromArray(o.map(String),!0),this._sources=k3.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(u){return Rt.computeSourceURL(a,u,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=f,this._sourceMapURL=t,this.file=c}s(ti,"BasicSourceMapConsumer");ti.prototype=Object.create(br.prototype);ti.prototype.consumer=br;ti.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Rt.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};ti.fromSourceMap=s(function(t,r){var n=Object.create(ti.prototype),i=n._names=k3.fromArray(t._names.toArray(),!0),o=n._sources=k3.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Rt.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],f=n.__originalMappings=[],c=0,u=a.length;c<u;c++){var d=a[c],g=new _M;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=o.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=i.indexOf(d.name)),f.push(g)),l.push(g)}return Jh(n.__originalMappings,Rt.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");ti.prototype._version=3;Object.defineProperty(ti.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function _M(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(_M,"Mapping");ti.prototype._parseMappings=s(function(t,r){for(var n=1,i=0,o=0,a=0,l=0,f=0,c=t.length,u=0,d={},g={},p=[],y=[],_,S,E,A,P;u<c;)if(t.charAt(u)===";")n++,u++,i=0;else if(t.charAt(u)===",")u++;else{for(_=new _M,_.generatedLine=n,A=u;A<c&&!this._charIsMappingSeparator(t,A);A++);if(S=t.slice(u,A),E=d[S],E)u+=S.length;else{for(E=[];u<A;)WQ.decode(t,u,g),P=g.value,u=g.rest,E.push(P);if(E.length===2)throw new Error("Found a source, but no line and column");if(E.length===3)throw new Error("Found a source and line, but no column");d[S]=E}_.generatedColumn=i+E[0],i=_.generatedColumn,E.length>1&&(_.source=l+E[1],l+=E[1],_.originalLine=o+E[2],o=_.originalLine,_.originalLine+=1,_.originalColumn=a+E[3],a=_.originalColumn,E.length>4&&(_.name=f+E[4],f+=E[4])),y.push(_),typeof _.originalLine=="number"&&p.push(_)}Jh(y,Rt.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,Jh(p,Rt.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");ti.prototype._findMapping=s(function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return vE.search(t,r,o,a)},"SourceMapConsumer_findMapping");ti.prototype.computeColumnSpans=s(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");ti.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Rt.compareByGeneratedPositionsDeflated,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Rt.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Rt.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=Rt.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:Rt.getArg(i,"originalLine",null),column:Rt.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");ti.prototype.hasContentsOfAllSources=s(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");ti.prototype.sourceContentFor=s(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Rt.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Rt.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");ti.prototype.generatedPositionFor=s(function(t){var r=Rt.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Rt.getArg(t,"line"),originalColumn:Rt.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Rt.getArg(o,"generatedLine",null),column:Rt.getArg(o,"generatedColumn",null),lastColumn:Rt.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");g7.BasicSourceMapConsumer=ti;function Wo(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new k3,this._names=new k3;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Rt.getArg(a,"offset"),f=Rt.getArg(l,"line"),c=Rt.getArg(l,"column");if(f<o.line||f===o.line&&c<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=l,{generatedOffset:{generatedLine:f+1,generatedColumn:c+1},consumer:new br(Rt.getArg(a,"map"),t)}})}s(Wo,"IndexedSourceMapConsumer");Wo.prototype=Object.create(br.prototype);Wo.prototype.constructor=br;Wo.prototype._version=3;Object.defineProperty(Wo.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});Wo.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=vE.search(r,this._sections,function(o,a){var l=o.generatedLine-a.generatedOffset.generatedLine;return l||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Wo.prototype.hasContentsOfAllSources=s(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Wo.prototype.sourceContentFor=s(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o)return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Wo.prototype.generatedPositionFor=s(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Rt.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Wo.prototype._parseMappings=s(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var l=o[a],f=i.consumer._sources.at(l.source);f=Rt.computeSourceURL(i.consumer.sourceRoot,f,this._sourceMapURL),this._sources.add(f),f=this._sources.indexOf(f);var c=null;l.name&&(c=i.consumer._names.at(l.name),this._names.add(c),c=this._names.indexOf(c));var u={source:f,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:c};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}Jh(this.__generatedMappings,Rt.compareByGeneratedPositionsDeflated),Jh(this.__originalMappings,Rt.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");g7.IndexedSourceMapConsumer=Wo});var TM=ae(CM=>{var YQ=mE().SourceMapGenerator,p7=R3(),XQ=/(\r?\n)/,JQ=10,N3="$$$isSourceNode$$$";function ks(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=i==null?null:i,this[N3]=!0,n!=null&&this.add(n)}s(ks,"SourceNode");ks.fromStringWithSourceMap=s(function(t,r,n){var i=new ks,o=t.split(XQ),a=0,l=s(function(){var g=y(),p=y()||"";return g+p;function y(){return a<o.length?o[a++]:void 0}},"shiftNextLine"),f=1,c=0,u=null;return r.eachMapping(function(g){if(u!==null)if(f<g.generatedLine)d(u,l()),f++,c=0;else{var p=o[a]||"",y=p.substr(0,g.generatedColumn-c);o[a]=p.substr(g.generatedColumn-c),c=g.generatedColumn,d(u,y),u=g;return}for(;f<g.generatedLine;)i.add(l()),f++;if(c<g.generatedColumn){var p=o[a]||"";i.add(p.substr(0,g.generatedColumn)),o[a]=p.substr(g.generatedColumn),c=g.generatedColumn}u=g},this),a<o.length&&(u&&d(u,l()),i.add(o.splice(a).join(""))),r.sources.forEach(function(g){var p=r.sourceContentFor(g);p!=null&&(n!=null&&(g=p7.join(n,g)),i.setSourceContent(g,p))}),i;function d(g,p){if(g===null||g.source===void 0)i.add(p);else{var y=n?p7.join(n,g.source):g.source;i.add(new ks(g.originalLine,g.originalColumn,y,p,g.name))}}s(d,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");ks.prototype.add=s(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[N3]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");ks.prototype.prepend=s(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[N3]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");ks.prototype.walk=s(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[N3]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");ks.prototype.join=s(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");ks.prototype.replaceRight=s(function(t,r){var n=this.children[this.children.length-1];return n[N3]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");ks.prototype.setSourceContent=s(function(t,r){this.sourceContents[p7.toSetString(t)]=r},"SourceNode_setSourceContent");ks.prototype.walkSourceContents=s(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][N3]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(p7.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");ks.prototype.toString=s(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");ks.prototype.toStringWithSourceMap=s(function(t){var r={code:"",line:1,column:0},n=new YQ(t),i=!1,o=null,a=null,l=null,f=null;return this.walk(function(c,u){r.code+=c,u.source!==null&&u.line!==null&&u.column!==null?((o!==u.source||a!==u.line||l!==u.column||f!==u.name)&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name}),o=u.source,a=u.line,l=u.column,f=u.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var d=0,g=c.length;d<g;d++)c.charCodeAt(d)===JQ?(r.line++,r.column=0,d+1===g?(o=null,i=!1):i&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name})):r.column++}),this.walkSourceContents(function(c,u){n.setSourceContent(c,u)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");CM.SourceNode=ks});var EM=ae(y7=>{y7.SourceMapGenerator=mE().SourceMapGenerator;y7.SourceMapConsumer=bM().SourceMapConsumer;y7.SourceNode=TM().SourceNode});var wM=ae((N4e,SM)=>{var QQ=Object.prototype.toString,xE=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function ZQ(e){return QQ.call(e).slice(8,-1)==="ArrayBuffer"}s(ZQ,"isArrayBuffer");function eZ(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return xE?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}s(eZ,"fromArrayBuffer");function tZ(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return xE?Buffer.from(e,t):new Buffer(e,t)}s(tZ,"fromString");function rZ(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return ZQ(e)?eZ(e,t,r):typeof e=="string"?tZ(e,t):xE?Buffer.from(e):new Buffer(e)}s(rZ,"bufferFrom");SM.exports=rZ});var LM=ae((Ju,TE)=>{var nZ=EM().SourceMapConsumer,_E=require("path"),$a;try{$a=require("fs"),(!$a.existsSync||!$a.readFileSync)&&($a=null)}catch{}var iZ=wM();function IM(e,t){return e.require(t)}s(IM,"dynamicRequire");var AM=!1,PM=!1,bE=!1,Qh="auto",Xu={},Zh={},sZ=/^data:application\/json[^,]+base64,/,Dc=[],Lc=[];function EE(){return Qh==="browser"?!0:Qh==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}s(EE,"isInBrowser");function oZ(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}s(oZ,"hasGlobalProcessEventEmitter");function aZ(){return typeof process=="object"&&process!==null?process.version:""}s(aZ,"globalProcessVersion");function lZ(){if(typeof process=="object"&&process!==null)return process.stderr}s(lZ,"globalProcessStderr");function fZ(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}s(fZ,"globalProcessExit");function v7(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}s(v7,"handlerExec");var SE=v7(Dc);Dc.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in Xu)return Xu[e];var t="";try{if($a)$a.existsSync(e)&&(t=$a.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Xu[e]=t});function CE(e,t){if(!e)return t;var r=_E.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+_E.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+_E.resolve(r.slice(i.length),t)}s(CE,"supportRelativeURL");function cZ(e){var t;if(EE())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=SE(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,a;a=i.exec(t);)o=a;return o?o[1]:null}s(cZ,"retrieveSourceMapURL");var wE=v7(Lc);Lc.push(function(e){var t=cZ(e);if(!t)return null;var r;if(sZ.test(t)){var n=t.slice(t.indexOf(",")+1);r=iZ(n,"base64").toString(),t=e}else t=CE(e,t),r=SE(t);return r?{url:t,map:r}:null});function IE(e){var t=Zh[e.source];if(!t){var r=wE(e.source);r?(t=Zh[e.source]={url:r.url,map:new nZ(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,o){var a=t.map.sourcesContent[o];if(a){var l=CE(t.url,i);Xu[l]=a}})):t=Zh[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=CE(t.url,n.source),n}return e}s(IE,"mapSourcePosition");function kM(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=IE({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+kM(t[2])+")":e}s(kM,"mapEvalOrigin");function uZ(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),a=!0,l=this.isConstructor(),f=!(this.isToplevel()||l);if(f){var c=this.getTypeName();c==="[object Object]"&&(c="null");var u=this.getMethodName();o?(c&&o.indexOf(c)!=0&&(i+=c+"."),i+=o,u&&o.indexOf("."+u)!=o.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}else l?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}s(uZ,"CallSiteToString");function RM(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=uZ,t}s(RM,"cloneCallSite");function NM(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=o.test(aZ())?0:62;n===1&&i>a&&!EE()&&!e.isEval()&&(i-=a);var l=IE({source:r,line:n,column:i});t.curPosition=l,e=RM(e);var f=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?f():t.nextPosition.name||f()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=kM(c),e=RM(e),e.getEvalOrigin=function(){return c}),e}s(NM,"wrapCallSite");function dZ(e,t){bE&&(Xu={},Zh={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+NM(t[l],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+a.reverse().join("")}s(dZ,"prepareStackTrace");function DM(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],o=Xu[r];if(!o&&$a&&$a.existsSync(r))try{o=$a.readFileSync(r,"utf8")}catch{o=""}if(o){var a=o.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}s(DM,"getErrorSource");function hZ(e){var t=DM(e),r=lZ();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),fZ(1)}s(hZ,"printErrorAndExit");function mZ(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return hZ(arguments[1])}return e.apply(this,arguments)}}s(mZ,"shimEmitUncaughtException");var gZ=Dc.slice(0),pZ=Lc.slice(0);Ju.wrapCallSite=NM;Ju.getErrorSource=DM;Ju.mapSourcePosition=IE;Ju.retrieveSourceMap=wE;Ju.install=function(e){if(e=e||{},e.environment&&(Qh=e.environment,["node","browser","auto"].indexOf(Qh)===-1))throw new Error("environment "+Qh+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Dc.length=0),Dc.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Lc.length=0),Lc.unshift(e.retrieveSourceMap)),e.hookRequire&&!EE()){var t=IM(TE,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(o,a){return Xu[a]=o,Zh[a]=void 0,r.call(this,o,a)},t.prototype._compile.__sourceMapSupport=!0)}if(bE||(bE="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),AM||(AM=!0,Error.prepareStackTrace=dZ),!PM){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=IM(TE,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&oZ()&&(PM=!0,mZ())}};Ju.resetRetrieveHandlers=function(){Dc.length=0,Lc.length=0,Dc=gZ.slice(0),Lc=pZ.slice(0),wE=v7(Lc),SE=v7(Dc)}});var BM=ae(()=>{LM().install()});function yZ(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var x7,Ha,OM,PE,AE,_7,FM=E0(()=>{"use strict";x7=O0(require("path")),Ha=require("worker_threads");Gh();s(yZ,"sleep");OM=["getSimilarSnippets","sleep"],PE=class PE{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=$F;this.sleep=yZ;var t;!Ha.isMainThread&&((t=Ha.workerData)!=null&&t.port)&&(BM(),process.cwd=()=>Ha.workerData.cwd,this.configureWorkerResponse(Ha.workerData.port))}initWorker(){let{port1:t,port2:r}=new Ha.MessageChannel;this.port=t,this.worker=new Ha.Worker(x7.default.resolve(x7.default.extname(__filename)!==".ts"?__dirname:x7.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of OM)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of OM){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:i})=>{let o=this[n];if(!o)throw new Error(`Function not found: ${n}`);try{let a=await o.apply(this,i);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:i}){let o=this.handlers.get(t);o&&(this.handlers.delete(t),r?(r.code=n,o.reject(r)):o.resolve(i))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let i=new Error().stack;r.stack&&(i!=null&&i.match(/^Error\n/))&&(r.stack+=i.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let i of this.handlers.values())i.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,o)=>{var a;this.handlers.set(n,{resolve:i,reject:o}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}};s(PE,"WorkerProxy");AE=PE,_7=new AE});function xZ(e){return Promise.all(e.map(t=>t.then(_Z,bZ)))}function _Z(e){return{status:"fulfilled",value:e}}function bZ(e){return{status:"rejected",reason:e}}var tE,vZ,RE,Qu,l7=E0(()=>{"use strict";JF();QF();ZF();Gu();eM();FM();tE=300,vZ=[f7,c7,u7,d7],RE=class RE{constructor(t=vZ){this.startThreading=s(()=>_7.startThreading(),"startThreading");this.stopThreading=s(()=>_7.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(_7))}async getSnippets(t){let r=AbortSignal.timeout(tE),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):xZ(n)}};s(RE,"SnippetOrchestrator");Qu=RE;s(xZ,"allSettledBackup");s(_Z,"createPromiseFulfilledResult");s(bZ,"createPromiseRejectedResult")});function CZ(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}function UM(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function MM(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}function TZ(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=MM(e,r),i=MM(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}var kE,b7,NE,C7,DE,D3,ehe,qM=E0(()=>{"use strict";Fh();kE=class kE{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){let i=await mT(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let f=this.nodeTypesWithBlockOrStmtChild.get(a.type),c=f==""?a.namedChildren[0]:a.childForFieldName(f);if((c==null?void 0:c.type)==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let o=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(o){if(this.languageId=="python"&&o.parent){let a=o.parent.type==":"?o.parent.parent:o.parent,l=a==null?void 0:a.nextSibling;for(;l&&l.type=="comment";){let f=l.startPosition.row==o.endPosition.row&&l.startPosition.column>=o.endPosition.column,c=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(f||c)o=l,l=l.nextSibling;else break}}if(!(o.endIndex>=o.tree.rootNode.endIndex-1&&(o.hasError()||o.parent.hasError())))return n(o)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),o=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(o!==void 0&&o<i.length){let a=o-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}};s(kE,"BaseBlockParser");b7=kE,NE=class NE extends b7{constructor(r,n,i,o,a){super(r,o,a);this.blockEmptyMatch=n;this.lineMatch=i}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,o=>{o.startIndex<n&&(n=o.startIndex);let a=r.substring(n,o.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=UM(r,n),this.isBlockStart(CZ(r,n))&&this.isBlockBodyEmpty(r,n)}};s(NE,"RegexBasedBlockParser");C7=NE;s(CZ,"getLineAtOffset");s(UM,"rewindToNearestNonWs");s(MM,"indent");s(TZ,"outdented");DE=class DE extends b7{constructor(r,n,i,o,a,l,f){super(r,n,i);this.startKeywords=o;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=f}isBlockEmpty(r,n){var o,a;let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((o=r.parent)==null?void 0:o.type)=="class_definition"||((a=r.parent)==null?void 0:a.type)=="function_definition")&&r.children.length==1&&ZO(r.parent))}async isEmptyBlockStart(r,n){var o,a,l,f;if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=UM(r,n);let i=await mT(this.languageId,r);try{let c=i.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let y=c;for(;y.parent;){if(y.type=="function_signature"||y.type=="method_signature"){let _=c.nextSibling;return _&&y.hasError()&&TZ(y,_,r)?!0:!y.children.find(E=>E.type==";")&&y.endIndex<=n}y=y.parent}}let u=null,d=null,g=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){d=p;break}if(this.nodeMatch[p.type]){g=p;break}if(p.type=="ERROR"){u=p;break}p=p.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let y=d.previousSibling;if(y!=null&&y.hasError()&&(y.text.startsWith('"""')||y.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,n)}if(u!=null){if(((o=u.previousSibling)==null?void 0:o.type)=="module"||((a=u.previousSibling)==null?void 0:a.type)=="internal_module"||((l=u.previousSibling)==null?void 0:l.type)=="def")return!0;let y=[...u.children].reverse(),_=y.find(E=>this.startKeywords.includes(E.type)),S=y.find(E=>E.type==this.blockNodeType);if(_){switch(this.languageId){case"python":{_.type=="try"&&c.type=="identifier"&&c.text.length>4&&(S=(f=y.find(P=>P.hasError()))==null?void 0:f.children.find(P=>P.type=="block"));let E,A=0;for(let P of u.children){if(P.type==":"&&A==0){E=P;break}P.type=="("&&(A+=1),P.type==")"&&(A-=1)}if(E&&_.endIndex<=E.startIndex&&E.nextSibling){if(_.type=="def"){let P=E.nextSibling;if(P.type=='"'||P.type=="'"||P.type=="ERROR"&&(P.text=='"""'||P.text=="'''"))return!0}return!1}break}case"javascript":{let E=y.find(U=>U.type=="formal_parameters");if(_.type=="class"&&E)return!0;let A=y.find(U=>U.type=="{");if(A&&A.startIndex>_.endIndex&&A.nextSibling!=null||y.find(U=>U.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}case"typescript":{let E=y.find(P=>P.type=="{");if(E&&E.startIndex>_.endIndex&&E.nextSibling!=null||y.find(P=>P.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}}return S&&S.startIndex>_.endIndex?this.isBlockEmpty(S,n):!0}}if(g!=null){let y=this.nodeMatch[g.type],_=g.children.slice().reverse().find(S=>S.type==y);if(_)return this.isBlockEmpty(_,n);if(this.nodeTypesWithBlockOrStmtChild.has(g.type)){let S=this.nodeTypesWithBlockOrStmtChild.get(g.type),E=S==""?g.children[0]:g.childForFieldName(S);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};s(DE,"TreeSitterBasedBlockParser");D3=DE,ehe={python:new D3("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new D3("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new D3("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new D3("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new C7("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new C7("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)}});var Nc=E0(()=>{"use strict";DF();Hh();Vu();l7();Fh();qM();I3();VT();XT();Gh();zu();Gu();b3()});var HE=ae((Bhe,KM)=>{"use strict";var zM=require("fs"),$E;function RZ(){try{return zM.statSync("/.dockerenv"),!0}catch{return!1}}s(RZ,"hasDockerEnv");function kZ(){try{return zM.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}s(kZ,"hasDockerCGroup");KM.exports=()=>($E===void 0&&($E=RZ()||kZ()),$E)});var YM=ae((Fhe,VE)=>{"use strict";var NZ=require("os"),DZ=require("fs"),GM=HE(),WM=s(()=>{if(process.platform!=="linux")return!1;if(NZ.release().toLowerCase().includes("microsoft"))return!GM();try{return DZ.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!GM():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?VE.exports=WM:VE.exports=WM()});var JM=ae((Uhe,XM)=>{"use strict";XM.exports=(e,t,r)=>{let n=s(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var iU=ae((jhe,nU)=>{var LZ=require("path"),BZ=require("child_process"),{promises:w7,constants:rU}=require("fs"),S7=YM(),OZ=HE(),KE=JM(),QM=LZ.join(__dirname,"xdg-open"),{platform:O3,arch:ZM}=process,FZ=s(()=>{try{return w7.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),zE;function MZ(){return zE===void 0&&(zE=FZ()||OZ()),zE}s(MZ,"isInsideContainer");var UZ=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await w7.access(r,rU.F_OK),n=!0}catch{}if(!n)return e;let i=await w7.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),eU=s(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),I7=s(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return eU(e.app,l=>I7({...e,app:l}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return eU(t,l=>I7({...e,app:{name:l,arguments:r}}));let n,i=[],o={};if(O3==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(O3==="win32"||S7&&!MZ()&&!t){let l=await UZ();n=S7?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),S7||(o.windowsVerbatimArguments=!0);let f=["Start"];e.wait&&f.push("-Wait"),t?(f.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&f.push(`"${e.target}"`),r.length>0&&(r=r.map(c=>`"\`"${c}\`""`),f.push(r.join(","))),e.target=Buffer.from(f.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!__dirname||__dirname==="/",f=!1;try{await w7.access(QM,rU.X_OK),f=!0}catch{}n=process.versions.electron||O3==="android"||l||!f?"xdg-open":QM}r.length>0&&i.push(...r),e.wait||(o.stdio="ignore",o.detached=!0)}e.target&&i.push(e.target),O3==="darwin"&&r.length>0&&i.push("--args",...r);let a=BZ.spawn(n,i,o);return e.wait?new Promise((l,f)=>{a.once("error",f),a.once("close",c=>{if(!e.allowNonzeroExitCode&&c>0){f(new Error(`Exited with code ${c}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),GE=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return I7({...t,target:e})},"open"),qZ=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return I7({...t,app:{name:e,arguments:r}})},"openApp");function tU(e){if(typeof e=="string"||Array.isArray(e))return e;let{[ZM]:t}=e;if(!t)throw new Error(`${ZM} is not supported`);return t}s(tU,"detectArchBinary");function WE({[O3]:e},{wsl:t}){if(t&&S7)return tU(t);if(!e)throw new Error(`${O3} is not supported`);return tU(e)}s(WE,"detectPlatformBinary");var A7={};KE(A7,"chrome",()=>WE({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));KE(A7,"firefox",()=>WE({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));KE(A7,"edge",()=>WE({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));GE.apps=A7;GE.openApp=qZ;nU.exports=GE});var lU=ae((Zhe,aU)=>{var F3=1e3,M3=F3*60,U3=M3*60,id=U3*24,$Z=id*7,HZ=id*365.25;aU.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return VZ(e);if(r==="number"&&isFinite(e))return t.long?KZ(e):zZ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function VZ(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*HZ;case"weeks":case"week":case"w":return r*$Z;case"days":case"day":case"d":return r*id;case"hours":case"hour":case"hrs":case"hr":case"h":return r*U3;case"minutes":case"minute":case"mins":case"min":case"m":return r*M3;case"seconds":case"second":case"secs":case"sec":case"s":return r*F3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(VZ,"parse");function zZ(e){var t=Math.abs(e);return t>=id?Math.round(e/id)+"d":t>=U3?Math.round(e/U3)+"h":t>=M3?Math.round(e/M3)+"m":t>=F3?Math.round(e/F3)+"s":e+"ms"}s(zZ,"fmtShort");function KZ(e){var t=Math.abs(e);return t>=id?P7(e,t,id,"day"):t>=U3?P7(e,t,U3,"hour"):t>=M3?P7(e,t,M3,"minute"):t>=F3?P7(e,t,F3,"second"):e+" ms"}s(KZ,"fmtLong");function P7(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}s(P7,"plural")});var QE=ae((t8e,fU)=>{function GZ(e){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=lU(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let g=0;g<u.length;g++)d=(d<<5)-d+u.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}s(t,"selectColor"),r.selectColor=t;function r(u){let d,g=null,p,y;function _(...S){if(!_.enabled)return;let E=_,A=Number(new Date),P=A-(d||A);E.diff=P,E.prev=d,E.curr=A,d=A,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let U=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,Q)=>{if(L==="%%")return"%";U++;let te=r.formatters[Q];if(typeof te=="function"){let Ce=S[U];L=te.call(E,Ce),S.splice(U,1),U--}return L}),r.formatArgs.call(E,S),(E.log||r.log).apply(E,S)}return s(_,"debug"),_.namespace=u,_.useColors=r.useColors(),_.color=r.selectColor(u),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(p!==r.namespaces&&(p=r.namespaces,y=r.enabled(u)),y),set:S=>{g=S}}),typeof r.init=="function"&&r.init(_),_}s(r,"createDebug");function n(u,d){let g=r(this.namespace+(typeof d>"u"?":":d)+u);return g.log=this.log,g}s(n,"extend");function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d,g=(typeof u=="string"?u:"").split(/[\s,]+/),p=g.length;for(d=0;d<p;d++)g[d]&&(u=g[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}s(i,"enable");function o(){let u=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),u}s(o,"disable");function a(u){if(u[u.length-1]==="*")return!0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(u))return!1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(u))return!0;return!1}s(a,"enabled");function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function f(u){return u instanceof Error?u.stack||u.message:u}s(f,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(c,"destroy"),r.enable(r.load()),r}s(GZ,"setup");fU.exports=GZ});var cU=ae((Ns,R7)=>{Ns.formatArgs=YZ;Ns.save=XZ;Ns.load=JZ;Ns.useColors=WZ;Ns.storage=QZ();Ns.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ns.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function WZ(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(WZ,"useColors");function YZ(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+R7.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}s(YZ,"formatArgs");Ns.log=console.debug||console.log||(()=>{});function XZ(e){try{e?Ns.storage.setItem("debug",e):Ns.storage.removeItem("debug")}catch{}}s(XZ,"save");function JZ(){let e;try{e=Ns.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}s(JZ,"load");function QZ(){try{return localStorage}catch{}}s(QZ,"localstorage");R7.exports=QE()(Ns);var{formatters:ZZ}=R7.exports;ZZ.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var dU=ae((i8e,uU)=>{"use strict";uU.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var gU=ae((s8e,mU)=>{"use strict";var eee=require("os"),hU=require("tty"),oo=dU(),{env:Rn}=process,Oc;oo("no-color")||oo("no-colors")||oo("color=false")||oo("color=never")?Oc=0:(oo("color")||oo("colors")||oo("color=true")||oo("color=always"))&&(Oc=1);"FORCE_COLOR"in Rn&&(Rn.FORCE_COLOR==="true"?Oc=1:Rn.FORCE_COLOR==="false"?Oc=0:Oc=Rn.FORCE_COLOR.length===0?1:Math.min(parseInt(Rn.FORCE_COLOR,10),3));function ZE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}s(ZE,"translateLevel");function eS(e,t){if(Oc===0)return 0;if(oo("color=16m")||oo("color=full")||oo("color=truecolor"))return 3;if(oo("color=256"))return 2;if(e&&!t&&Oc===void 0)return 0;let r=Oc||0;if(Rn.TERM==="dumb")return r;if(process.platform==="win32"){let n=eee.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Rn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Rn)||Rn.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Rn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Rn.TEAMCITY_VERSION)?1:0;if(Rn.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Rn){let n=parseInt((Rn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Rn.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Rn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Rn.TERM)||"COLORTERM"in Rn?1:r}s(eS,"supportsColor");function tee(e){let t=eS(e,e&&e.isTTY);return ZE(t)}s(tee,"getSupportLevel");mU.exports={supportsColor:tee,stdout:ZE(eS(!0,hU.isatty(1))),stderr:ZE(eS(!0,hU.isatty(2)))}});var yU=ae((ri,N7)=>{var ree=require("tty"),k7=require("util");ri.init=fee;ri.log=oee;ri.formatArgs=iee;ri.save=aee;ri.load=lee;ri.useColors=nee;ri.destroy=k7.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ri.colors=[6,2,3,4,5,1];try{let e=gU();e&&(e.stderr||e).level>=2&&(ri.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ri.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function nee(){return"colors"in ri.inspectOpts?!!ri.inspectOpts.colors:ree.isatty(process.stderr.fd)}s(nee,"useColors");function iee(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+N7.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=see()+t+" "+e[0]}s(iee,"formatArgs");function see(){return ri.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(see,"getDate");function oee(...e){return process.stderr.write(k7.format(...e)+`
`)}s(oee,"log");function aee(e){e?process.env.DEBUG=e:delete process.env.DEBUG}s(aee,"save");function lee(){return process.env.DEBUG}s(lee,"load");function fee(e){e.inspectOpts={};let t=Object.keys(ri.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ri.inspectOpts[t[r]]}s(fee,"init");N7.exports=QE()(ri);var{formatters:pU}=N7.exports;pU.o=function(e){return this.inspectOpts.colors=this.useColors,k7.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};pU.O=function(e){return this.inspectOpts.colors=this.useColors,k7.inspect(e,this.inspectOpts)}});var sd=ae((l8e,tS)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?tS.exports=cU():tS.exports=yU()});var fS=ae((f8e,bU)=>{var i8=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,cee=typeof AbortController=="function",o8,D7=cee?AbortController:(o8=class{constructor(){this.signal=new vU}abort(){this.signal.dispatchEvent("abort")}},s(o8,"AbortController"),o8),uee=typeof AbortSignal=="function",dee=typeof D7.AbortSignal=="function",a8,vU=uee?AbortSignal:dee?D7.AbortController:(a8=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},s(a8,"AbortSignal"),a8),sS=new Set,rS=s((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;L7(r)&&oS(r,`${e} option`,`options.${t}`,j3)},"deprecatedOption"),nS=s((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(L7(r)){let{prototype:n}=j3,{get:i}=Object.getOwnPropertyDescriptor(n,e);oS(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),hee=s((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(L7(r)){let{prototype:n}=j3,{get:i}=Object.getOwnPropertyDescriptor(n,e);oS(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),xU=s((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),L7=s(e=>!sS.has(e),"shouldWarn"),oS=s((e,t,r,n)=>{sS.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;xU(i,"DeprecationWarning",e,n)},"warn"),od=s(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),_U=s(e=>od(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?q3:null:null,"getUintArray"),aS=class aS extends Array{constructor(t){super(t),this.fill(0)}};s(aS,"ZeroArray");var q3=aS,lS=class lS{constructor(t){if(t===0)return[];let r=_U(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};s(lS,"Stack");var iS=lS,s8=class s8{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:f,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:g,maxSize:p=0,sizeCalculation:y,fetchMethod:_,fetchContext:S,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:A}=t,{length:P,maxAge:U,stale:k}=t instanceof s8?{}:t;if(r!==0&&!od(r))throw new TypeError("max option must be a nonnegative integer");let L=r?_U(r):Array;if(!L)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=y||P,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=S,!this.fetchMethod&&S!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new L(r),this.prev=new L(r),this.head=0,this.tail=0,this.free=new iS(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof u=="function"?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!E,this.maxSize!==0){if(!od(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!f||!!k,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=od(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||U||0,this.ttl){if(!od(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let Q="LRU_CACHE_UNBOUNDED";L7(Q)&&(sS.add(Q),xU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Q,s8))}k&&rS("stale","allowStale"),U&&rS("maxAge","ttl"),P&&rS("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new q3(this.max),this.starts=new q3(this.max),this.setItemTTL=(n,i,o=i8.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?i8.now():0};let t=0,r=s(()=>{let n=i8.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new q3(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!od(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!od(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return nS("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=i8.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=i8.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let c=this.size===0?void 0:this.keyMap.get(t);if(c===void 0)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=r,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,a),f=!1;else{let u=this.valList[c];r!==u&&(this.isBackgroundFetch(u)?u.__abortController.abort():o||(this.dispose(u,t,"set"),this.disposeAfter&&this.disposed.push([u,t,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,a)),this.moveToTail(c)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),f||this.setItemTTL(c,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let a=new D7,l={signal:a.signal,options:n,context:i},f=s(g=>(a.signal.aborted||this.set(t,g,l.options),g),"cb"),c=s(g=>{if(this.valList[r]===d&&(!n.noDeleteOnFetchRejection||d.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=d.__staleWhileFetching),d.__returned===d)throw g},"eb"),u=s(g=>g(this.fetchMethod(t,o,l)),"pcall"),d=new Promise(u).then(f,c);return d.__abortController=a,d.__staleWhileFetching=o,d.__returned=null,r===void 0?(this.set(t,d,l.options),r=this.keyMap.get(t)):this.valList[r]=d,d}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:d=this.fetchContext,forceRefresh:g=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:c,noDeleteOnFetchRejection:u},y=this.keyMap.get(t);if(y===void 0){let _=this.backgroundFetch(t,y,p,d);return _.__returned=_}else{let _=this.valList[y];if(this.isBackgroundFetch(_))return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_;if(!g&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),_;let S=this.backgroundFetch(t,y,p,d);return r&&S.__staleWhileFetching!==void 0?S.__staleWhileFetching:S.__returned=S}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(t);if(o!==void 0){let a=this.valList[o],l=this.isBackgroundFetch(a);return this.isStale(o)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return nS("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return nS("reset","clear"),this.clear}get length(){return hee("length","size"),this.size}static get AbortController(){return D7}static get AbortSignal(){return vU}};s(s8,"LRUCache");var j3=s8;bU.exports=j3});var gS=ae((u8e,CU)=>{"use strict";var dS=class dS extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};s(dS,"FetchBaseError");var l8=dS,hS=class hS extends l8{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};s(hS,"FetchError");var cS=hS,mS=class mS extends l8{constructor(t,r="aborted"){super(t,r,"AbortError")}};s(mS,"AbortError");var uS=mS;CU.exports={FetchBaseError:l8,FetchError:cS,AbortError:uS}});var Yl=ae((h8e,EU)=>{"use strict";var{constants:{MAX_LENGTH:mee}}=require("buffer"),{pipeline:B7,PassThrough:gee}=require("stream"),{promisify:pee}=require("util"),{createGunzip:yee,createInflate:vee,createBrotliDecompress:xee,constants:{Z_SYNC_FLUSH:TU}}=require("zlib"),_ee=sd()("helix-fetch:utils"),bee=pee(B7),Cee=s((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),Tee=s((e,t,r,n)=>{if(!Cee(e,t))return r;let i=s(o=>{o&&(_ee(`encountered error while decoding stream: ${o}`),n(o))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return B7(r,yee({flush:TU,finishFlush:TU}),i);case"deflate":case"x-deflate":return B7(r,vee(),i);case"br":return B7(r,xee(),i);default:return r}},"decodeStream"),Eee=s(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),O7=s((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?See(e,t):wee(e,t);default:return 0}},"calcSize"),See=s((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:O7(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),wee=s((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=O7(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=O7(e[i],t)}),r},"calcObjectSize"),Iee=s(e=>O7(e,new WeakSet),"sizeof"),Aee=s(async e=>{let t=new gee,r=0,n=[];return t.on("data",i=>{if(r+i.length>mee)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await bee(e,t),Buffer.concat(n,r)},"streamToBuffer");EU.exports={decodeStream:Tee,isPlainObject:Eee,sizeof:Iee,streamToBuffer:Aee}});var M7=ae((g8e,AU)=>{"use strict";var{PassThrough:SU,Readable:Xl}=require("stream"),{types:{isAnyArrayBuffer:IU}}=require("util"),{FetchError:Pee,FetchBaseError:Ree}=gS(),{streamToBuffer:kee}=Yl(),Nee=Buffer.alloc(0),ao=Symbol("Body internals"),Dee=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),wU=s(async e=>{if(e[ao].disturbed)throw new TypeError("Already read");if(e[ao].error)throw new TypeError(`Stream had error: ${e[ao].error.message}`);e[ao].disturbed=!0;let{stream:t}=e[ao];return t===null?Nee:kee(t)},"consume"),pS=class pS{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Xl.from(t.toString()):t instanceof Xl?r=t:Buffer.isBuffer(t)?r=Xl.from(t):IU(t)?r=Xl.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Xl.from(t):r=Xl.from(String(t)),this[ao]={stream:r,disturbed:!1,error:null},t instanceof Xl&&r.on("error",n=>{let i=n instanceof Ree?n:new Pee(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[ao].error=i})}get body(){return this[ao].stream}get bodyUsed(){return this[ao].disturbed}async buffer(){return wU(this)}async arrayBuffer(){return Dee(await this.buffer())}async text(){return(await wU(this)).toString()}async json(){return JSON.parse(await this.text())}};s(pS,"Body");var F7=pS;Object.defineProperties(F7.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Lee=s(e=>{if(e[ao].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[ao],r=t;if(t instanceof Xl){r=new SU;let n=new SU;t.pipe(r),t.pipe(n),e[ao].stream=n}return r},"cloneStream"),Bee=s(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||IU(e)||e instanceof Xl?null:"text/plain; charset=utf-8","guessContentType");AU.exports={Body:F7,cloneStream:Lee,guessContentType:Bee}});var $3=ae((y8e,NU)=>{"use strict";var{validateHeaderName:PU,validateHeaderValue:RU}=require("http"),{isPlainObject:Oee}=Yl(),Jl=Symbol("Headers internals"),f8=s(e=>{let t=typeof e!="string"?String(e):e;if(typeof PU=="function")PU(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),kU=s((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof RU=="function")RU(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),q7=class q7{constructor(t={}){if(this[Jl]={map:new Map},t instanceof q7)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(Oee(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Jl].map.set(f8(t),kU(r,t))}has(t){return this[Jl].map.has(f8(t))}get(t){let r=this[Jl].map.get(f8(t));return r===void 0?null:r}append(t,r){let n=f8(t),i=kU(r,t),o=this[Jl].map.get(n);this[Jl].map.set(n,o?`${o}, ${i}`:i)}delete(t){this[Jl].map.delete(f8(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Jl].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Jl].map)}};s(q7,"Headers");var U7=q7;Object.defineProperties(U7.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));NU.exports={Headers:U7}});var _S=ae((x8e,DU)=>{"use strict";var{EventEmitter:Fee}=require("events"),Yo=Symbol("AbortSignal internals"),yS=class yS{constructor(){this[Yo]={eventEmitter:new Fee,onabort:null,aborted:!1}}get aborted(){return this[Yo].aborted}get onabort(){return this[Yo].onabort}set onabort(t){this[Yo].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Yo].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Yo].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Yo][n]=="function"&&this[n](r),this[Yo].eventEmitter.emit(t,r)}fire(){this[Yo].aborted=!0,this.dispatchEvent("abort")}};s(yS,"AbortSignal");var H3=yS;Object.defineProperties(H3.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var vS=class vS extends H3{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Yo].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Yo].timerId)}};s(vS,"TimeoutSignal");var $7=vS;Object.defineProperties($7.prototype,{clear:{enumerable:!0}});var j7=Symbol("AbortController internals"),xS=class xS{constructor(){this[j7]={signal:new H3}}get signal(){return this[j7].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[j7].signal.aborted||this[j7].signal.fire()}};s(xS,"AbortController");var H7=xS;Object.defineProperties(H7.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});DU.exports={AbortController:H7,AbortSignal:H3,TimeoutSignal:$7}});var c8=ae((b8e,OU)=>{"use strict";var{randomBytes:Mee}=require("crypto"),{Readable:Uee}=require("stream"),CS=s(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),qee=s(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),LU=s(e=>`--${e}--\r
\r
`,"getFooter"),BU=s((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,CS(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*jee(e,t){for(let[r,n]of e)yield BU(t,r,n),CS(n)?yield*n.stream():yield n,yield`\r
`;yield LU(t)}s(jee,"formDataIterator");var $ee=s((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(BU(t,n,i)),r+=CS(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(LU(t)),r},"getFormDataLength"),TS=class TS{constructor(t){this.fd=t,this.boundary=Mee(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=$ee(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return Uee.from(jee(this.fd,this.boundary))}};s(TS,"FormDataSerializer");var bS=TS;OU.exports={isFormData:qee,FormDataSerializer:bS}});var MU=ae((T8e,FU)=>{"use strict";var{AbortSignal:Hee}=_S(),{Body:Vee,cloneStream:zee,guessContentType:Kee}=M7(),{Headers:Gee}=$3(),{isPlainObject:Wee}=Yl(),{isFormData:Yee,FormDataSerializer:Xee}=c8(),Jee=20,Fc=Symbol("Request internals"),u8=class u8 extends Vee{constructor(t,r={}){let n=t instanceof u8?t:null,i=n?new URL(n.url):new URL(t),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?zee(n):null),l=new Gee(r.headers||n&&n.headers||{});if(Yee(a)&&!l.has("content-type")){let d=new Xee(a);a=d.stream(),l.set("content-type",d.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",d.length())}if(!l.has("content-type"))if(Wee(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let d=Kee(a);d&&l.set("content-type",d)}super(a);let f=n?n.signal:null;if("signal"in r&&(f=r.signal),f&&!(f instanceof Hee))throw new TypeError("signal needs to be an instance of AbortSignal");let c=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(c))throw new TypeError(`'${c}' is not a valid redirect option`);let u=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(u))throw new TypeError(`'${u}' is not a valid cache option`);this[Fc]={init:{...r},method:o,redirect:c,cache:u,headers:l,parsedURL:i,signal:f},r.follow===void 0?!n||n.follow===void 0?this.follow=Jee:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Fc].method}get url(){return this[Fc].parsedURL.toString()}get headers(){return this[Fc].headers}get redirect(){return this[Fc].redirect}get cache(){return this[Fc].cache}get signal(){return this[Fc].signal}clone(){return new u8(this)}get init(){return this[Fc].init}get[Symbol.toStringTag](){return this.constructor.name}};s(u8,"Request");var V7=u8;Object.defineProperties(V7.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});FU.exports={Request:V7}});var ES=ae((S8e,UU)=>{"use strict";var{Body:Qee,cloneStream:Zee,guessContentType:ete}=M7(),{Headers:tte}=$3(),{isPlainObject:rte}=Yl(),{isFormData:nte,FormDataSerializer:ite}=c8(),Xo=Symbol("Response internals"),d8=class d8 extends Qee{constructor(t=null,r={}){let n=new tte(r.headers),i=t;if(nte(i)&&!n.has("content-type")){let o=new ite(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(rte(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=ete(i);o&&n.set("content-type",o)}super(i),this[Xo]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Xo].url||""}get status(){return this[Xo].status}get statusText(){return this[Xo].statusText}get ok(){return this[Xo].status>=200&&this[Xo].status<300}get redirected(){return this[Xo].counter>0}get headers(){return this[Xo].headers}get httpVersion(){return this[Xo].httpVersion}get decoded(){return this[Xo].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new d8(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new d8(Zee(this),{...this[Xo]})}get[Symbol.toStringTag](){return this.constructor.name}};s(d8,"Response");var z7=d8;Object.defineProperties(z7.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});UU.exports={Response:z7}});var jU=ae((I8e,qU)=>{"use strict";var ste=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),ote=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),ate=new Set([500,502,503,504]),lte={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},fte={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function ad(e){let t=parseInt(e,10);return isFinite(t)?t:0}s(ad,"toNumberOrZero");function cte(e){return e?ate.has(e.status):!0}s(cte,"isErrorResponse");function SS(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);t[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return t}s(SS,"parseCacheControl");function ute(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}s(ute,"formatCacheControl");var h8;qU.exports=(h8=class{constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=SS(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=SS(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":ute(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&ote.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||ste.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=SS(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)lte[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return ad(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return ad(this._rescc["s-maxage"])}if(this._rescc["max-age"])return ad(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+ad(this._rescc["stale-if-error"]),n=t+ad(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+ad(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+ad(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&cte(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!fte[a]?r.headers[a]:this._resHeaders[a];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},s(h8,"CachePolicy"),h8)});var zU=ae((P8e,VU)=>{"use strict";var dte=jU(),{Headers:hte}=$3(),$U=s(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),HU=s(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),IS=class IS{constructor(t,r,n){this.policy=new dte($U(t),HU(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation($U(t))}responseHeaders(t){return new hte(this.policy.responseHeaders(HU(t)))}timeToLive(){return this.policy.timeToLive()}};s(IS,"CachePolicyWrapper");var wS=IS;VU.exports=wS});var WU=ae((k8e,GU)=>{"use strict";var{Readable:mte}=require("stream"),{Headers:KU}=$3(),{Response:gte}=ES(),Mc=Symbol("CacheableResponse internals"),pte=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),K7=class K7 extends gte{constructor(t,r){super(t,r);let n=new KU(r.headers);this[Mc]={headers:n,bufferedBody:t}}get headers(){return this[Mc].headers}set headers(t){if(t instanceof KU)this[Mc].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return mte.from(this[Mc].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[Mc].bufferedBody}async arrayBuffer(){return pte(this[Mc].bufferedBody)}async text(){return this[Mc].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l}=this;return new K7(this[Mc].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}};s(K7,"CacheableResponse");var AS=K7,yte=s(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f}=e;return new AS(t,{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f})},"cacheableResponse");GU.exports={cacheableResponse:yte}});var G7=ae((D8e,YU)=>{"use strict";var RS=class RS extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};s(RS,"RequestAbortedError");var PS=RS;YU.exports={RequestAbortedError:PS}});var eq=ae((B8e,ZU)=>{"use strict";var JU=require("http"),QU=require("https"),{Readable:vte}=require("stream"),Ql=sd()("helix-fetch:h1"),{RequestAbortedError:XU}=G7(),{decodeStream:xte}=Yl(),_te=s((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new QU.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new JU.Agent(n),r.httpAgent):void 0},"getAgent"),bte=s(e=>{e.h1={}},"setupContext"),Cte=s(async({h1:e})=>{e.httpAgent&&(Ql("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Ql("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),Tte=s((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f}=e,c=t?xte(n,f,e,r):e;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f,readable:c,decoded:!!(t&&c!==e)}},"createResponse"),Ete=s(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?QU:JU,i=_te(e,t.protocol),o={...r,agent:i},{socket:a,body:l}=o;return a&&(delete o.socket,a.assigned||(a.assigned=!0,i?o.agent=new Proxy(i,{get:(f,c)=>c==="createConnection"&&!a.inUse?(u,d)=>{Ql(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,d(null,a)}:f[c]}):o.createConnection=(f,c)=>{Ql(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,c(null,a)})),new Promise((f,c)=>{Ql(`${o.method} ${t.href}`);let u,{signal:d}=o,g=s(()=>{d.removeEventListener("abort",g),a&&!a.inUse&&(Ql(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(new XU),u&&u.abort()},"onAbortSignal");if(d){if(d.aborted){c(new XU);return}d.addEventListener("abort",g)}u=n(t,o),u.once("response",p=>{d&&d.removeEventListener("abort",g),a&&!a.inUse&&(Ql(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f(Tte(p,o.decode,c))}),u.once("error",p=>{d&&d.removeEventListener("abort",g),a&&!a.inUse&&(Ql(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u.aborted||(Ql(`${o.method} ${t.href} failed with: ${p.message}`),u.abort(),c(p))}),l instanceof vte?l.pipe(u):(l&&u.write(l),u.end())})},"h1Request");ZU.exports={request:Ete,setupContext:bte,resetContext:Cte}});var iq=ae((F8e,nq)=>{"use strict";var{connect:Ste,constants:wte}=require("http2"),{Readable:Ite}=require("stream"),Tr=sd()("helix-fetch:h2"),{RequestAbortedError:tq}=G7(),{decodeStream:Ate}=Yl(),{NGHTTP2_CANCEL:m8}=wte,Pte=5*60*1e3,Rte=5e3,kte=s(e=>{e.h2={sessionCache:{}}},"setupContext"),Nte=s(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Tr(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),rq=s((e,t,r,n=()=>{})=>{let i={...e},o=i[":status"];delete i[":status"];let a=r?Ate(o,e,t,n):t;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),Dte=s((e,t,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:f=Rte}}}=e,c=i[":path"],u=`${t}${c}`;Tr(`received PUSH_PROMISE: ${u}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),a&&a(u,i,s(()=>{n.close(m8)},"rejectPush")),n.on("push",(d,g)=>{Tr(`received push headers for ${t}${c}, stream #${n.id}, headers: ${JSON.stringify(d)}, flags: ${g}`),n.setTimeout(f,()=>{Tr(`closing pushed stream #${n.id} after ${f} ms of inactivity`),n.close(m8)}),l&&l(u,i,rq(d,n,r))}),n.on("aborted",()=>{Tr(`pushed stream #${n.id} aborted`)}),n.on("error",d=>{Tr(`pushed stream #${n.id} encountered error: ${d}`)}),n.on("frameError",(d,g,p)=>{Tr(`pushed stream #${n.id} encountered frameError: type: ${d}, code: ${g}, id: ${p}`)})},"handlePush"),Lte=s(async(e,t,r)=>{let{origin:n,pathname:i,search:o,hash:a}=t,l=`${i}${o}${a}`,{options:{h2:f={}},h2:{sessionCache:c}}=e,{idleSessionTimeout:u=Pte,pushPromiseHandler:d,pushHandler:g}=f,p={...r},{method:y,headers:_,socket:S,body:E,decode:A}=p;return S&&delete p.socket,_.host&&(_[":authority"]=_.host,delete _.host),new Promise((P,U)=>{let k=c[n];if(!k||k.closed||k.destroyed){let De=!(e.options.rejectUnauthorized===!1||f.rejectUnauthorized===!1),pe={...f,rejectUnauthorized:De};S&&!S.inUse&&(pe.createConnection=()=>(Tr(`reusing socket #${S.id} (${S.servername})`),S.inUse=!0,S)),k=Ste(n,{...pe,settings:{enablePush:!!(d||g)}}),k.setMaxListeners(1e3),k.setTimeout(u,()=>{Tr(`closing session ${n} after ${u} ms of inactivity`),k.close()}),k.once("connect",()=>{Tr(`session ${n} established`),Tr(`caching session ${n}`),c[n]=k}),k.on("localSettings",ie=>{Tr(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),k.on("remoteSettings",ie=>{Tr(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),k.once("close",()=>{Tr(`session ${n} closed`),c[n]===k&&(Tr(`discarding cached session ${n}`),delete c[n])}),k.once("error",ie=>{Tr(`session ${n} encountered error: ${ie}`),c[n]===k&&(Tr(`discarding cached session ${n}`),delete c[n])}),k.on("frameError",(ie,Z,_e)=>{Tr(`session ${n} encountered frameError: type: ${ie}, code: ${Z}, id: ${_e}`)}),k.once("goaway",(ie,Z,_e)=>{Tr(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${Z}, opaqueData: ${_e?_e.toString():void 0}`)}),k.on("stream",(ie,Z,_e)=>{Dte(e,n,A,ie,Z,_e)})}else S&&S.id!==k.socket.id&&!S.inUse&&(Tr(`discarding redundant socket used for ALPN: #${S.id} ${S.servername}`),S.destroy());Tr(`${y} ${t.host}${l}`);let L,{signal:Q}=p,te=s(()=>{Q.removeEventListener("abort",te),U(new tq),L&&L.close(m8)},"onAbortSignal");if(Q){if(Q.aborted){U(new tq);return}Q.addEventListener("abort",te)}let Ce=s(De=>{Tr(`session ${n} encountered error during ${p.method} ${t.href}: ${De}`),U(De)},"onSessionError");k.once("error",Ce),L=k.request({":method":y,":path":l,..._}),L.once("response",De=>{k.off("error",Ce),Q&&Q.removeEventListener("abort",te),P(rq(De,L,p.decode,U))}),L.once("error",De=>{k.off("error",Ce),Q&&Q.removeEventListener("abort",te),L.rstCode!==m8&&(Tr(`${p.method} ${t.href} failed with: ${De.message}`),L.close(m8),U(De))}),L.once("frameError",(De,pe,Ie)=>{k.off("error",Ce),Tr(`encountered frameError during ${p.method} ${t.href}: type: ${De}, code: ${pe}, id: ${Ie}`)}),L.on("push",(De,pe)=>{Tr(`received 'push' event: headers: ${JSON.stringify(De)}, flags: ${pe}`)}),E instanceof Ite?E.pipe(L):(E&&L.write(E),L.end())})},"request");nq.exports={request:Lte,setupContext:kte,resetContext:Nte}});var oq=ae((U8e,sq)=>{"use strict";var{EventEmitter:Bte}=require("events"),Ote=s(()=>{let e={},t=new Bte;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=s(o=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(o))},"tryAcquire");t.on(r,i)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");sq.exports=Ote});var aq=ae((j8e,Fte)=>{Fte.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var dq=ae(($8e,uq)=>{"use strict";var{Readable:Mte}=require("stream"),Ute=require("tls"),{types:{isAnyArrayBuffer:qte}}=require("util"),jte=fS(),kS=sd()("helix-fetch:core"),{RequestAbortedError:W7}=G7(),NS=eq(),Y7=iq(),$te=oq(),{isPlainObject:Hte}=Yl(),{isFormData:Vte,FormDataSerializer:zte}=c8(),{version:Kte}=aq(),DS="h2",LS="h2c",BS="http/1.0",ld="http/1.1",Gte=100,Wte=60*60*1e3,Yte=[DS,ld,BS],Xte=`helix-fetch/${Kte}`,Jte={method:"GET",compress:!0,decode:!0},lq=0,fq=$te(),cq=s((e,t)=>new Promise((r,n)=>{let{signal:i}=t,o,a=s(()=>{i.removeEventListener("abort",a);let c=new W7;n(c),o&&o.destroy(c)},"onAbortSignal");if(i){if(i.aborted){n(new W7);return}i.addEventListener("abort",a)}let l=+e.port||443,f=s(c=>{i&&i.removeEventListener("abort",a),c instanceof W7||(kS(`connecting to ${e.hostname}:${l} failed with: ${c.message}`),n(c))},"onError");o=Ute.connect(l,e.hostname,t),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),o.off("error",f),lq+=1,o.id=lq,o.secureConnecting=!1,kS(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",f)}),"connectTLS"),Qte=s(async(e,t)=>{let r=await fq.acquire(e.origin);try{return r||(r=await cq(e,t)),r}finally{fq.release(e.origin,r)}},"connect"),Zte=s(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=ld,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=LS,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:o,h1:a={},h2:l={}}}=e,f=!(o===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),c={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:f};e.options.ca&&(c.ca=e.options.ca);let u=await Qte(t,c);return i=u.alpnProtocol,i||(i=ld),e.alpnCache.set(n,i),{protocol:i,socket:u}},"determineProtocol"),e0e=s(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),t0e=s(async(e,t,r,n)=>{let i=t.protocol==="https:",o;t.port?o=t.port:i?o=443:o=80;let a={...r,host:t.host,hostname:t.hostname,port:o},l=await e(a);if(i){let c={...a,ALPNProtocols:n};c.socket=l,c.servername=a.host;let u=await cq(t,c);return{protocol:u.alpnProtocol||ld,socket:u}}return{protocol:l.alpnProtocol||ld,socket:l}},"getProtocolAndSocketFromFactory"),r0e=s(async(e,t,r)=>{let n=new URL(t),i={...Jte,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=e0e(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(Vte(i.body)){let c=new zte(i.body);o=c.contentType(),i.body=c.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(c.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":Hte(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):qte(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof Mte||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:f=null}=e.socketFactory?await t0e(e.socketFactory,n,i,e.alpnProtocols):await Zte(e,n,a);switch(kS(`${n.host} -> ${l}`),l){case DS:try{return await Y7.request(e,n,f?{...i,socket:f}:i)}catch(c){let{code:u,message:d}=c;throw u==="ERR_HTTP2_ERROR"&&d==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),c}case LS:return Y7.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),f?{...i,socket:f}:i);case BS:case ld:return NS.request(e,n,f?{...i,socket:f}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),n0e=s(async e=>(e.alpnCache.clear(),Promise.all([NS.resetContext(e),Y7.resetContext(e)])),"resetContext"),i0e=s(e=>{let{options:{alpnProtocols:t=Yte,alpnCacheTTL:r=Wte,alpnCacheSize:n=Gte,userAgent:i=Xte,socketFactory:o}}=e;e.alpnProtocols=t,e.alpnCache=new jte({max:n,ttl:r}),e.userAgent=i,e.socketFactory=o,NS.setupContext(e),Y7.setupContext(e)},"setupContext");uq.exports={request:r0e,setupContext:i0e,resetContext:n0e,RequestAbortedError:W7,ALPN_HTTP2:DS,ALPN_HTTP2C:LS,ALPN_HTTP1_1:ld,ALPN_HTTP1_0:BS}});var mq=ae((V8e,hq)=>{"use strict";var s0e=sd()("helix-fetch:core"),{request:o0e,setupContext:a0e,resetContext:l0e,RequestAbortedError:f0e,ALPN_HTTP2:c0e,ALPN_HTTP2C:u0e,ALPN_HTTP1_1:d0e,ALPN_HTTP1_0:h0e}=dq(),X7=class X7{constructor(t){this.options={...t||{}},a0e(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new X7(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:f0e,ALPN_HTTP2:c0e,ALPN_HTTP2C:u0e,ALPN_HTTP1_1:d0e,ALPN_HTTP1_0:h0e}}async request(t,r){return o0e(this,t,r)}setCA(t){this.options.ca=t}async reset(){return s0e("resetting context"),l0e(this)}};s(X7,"RequestContext");var OS=X7;hq.exports=new OS().api()});var xq=ae((K8e,vq)=>{"use strict";var{EventEmitter:m0e}=require("events"),{Readable:g8}=require("stream"),MS=sd()("helix-fetch"),g0e=fS(),{Body:p0e}=M7(),{Headers:$S}=$3(),{Request:fd}=MU(),{Response:qS}=ES(),{FetchBaseError:y0e,FetchError:p8,AbortError:J7}=gS(),{AbortController:v0e,AbortSignal:x0e,TimeoutSignal:_0e}=_S(),b0e=zU(),{cacheableResponse:C0e}=WU(),{sizeof:T0e}=Yl(),{isFormData:E0e}=c8(),{context:S0e,RequestAbortedError:w0e}=mq(),gq=["GET","HEAD"],I0e=500,A0e=100*1024*1024,US="push",pq=s(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof fd&&typeof r>"u"?t:new fd(t,r),{method:o,body:a,signal:l,compress:f,decode:c,follow:u,redirect:d,init:{body:g}}=i,p;if(l&&l.aborted){let k=new J7("The operation was aborted.");throw i.init.body instanceof g8&&i.init.body.destroy(k),k}try{p=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:g&&!(g instanceof g8)&&!E0e(g)?g:a,compress:f,decode:c,follow:u,redirect:d,signal:l})}catch(k){throw g instanceof g8&&g.destroy(k),k instanceof TypeError?k:k instanceof w0e?new J7("The operation was aborted."):new p8(k.message,"system",k)}let y=s(()=>{l.removeEventListener("abort",y);let k=new J7("The operation was aborted.");i.init.body instanceof g8&&i.init.body.destroy(k),p.readable.emit("error",k)},"abortHandler");l&&l.addEventListener("abort",y);let{statusCode:_,statusText:S,httpVersion:E,headers:A,readable:P,decoded:U}=p;if([301,302,303,307,308].includes(_)){let{location:k}=A,L=k==null?null:new URL(k,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",y),new p8(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(L===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",y),new p8(`maximum redirect reached at: ${i.url}`,"max-redirect");let Q={headers:new $S(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(_!==303&&i.body&&i.init.body instanceof g8)throw l&&l.removeEventListener("abort",y),new p8("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(_===303||(_===301||_===302)&&i.method==="POST")&&(Q.method="GET",Q.body=void 0,Q.headers.delete("content-length")),l&&l.removeEventListener("abort",y),pq(e,new fd(L,Q))}default:}}return l&&(P.once("end",()=>{l.removeEventListener("abort",y)}),P.once("error",()=>{l.removeEventListener("abort",y)})),new qS(P,{url:i.url,status:_,statusText:S,headers:A,httpVersion:E,decoded:U,counter:i.counter})},"fetch"),yq=s(async(e,t,r)=>{if(e.options.maxCacheSize===0||!gq.includes(t.method))return r;let n=new b0e(t,r,{shared:!1});if(n.storable()){let i=await C0e(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),P0e=s(async(e,t,r)=>{let n=new fd(t,r);if(e.options.maxCacheSize!==0&&gq.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new $S(a.responseHeaders(l));let f=l.clone();return f.fromCache=!0,f}}let o=await pq(e,n);return n.cache!=="no-store"?yq(e,n,o):o},"cachingFetch"),R0e=s((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},"createUrl"),k0e=s(e=>new _0e(e),"timeoutSignal"),Zl=class Zl{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:A0e,i=I0e;n===0&&(n=1,i=1);let o=s(({response:l},f)=>T0e(l),"sizeCalculation");this.cache=new g0e({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new m0e,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(d=>d.startsWith(":")).forEach(d=>delete u[d]),this.pushPromiseHandler(l,u,c)},this.options.h2.pushHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(E=>E.startsWith(":")).forEach(E=>delete u[E]);let{statusCode:d,statusText:g,httpVersion:p,headers:y,readable:_,decoded:S}=c;this.pushHandler(l,u,new qS(_,{url:l,status:d,statusText:g,headers:y,httpVersion:p,decoded:S}))}),this.context=S0e(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:p0e,Headers:$S,Request:fd,Response:qS,AbortController:v0e,AbortSignal:x0e,FetchBaseError:y0e,FetchError:p8,AbortError:J7,context:(t={})=>new Zl(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new Zl({...t,maxCacheSize:0}).api(),h1:(t={})=>new Zl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new Zl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new Zl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new Zl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:R0e,timeoutSignal:k0e,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return P0e(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(US,t)}offPush(t){return this.eventEmitter.off(US,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){MS(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new fd(t,{headers:r}),{policy:o}=this.cache.get(t)||{};o&&o.satisfiesWithoutRevalidation(i)&&(MS(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){MS(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await yq(this,new fd(t,{headers:r}),n);this.eventEmitter.emit(US,t,i)}};s(Zl,"FetchContext");var jS=Zl;vq.exports=new jS().api()});var bq=ae((W8e,_q)=>{"use strict";_q.exports=xq()});var nw=ae((Tme,Rq)=>{"use strict";Rq.exports=s(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Nq=ae((Sme,kq)=>{"use strict";var M0e=nw();function U0e(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=M0e(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}s(U0e,"parsePath");kq.exports=U0e});var Bq=ae((Ime,Lq)=>{"use strict";var q0e=Nq();function j0e(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}s(j0e,"_interopDefaultLegacy");var $0e=j0e(q0e),H0e="text/plain",V0e="us-ascii",Dq=s((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),z0e=s((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,a=n.split(";");o=t?"":o;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let f=(a.shift()||"").toLowerCase(),u=[...a.map(d=>{let[g,p=""]=d.split("=").map(y=>y.trim());return g==="charset"&&(p=p.toLowerCase(),p===V0e)?"":`${g}${p?`=${p}`:""}`}).filter(Boolean)];return l&&u.push("base64"),(u.length>0||f&&f!==H0e)&&u.unshift(f),`data:${u.join(";")},${l?i.trim():i}${o?`#${o}`:""}`},"normalizeDataURL");function K0e(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return z0e(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,f="";for(;;){let u=a.exec(i.pathname);if(!u)break;let d=u[0],g=u.index,p=i.pathname.slice(l,g);f+=p.replace(/\/{2,}/g,"/"),f+=d,l=g+d.length}let c=i.pathname.slice(l,i.pathname.length);f+=c.replace(/\/{2,}/g,"/"),i.pathname=f}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];Dq(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])Dq(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}s(K0e,"normalizeUrl");var iw=s((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=s(o=>{let a=new Error(o);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>iw.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=K0e(e,t));let i=$0e.default(e);if(i.parse_failed){let o=i.href.match(r);o?(i.protocols=["ssh"],i.protocol="ssh",i.resource=o[2],i.host=o[2],i.user=o[1],i.pathname=`/${o[3]}`,i.parse_failed=!1):n("URL parsing failed.")}return i},"parseUrl");iw.MAX_INPUT_LENGTH=2048;Lq.exports=iw});var Mq=ae((Pme,Fq)=>{"use strict";var G0e=nw();function Oq(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=G0e(e);if(e=e.substring(e.indexOf("://")+3),Oq(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}s(Oq,"isSsh");Fq.exports=Oq});var jq=ae((kme,qq)=>{"use strict";var W0e=Bq(),Uq=Mq();function Y0e(e){var t=W0e(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),Uq(t.protocols)||t.protocols.length===0&&Uq(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}s(Y0e,"gitUp");qq.exports=Y0e});var Hq=ae((Dme,$q)=>{"use strict";var X0e=jq();function sw(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=X0e(e),n=r.resource.split("."),i=null;switch(r.toString=function(S){return sw.stringify(this,S)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3],r.full_name=i[2]+"/"+i[3]);break}else{i=r.name.split("/"),i.length===2?(r.owner=i[1],r.name=i[1],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3]);break}else{i=r.name.split("/"),i.length===5?(r.organization=i[0],r.owner=i[1],r.name=i[4],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:i=r.name.split("/");var o=i.length-1;if(i.length>=2){var a=i.indexOf("-",2),l=i.indexOf("blob",2),f=i.indexOf("tree",2),c=i.indexOf("commit",2),u=i.indexOf("src",2),d=i.indexOf("raw",2),g=i.indexOf("edit",2);o=a>0?a-1:l>0?l-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:g>0?g-1:o,r.owner=i.slice(0,o).join("/"),r.name=i[o],c&&(r.commit=i[o+2])}r.ref="",r.filepathtype="",r.filepath="";var p=i.length>o&&i[o+1]==="-"?o+1:o;i.length>p+2&&["raw","src","blob","tree","edit"].indexOf(i[p+1])>=0&&(r.filepathtype=i[p+1],r.ref=i[p+2],i.length>p+3&&(r.filepath=i.slice(p+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var y=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=y.exec(r.pathname);return _!=null&&(r.source="bitbucket-server",_[1]==="users"?r.owner="~"+_[2]:r.owner=_[2],r.organization=r.owner,r.name=_[3],i=_[4].split("/"),i.length>1&&(["raw","browse"].indexOf(i[1])>=0?(r.filepathtype=i[1],i.length>2&&(r.filepath=i.slice(2).join("/"))):i[1]==="commits"&&i.length>2&&(r.commit=i[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}s(sw,"gitUrlParse");sw.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var o=e.token?J0e(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+o+e.resource+r+"/"+Q0e(e)+i;default:return e.href}};function J0e(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}s(J0e,"buildToken");function Q0e(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}s(Q0e,"buildPath");$q.exports=sw});var ud=ae((b8,ow)=>{(function(e,t){if(typeof b8=="object"&&typeof ow=="object")ow.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof b8=="object"?b8:e)[n]=r[n]}})(b8,()=>(()=>{"use strict";var e={470:i=>{function o(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}s(o,"e");function a(f,c){for(var u,d="",g=0,p=-1,y=0,_=0;_<=f.length;++_){if(_<f.length)u=f.charCodeAt(_);else{if(u===47)break;u=47}if(u===47){if(!(p===_-1||y===1))if(p!==_-1&&y===2){if(d.length<2||g!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var S=d.lastIndexOf("/");if(S!==d.length-1){S===-1?(d="",g=0):g=(d=d.slice(0,S)).length-1-d.lastIndexOf("/"),p=_,y=0;continue}}else if(d.length===2||d.length===1){d="",g=0,p=_,y=0;continue}}c&&(d.length>0?d+="/..":d="..",g=2)}else d.length>0?d+="/"+f.slice(p+1,_):d=f.slice(p+1,_),g=_-p-1;p=_,y=0}else u===46&&y!==-1?++y:y=-1}return d}s(a,"r");var l={resolve:function(){for(var f,c="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var g;d>=0?g=arguments[d]:(f===void 0&&(f=process.cwd()),g=f),o(g),g.length!==0&&(c=g+"/"+c,u=g.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(f){if(o(f),f.length===0)return".";var c=f.charCodeAt(0)===47,u=f.charCodeAt(f.length-1)===47;return(f=a(f,!c)).length!==0||c||(f="."),f.length>0&&u&&(f+="/"),c?"/"+f:f},isAbsolute:function(f){return o(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,c=0;c<arguments.length;++c){var u=arguments[c];o(u),u.length>0&&(f===void 0?f=u:f+="/"+u)}return f===void 0?".":l.normalize(f)},relative:function(f,c){if(o(f),o(c),f===c||(f=l.resolve(f))===(c=l.resolve(c)))return"";for(var u=1;u<f.length&&f.charCodeAt(u)===47;++u);for(var d=f.length,g=d-u,p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var y=c.length-p,_=g<y?g:y,S=-1,E=0;E<=_;++E){if(E===_){if(y>_){if(c.charCodeAt(p+E)===47)return c.slice(p+E+1);if(E===0)return c.slice(p+E)}else g>_&&(f.charCodeAt(u+E)===47?S=E:E===0&&(S=0));break}var A=f.charCodeAt(u+E);if(A!==c.charCodeAt(p+E))break;A===47&&(S=E)}var P="";for(E=u+S+1;E<=d;++E)E!==d&&f.charCodeAt(E)!==47||(P.length===0?P+="..":P+="/..");return P.length>0?P+c.slice(p+S):(p+=S,c.charCodeAt(p)===47&&++p,c.slice(p))},_makeLong:function(f){return f},dirname:function(f){if(o(f),f.length===0)return".";for(var c=f.charCodeAt(0),u=c===47,d=-1,g=!0,p=f.length-1;p>=1;--p)if((c=f.charCodeAt(p))===47){if(!g){d=p;break}}else g=!1;return d===-1?u?"/":".":u&&d===1?"//":f.slice(0,d)},basename:function(f,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(f);var u,d=0,g=-1,p=!0;if(c!==void 0&&c.length>0&&c.length<=f.length){if(c.length===f.length&&c===f)return"";var y=c.length-1,_=-1;for(u=f.length-1;u>=0;--u){var S=f.charCodeAt(u);if(S===47){if(!p){d=u+1;break}}else _===-1&&(p=!1,_=u+1),y>=0&&(S===c.charCodeAt(y)?--y==-1&&(g=u):(y=-1,g=_))}return d===g?g=_:g===-1&&(g=f.length),f.slice(d,g)}for(u=f.length-1;u>=0;--u)if(f.charCodeAt(u)===47){if(!p){d=u+1;break}}else g===-1&&(p=!1,g=u+1);return g===-1?"":f.slice(d,g)},extname:function(f){o(f);for(var c=-1,u=0,d=-1,g=!0,p=0,y=f.length-1;y>=0;--y){var _=f.charCodeAt(y);if(_!==47)d===-1&&(g=!1,d=y+1),_===46?c===-1?c=y:p!==1&&(p=1):c!==-1&&(p=-1);else if(!g){u=y+1;break}}return c===-1||d===-1||p===0||p===1&&c===d-1&&c===u+1?"":f.slice(c,d)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return function(c,u){var d=u.dir||u.root,g=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+g:d+"/"+g:g}(0,f)},parse:function(f){o(f);var c={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return c;var u,d=f.charCodeAt(0),g=d===47;g?(c.root="/",u=1):u=0;for(var p=-1,y=0,_=-1,S=!0,E=f.length-1,A=0;E>=u;--E)if((d=f.charCodeAt(E))!==47)_===-1&&(S=!1,_=E+1),d===46?p===-1?p=E:A!==1&&(A=1):p!==-1&&(A=-1);else if(!S){y=E+1;break}return p===-1||_===-1||A===0||A===1&&p===_-1&&p===y+1?_!==-1&&(c.base=c.name=y===0&&g?f.slice(1,_):f.slice(y,_)):(y===0&&g?(c.name=f.slice(1,p),c.base=f.slice(1,_)):(c.name=f.slice(y,p),c.base=f.slice(y,_)),c.ext=f.slice(p,_)),y>0?c.dir=f.slice(0,y-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l},674:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;o.isWindows=a.indexOf("Windows")>=0}},796:function(i,o,a){var l,f,c=this&&this.__extends||(l=s(function(ie,Z){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ae){_e.__proto__=Ae}||function(_e,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(_e[be]=Ae[be])},l(ie,Z)},"n"),function(ie,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function _e(){this.constructor=ie}s(_e,"r"),l(ie,Z),ie.prototype=Z===null?Object.create(Z):(_e.prototype=Z.prototype,new _e)});Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;var u=a(674),d=/^\w[\w\d+.-]*$/,g=/^\//,p=/^\/\//;function y(ie,Z){if(!ie.scheme&&Z)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ie.authority,'", path: "').concat(ie.path,'", query: "').concat(ie.query,'", fragment: "').concat(ie.fragment,'"}'));if(ie.scheme&&!d.test(ie.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ie.path){if(ie.authority){if(!g.test(ie.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(ie.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(y,"f");var _="",S="/",E=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function ie(Z,_e,Ae,be,Ke,ce){ce===void 0&&(ce=!1),typeof Z=="object"?(this.scheme=Z.scheme||_,this.authority=Z.authority||_,this.path=Z.path||_,this.query=Z.query||_,this.fragment=Z.fragment||_):(this.scheme=function(ve,le){return ve||le?ve:"file"}(Z,ce),this.authority=_e||_,this.path=function(ve,le){switch(ve){case"https":case"http":case"file":le?le[0]!==S&&(le=S+le):le=S}return le}(this.scheme,Ae||_),this.query=be||_,this.fragment=Ke||_,y(this,ce))}return s(ie,"t"),ie.isUri=function(Z){return Z instanceof ie||!!Z&&typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function"},Object.defineProperty(ie.prototype,"fsPath",{get:function(){return te(this,!1)},enumerable:!1,configurable:!0}),ie.prototype.with=function(Z){if(!Z)return this;var _e=Z.scheme,Ae=Z.authority,be=Z.path,Ke=Z.query,ce=Z.fragment;return _e===void 0?_e=this.scheme:_e===null&&(_e=_),Ae===void 0?Ae=this.authority:Ae===null&&(Ae=_),be===void 0?be=this.path:be===null&&(be=_),Ke===void 0?Ke=this.query:Ke===null&&(Ke=_),ce===void 0?ce=this.fragment:ce===null&&(ce=_),_e===this.scheme&&Ae===this.authority&&be===this.path&&Ke===this.query&&ce===this.fragment?this:new U(_e,Ae,be,Ke,ce)},ie.parse=function(Z,_e){_e===void 0&&(_e=!1);var Ae=E.exec(Z);return Ae?new U(Ae[2]||_,Ie(Ae[4]||_),Ie(Ae[5]||_),Ie(Ae[7]||_),Ie(Ae[9]||_),_e):new U(_,_,_,_,_)},ie.file=function(Z){var _e=_;if(u.isWindows&&(Z=Z.replace(/\\/g,S)),Z[0]===S&&Z[1]===S){var Ae=Z.indexOf(S,2);Ae===-1?(_e=Z.substring(2),Z=S):(_e=Z.substring(2,Ae),Z=Z.substring(Ae)||S)}return new U("file",_e,Z,_,_)},ie.from=function(Z){var _e=new U(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment);return y(_e,!0),_e},ie.prototype.toString=function(Z){return Z===void 0&&(Z=!1),Ce(this,Z)},ie.prototype.toJSON=function(){return this},ie.revive=function(Z){if(Z){if(Z instanceof ie)return Z;var _e=new U(Z);return _e._formatted=Z.external,_e._fsPath=Z._sep===P?Z.fsPath:null,_e}return Z},ie}();o.URI=A;var P=u.isWindows?1:void 0,U=function(ie){function Z(){var _e=ie!==null&&ie.apply(this,arguments)||this;return _e._formatted=null,_e._fsPath=null,_e}return s(Z,"e"),c(Z,ie),Object.defineProperty(Z.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=te(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),Z.prototype.toString=function(_e){return _e===void 0&&(_e=!1),_e?Ce(this,!0):(this._formatted||(this._formatted=Ce(this,!1)),this._formatted)},Z.prototype.toJSON=function(){var _e={$mid:1};return this._fsPath&&(_e.fsPath=this._fsPath,_e._sep=P),this._formatted&&(_e.external=this._formatted),this.path&&(_e.path=this.path),this.scheme&&(_e.scheme=this.scheme),this.authority&&(_e.authority=this.authority),this.query&&(_e.query=this.query),this.fragment&&(_e.fragment=this.fragment),_e},Z}(A),k=((f={})[58]="%3A",f[47]="%2F",f[63]="%3F",f[35]="%23",f[91]="%5B",f[93]="%5D",f[64]="%40",f[33]="%21",f[36]="%24",f[38]="%26",f[39]="%27",f[40]="%28",f[41]="%29",f[42]="%2A",f[43]="%2B",f[44]="%2C",f[59]="%3B",f[61]="%3D",f[32]="%20",f);function L(ie,Z,_e){for(var Ae=void 0,be=-1,Ke=0;Ke<ie.length;Ke++){var ce=ie.charCodeAt(Ke);if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===45||ce===46||ce===95||ce===126||Z&&ce===47||_e&&ce===91||_e&&ce===93||_e&&ce===58)be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,Ke)),be=-1),Ae!==void 0&&(Ae+=ie.charAt(Ke));else{Ae===void 0&&(Ae=ie.substr(0,Ke));var ve=k[ce];ve!==void 0?(be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,Ke)),be=-1),Ae+=ve):be===-1&&(be=Ke)}}return be!==-1&&(Ae+=encodeURIComponent(ie.substring(be))),Ae!==void 0?Ae:ie}s(L,"m");function Q(ie){for(var Z=void 0,_e=0;_e<ie.length;_e++){var Ae=ie.charCodeAt(_e);Ae===35||Ae===63?(Z===void 0&&(Z=ie.substr(0,_e)),Z+=k[Ae]):Z!==void 0&&(Z+=ie[_e])}return Z!==void 0?Z:ie}s(Q,"b");function te(ie,Z){var _e;return _e=ie.authority&&ie.path.length>1&&ie.scheme==="file"?"//".concat(ie.authority).concat(ie.path):ie.path.charCodeAt(0)===47&&(ie.path.charCodeAt(1)>=65&&ie.path.charCodeAt(1)<=90||ie.path.charCodeAt(1)>=97&&ie.path.charCodeAt(1)<=122)&&ie.path.charCodeAt(2)===58?Z?ie.path.substr(1):ie.path[1].toLowerCase()+ie.path.substr(2):ie.path,u.isWindows&&(_e=_e.replace(/\//g,"\\")),_e}s(te,"C");function Ce(ie,Z){var _e=Z?Q:L,Ae="",be=ie.scheme,Ke=ie.authority,ce=ie.path,ve=ie.query,le=ie.fragment;if(be&&(Ae+=be,Ae+=":"),(Ke||be==="file")&&(Ae+=S,Ae+=S),Ke){var Ee=Ke.indexOf("@");if(Ee!==-1){var mt=Ke.substr(0,Ee);Ke=Ke.substr(Ee+1),(Ee=mt.lastIndexOf(":"))===-1?Ae+=_e(mt,!1,!1):(Ae+=_e(mt.substr(0,Ee),!1,!1),Ae+=":",Ae+=_e(mt.substr(Ee+1),!1,!0)),Ae+="@"}(Ee=(Ke=Ke.toLowerCase()).lastIndexOf(":"))===-1?Ae+=_e(Ke,!1,!0):(Ae+=_e(Ke.substr(0,Ee),!1,!0),Ae+=Ke.substr(Ee))}if(ce){if(ce.length>=3&&ce.charCodeAt(0)===47&&ce.charCodeAt(2)===58)(Et=ce.charCodeAt(1))>=65&&Et<=90&&(ce="/".concat(String.fromCharCode(Et+32),":").concat(ce.substr(3)));else if(ce.length>=2&&ce.charCodeAt(1)===58){var Et;(Et=ce.charCodeAt(0))>=65&&Et<=90&&(ce="".concat(String.fromCharCode(Et+32),":").concat(ce.substr(2)))}Ae+=_e(ce,!0,!1)}return ve&&(Ae+="?",Ae+=_e(ve,!1,!1)),le&&(Ae+="#",Ae+=Z?le:L(le,!1,!1)),Ae}s(Ce,"A");function De(ie){try{return decodeURIComponent(ie)}catch{return ie.length>3?ie.substr(0,3)+De(ie.substr(3)):ie}}s(De,"w"),o.uriToFsPath=te;var pe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ie(ie){return ie.match(pe)?ie.replace(pe,function(Z){return De(Z)}):ie}s(Ie,"x")},679:function(i,o,a){var l=this&&this.__spreadArray||function(g,p,y){if(y||arguments.length===2)for(var _,S=0,E=p.length;S<E;S++)!_&&S in p||(_||(_=Array.prototype.slice.call(p,0,S)),_[S]=p[S]);return g.concat(_||Array.prototype.slice.call(p))};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var f,c=a(470),u=c.posix||c,d="/";(f=o.Utils||(o.Utils={})).joinPath=function(g){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];return g.with({path:u.join.apply(u,l([g.path],p,!1))})},f.resolvePath=function(g){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];var _=g.path,S=!1;_[0]!==d&&(_=d+_,S=!0);var E=u.resolve.apply(u,l([_],p,!1));return S&&E[0]===d&&!g.authority&&(E=E.substring(1)),g.with({path:E})},f.dirname=function(g){if(g.path.length===0||g.path===d)return g;var p=u.dirname(g.path);return p.length===1&&p.charCodeAt(0)===46&&(p=""),g.with({path:p})},f.basename=function(g){return u.basename(g.path)},f.extname=function(g){return u.extname(g.path)}}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,r),a.exports}s(r,"r");var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;var o=r(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});var a=r(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var Tw=ae((Bge,gre)=>{gre.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.205.0",build:"943",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.79.0",node:">=16.14.0",npm:">=9.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}},"copilot-blocked":{description:"GitHub Copilot blocked icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0045"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},devDependencies:{"@datadog/datadog-ci":"^2.33.0","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/diff":"^5.0.9","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.15","@types/uuid":"^9.0.7","@types/vscode":"1.79.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",benchmark:"^2.1.4",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@microsoft/tiktokenizer":"^1.0.7","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1",chokidar:"^3.6.0","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{fsevents:"<0",bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var aj=ae((hp,oj)=>{(function(e,t){typeof hp=="object"&&typeof oj<"u"?t(hp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(hp,function(e){"use strict";var t=void 0,r=null,n="",i="function",o="number",a="object",l="prototype",f="__proto__",c="string",u="undefined",d="constructor",g="Symbol",p="_polyfill",y="indexOf",_="length",S="value",E="name",A="slice",P="call",U="toString",k=Object,L=k[l],Q=String,te=Q[l],Ce=Math,De=Array,pe=De[l];function Ie(v,T){try{return{v:v.apply(this,T)}}catch(w){return{e:w}}}s(Ie,"safe");function ie(v){return function(T){return typeof T===v}}s(ie,"_createIs");function Z(v){var T="[object "+v+"]";return function(w){return!!(w&&_e(w)===T)}}s(Z,"_createObjIs");function _e(v){return L.toString.call(v)}s(_e,"objToString");function Ae(v){return typeof v===u||v===u}s(Ae,"isUndefined");function be(v){return v===r||Ae(v)}s(be,"isNullOrUndefined");function Ke(v){return!!v||v!==t}s(Ke,"isDefined");var ce=ie(c),ve=ie(i);function le(v){return!v&&be(v)?!1:!!v&&typeof v===a}s(le,"isObject");var Ee=De.isArray,mt=Z("Error"),Et=k.getOwnPropertyDescriptor;function dt(v,T){return!!v&&L.hasOwnProperty[P](v,T)}s(dt,"objHasOwnProperty");var ze=k.hasOwn||n0;function n0(v,T){return dt(v,T)||!!Et(v,T)}s(n0,"polyObjHasOwn");function G(v,T,w){if(v&&le(v)){for(var R in v)if(ze(v,R)&&T[P](w||v,R,v[R])===-1)break}}s(G,"objForEachKey");function Je(v,T,w,R){var z={};return G(v,function(ne,me){z[ne]=T?me:ne,z[me]=w?me:ne}),R(z)}s(Je,"_createKeyValueMap");function he(v){throw new Error(v)}s(he,"throwError");function Xe(v){throw new TypeError(v)}s(Xe,"throwTypeError");var Ve=k.freeze;function nt(v){return v}s(nt,"_doNothing");function wt(v){return v[f]||r}s(wt,"_getProto");var Mt=k.assign,Lt=k.keys;function H(v){return Ve&&G(v,function(T,w){(Ee(w)||le(w))&&Ve(w)}),$t(v)}s(H,"objDeepFreeze");var $t=Ve||nt,vt=k.getPrototypeOf||wt;function sr(v){return Je(v,1,0,H)}s(sr,"createEnum");function X0(v){var T={};return G(v,function(w,R){T[w]=R[1],T[R[0]]=R[1]}),H(T)}s(X0,"createSimpleMap");function pr(v){return X0(v)}s(pr,"createTypeMap");var J0=Q,Wr="__tsUtils$gblCfg",mn;function Un(){var v;return typeof globalThis!==u&&(v=globalThis),!v&&typeof self!==u&&(v=self),!v&&typeof window!==u&&(v=window),!v&&typeof global!==u&&(v=global),v}s(Un,"_getGlobalValue");function gn(){if(!mn){var v=Ie(Un).v||{};mn=v[Wr]=v[Wr]||{}}return mn}s(gn,"_getGlobalConfig");var Xt="[object Error]";function Y(v,T){var w=n,R=L[U][P](v);R===Xt&&(v={stack:J0(v.stack),message:J0(v.message),name:J0(v.name)});try{w=JSON.stringify(v,r,T?typeof T===o?T:4:t),w=w&&w.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||J0(v)}catch(z){w=" - "+Y(z,T)}return R+": "+w}s(Y,"dumpObj");var N,B=Vt,Ye=Vt;function Vt(v,T,w){N=N||pe[A];var R=T&&T[v];return function(z){var ne=z&&z[v]||R;if(ne||w){var me=arguments;return(ne||w).apply(z,ne?N[P](me,1):me)}Xe('"'+J0(v)+'" not defined for '+Y(z))}}s(Vt,"_unwrapFunctionWithPoly");var w0=Ce.max,A0=Ye(A,te),Gt=Ye("substring",te),G0=Vt("substr",te,u0);function u0(v,T,w){return be(v)&&Xe("'polyStrSubstr called with invalid "+Y(v)),w<0?n:(T=T||0,T<0&&(T=w0(T+v[_],0)),Ae(w)?A0(v,T):A0(v,T,T+w))}s(u0,"polyStrSubstr");function er(v,T){return Gt(v,0,T)}s(er,"strLeft");var I0="_urid",Q0;function kt(){if(!Q0){var v=gn();Q0=v.gblSym=v.gblSym||{k:{},s:{}}}return Q0}s(kt,"_globalSymbolRegistry");function gs(v){var T={description:J0(v),toString:function(){return g+"("+v+")"}};return T[p]=!0,T}s(gs,"polyNewSymbol");function sl(v){var T=kt();if(!ze(T.k,v)){var w=gs(v),R=Lt(T.s).length;w[I0]=function(){return R+"_"+w[U]()},T.k[v]=w,T.s[w[I0]()]=J0(v)}return T.k[v]}s(sl,"polySymbolFor");var qn={e:"enumerable",c:"configurable",v:S,w:"writable",g:"get",s:"set"};function Us(v){var T={};if(T[qn.c]=!0,T[qn.e]=!0,v.l){T.get=function(){return v.l.v};var w=Et(v.l,"v");w&&w.set&&(T.set=function(R){v.l.v=R})}return G(v,function(R,z){T[qn[R]]=Ae(z)?T[qn[R]]:z}),T}s(Us,"_createProp");var Vi=k.defineProperty;function Eo(v,T,w){return Vi(v,T,Us(w))}s(Eo,"objDefine");var ye;function M(){ye=gn()}s(M,"_initTestHooks");function se(v){var T={};return!ye&&M(),T.b=ye.lzy,Vi(T,"v",{configurable:!0,get:function(){var w=v();return ye.lzy||Vi(T,"v",{value:w}),T.b=ye.lzy,w}}),T}s(se,"getLazy");function fe(v,T){return se(function(){var w=Ie(v);return w.e?T:w.v})}s(fe,"safeGetLazy");function K(v){return Vi({toJSON:function(){return v}},"v",{value:v})}s(K,"createCachedValue");var O="window",Te,$e,Ht,or;function tr(v){return se(function(){return Ie(lr,[v]).v||t})}s(tr,"lazySafeGetInst");function jn(v){return!ye&&M(),(!Te||v===!1||ye.lzy)&&(Te=K(Ie(Un).v||r)),Te.v}s(jn,"getGlobal");function lr(v,T){var w=!Te||T===!1?jn(T):Te.v;return w&&w[v]?w[v]:v===O&&$e?$e.v:r}s(lr,"getInst");function ui(){return!ye&&M(),(!Ht||ye.lzy)&&(Ht=K(Ie(lr,["document"]).v)),Ht.v}s(ui,"getDocument");function s0(){return!!rr()}s(s0,"hasWindow");function rr(){return!ye&&M(),(!$e||ye.lzy)&&($e=K(Ie(lr,[O]).v)),$e.v}s(rr,"getWindow");function dr(){return!!$n()}s(dr,"hasNavigator");function $n(){return!ye&&M(),(!or||ye.lzy)&&(or=K(Ie(lr,["navigator"]).v)),or.v}s($n,"getNavigator");var ki,Od;function ol(){(!ki||!ki.b)&&(ki=tr(g),Od=fe(function(){return ki.v?ki.v.for:t},t))}s(ol,"_initSymbol");function yf(v,T){return!ye&&M(),(!ki||ye.lzy)&&ol(),ki.v?ki.v(v):T?r:gs(v)}s(yf,"newSymbol");function al(v){return!ye&&M(),(!Od||!ki||ye.lzy)&&ol(),(Od.v||sl)(v)}s(al,"symbolFor");var So=B("apply");function di(v,T,w){if(v)for(var R=v[_]>>>0,z=0;z<R&&!(z in v&&T[P](w||v,v[z],z,v)===-1);z++);}s(di,"arrForEach");var sa=Ye(y,pe),ll=Ye("map",pe),O2=Ye("reduce",pe),ps=k.create||Yr;function Yr(v){if(!v)return{};var T=typeof v;T!==a&&T!==i&&Xe("Prototype must be an Object or function: "+Y(v));function w(){}return s(w,"tempFunc"),w[l]=v,new w}s(Yr,"polyObjCreate");var F2;function fl(v,T){var w=k.setPrototypeOf||function(R,z){!F2&&(F2=se(function(){var ne;return ne={},ne[f]=[],ne instanceof Array})),F2.v?R[f]=z:G(z,function(ne,me){return R[ne]=me})};return w(v,T)}s(fl,"objSetPrototypeOf");function xv(v,T,w){Ie(Eo,[T,E,{v,c:!0,e:!1}]),T=fl(T,w);function R(){this.constructor=T,Ie(Eo,[this,E,{v,c:!0,e:!1}])}return s(R,"__"),T[l]=w===r?ps(w):(R[l]=w[l],new R),T}s(xv,"_createCustomError");function wo(v,T){T&&(v[E]=T)}s(wo,"_setName");function _v(v,T,w){var R=w||Error,z=R[l][E],ne=Error.captureStackTrace;return xv(v,function(){var me=this,Se=arguments;try{Ie(wo,[R,v]);var Le=So(R,me,pe[A][P](Se))||me;if(Le!==me){var We=vt(me);We!==vt(Le)&&fl(Le,We)}return ne&&ne(Le,me[d]),T&&T(Le,Se),Le}finally{Ie(wo,[R,z])}},R)}s(_v,"createCustomError");function oa(){return(Date.now||bv)()}s(oa,"utcNow");function bv(){return new Date().getTime()}s(bv,"polyUtcNow");function hi(v){return s(function(w){return be(w)&&Xe("strTrim called ["+Y(w)+"]"),w&&w.replace&&(w=w.replace(v,n)),w},"_doTrim")}s(hi,"_createTrimFn");var M2=hi(/^\s+|(?=\s)\s+$/g),ys=Vt("trim",te,M2),U2,q2,f1;function qs(v){if(!v||typeof v!==a)return!1;f1||(f1=s0()?rr():!0);var T=!1;if(v!==f1){q2||(U2=Function[l][U],q2=U2[P](k));try{var w=vt(v);T=!w,T||(dt(w,d)&&(w=w[d]),T=w&&typeof w===i&&U2[P](w)===q2)}catch{}}return T}s(qs,"isPlainObject");var vf;function Fd(){return!ye&&M(),(!vf||!vf.b&&ye.lzy)&&(vf=tr("performance")),vf.v}s(Fd,"getPerformance");var Cv=Vt("endsWith",te,Md);function Md(v,T,w){ce(v)||Xe("'"+Y(v)+"' is not a string");var R=ce(T)?T:J0(T),z=!Ae(w)&&w<v[_]?w:v[_];return Gt(v,z-R[_],z)===R}s(Md,"polyStrEndsWith");var c1=Ye(y,te),Io="ref",aa="un"+Io,Jt="hasRef",zi="enabled";function u1(v,T,w){var R,z=!0,ne=v?T(r):r,me,Se=s(function(){return z=!1,ne&&ne[aa]&&ne[aa](),me},"_unref"),Le=s(function(){return z=!0,ne&&ne[Io]&&ne[Io](),me},"_ref"),We=s(function(){return ne&&ne[Jt]?ne[Jt]():z},"_hasRef"),ht=s(function(){return ne=T(ne),z||Se(),me},"_refresh"),a0=s(function(){ne&&w(ne),ne=r},"_cancel"),i0=s(function(Zt){!Zt&&ne&&a0(),Zt&&!ne&&ht()},"_setEnabled");return me=(R={cancel:a0,refresh:ht},R[Jt]=We,R[Io]=Le,R[aa]=Se,R[zi]=!1,R),Vi(me,zi,{get:function(){return!!ne},set:i0}),{h:me,dn:function(){ne=r}}}s(u1,"_createTimerHandler");function j2(v,T,w,R){var z=Ee(w),ne=z?w.length:0,me=(ne>0?w[0]:z?t:w)||setTimeout,Se=(ne>1?w[1]:t)||clearTimeout,Le=R[0];R[0]=function(){We.dn(),So(Le,v,pe[A][P](arguments))};var We=u1(T,function(ht){if(ht){if(ht.refresh)return ht.refresh(),ht;So(Se,v,[ht])}return So(me,v,R)},function(ht){So(Se,v,[ht])});return We.h}s(j2,"_createTimeoutWith");function Tv(v,T){return j2(this,!0,t,pe[A][P](arguments))}s(Tv,"scheduleTimeout");var vs=sr,Ev=pr,xf="toLowerCase",d1="blkVal",Xr="length",h1="rdOnly",$2="notify",la="warnToConsole",m1="throwInternal",H2="setDf",V2="watch",Vr="logger",z2="apply",js="push",Ud="splice",mi="hdlr",Sv="cancel",qd="name",wv="unload",g1="version",p6="loggingLevelConsole",K2="messageId",p1="message",y6="diagLog",v6="userAgent",G2="split",jd="nodeType",_f="replace",x6="logInternalMessage",Ao="type",$d="handler",_6="traceId",bf="spanId",cl="traceFlags",y1;function W2(v,T){y1||(y1=_v("AggregationError",function(R,z){z[Xr]>1&&(R.errors=z[1])}));var w=v||"One or more errors occurred.";throw di(T,function(R,z){w+=`
`.concat(z," > ").concat(Y(R))}),new y1(w,T||[])}s(W2,"throwAggregationError");var b6="function",Iv="object",C6="undefined",$s="prototype",T6=Object,Hd=T6[$s],v1="hasOwnProperty",Po=s(function(v){for(var T,w=1,R=arguments.length;w<R;w++){T=arguments[w];for(var z in T)Hd[v1].call(T,z)&&(v[z]=T[z])}return v},"__objAssignFnImpl"),ul=Mt||Po,Cf=s(function(v,T){return Cf=T6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var z in R)R[v1](z)&&(w[z]=R[z])},Cf(v,T)},"extendStaticsFn");function Y2(v,T){typeof T!==b6&&T!==null&&Xe("Class extends value "+String(T)+" is not a constructor or null"),Cf(v,T);function w(){this.constructor=v}s(w,"__"),v[$s]=T===null?ps(T):(w[$s]=T[$s],new w)}s(Y2,"__extendsFn");var Ro,Vd="constructor",xs="prototype",fa="function",x1="_dynInstFuncs",zd="_isDynProxy",ca="_dynClass",Kd="_dynCls$",Gd="_dynInstChk",dl=Gd,_1="_dfOpts",Wd="_unknown_",b1="__proto__",ua="_dyn"+b1,X2="__dynProto$Gbl",Yd="_dynInstProto",Tf="useBaseInst",Ef="setInstFuncs",C1=Object,_s=C1.getPrototypeOf,T1=C1.getOwnPropertyNames,Xd=jn(),Sf=Xd[X2]||(Xd[X2]={o:(Ro={},Ro[Ef]=!0,Ro[Tf]=!0,Ro),n:1e3});function Jd(v){return v&&(v===C1[xs]||v===Array[xs])}s(Jd,"_isObjectOrArrayPrototype");function E1(v){return Jd(v)||v===Function[xs]}s(E1,"_isObjectArrayOrFunctionPrototype");function hl(v){var T;if(v){if(_s)return _s(v);var w=v[b1]||v[xs]||(v[Vd]?v[Vd][xs]:null);T=v[ua]||w,dt(v,ua)||(delete v[Yd],T=v[ua]=v[Yd]||v[ua],v[Yd]=w)}return T}s(hl,"_getObjProto");function Qd(v,T){var w=[];if(T1)w=T1(v);else for(var R in v)typeof R=="string"&&dt(v,R)&&w.push(R);if(w&&w.length>0)for(var z=0;z<w.length;z++)T(w[z])}s(Qd,"_forEachProp");function J2(v,T,w){return T!==Vd&&typeof v[T]===fa&&(w||dt(v,T))&&T!==b1&&T!==xs}s(J2,"_isDynamicCandidate");function Zd(v){Xe("DynamicProto: "+v)}s(Zd,"_throwTypeError");function Av(v){var T=ps(null);return Qd(v,function(w){!T[w]&&J2(v,w,!1)&&(T[w]=v[w])}),T}s(Av,"_getInstanceFuncs");function S1(v,T){for(var w=v.length-1;w>=0;w--)if(v[w]===T)return!0;return!1}s(S1,"_hasVisited");function gi(v,T,w,R){function z(Le,We,ht){var a0=We[ht];if(a0[zd]&&R){var i0=Le[x1]||{};i0[dl]!==!1&&(a0=(i0[We[ca]]||{})[ht]||a0)}return function(){return a0.apply(Le,arguments)}}s(z,"_instFuncProxy");var ne=ps(null);Qd(w,function(Le){ne[Le]=z(T,w,Le)});for(var me=hl(v),Se=[];me&&!E1(me)&&!S1(Se,me);)Qd(me,function(Le){!ne[Le]&&J2(me,Le,!_s)&&(ne[Le]=z(T,me,Le))}),Se.push(me),me=hl(me);return ne}s(gi,"_getBaseFuncs");function Pv(v,T,w,R){var z=null;if(v&&dt(w,ca)){var ne=v[x1]||ps(null);if(z=(ne[w[ca]]||ps(null))[T],z||Zd("Missing ["+T+"] "+fa),!z[Gd]&&ne[dl]!==!1){for(var me=!dt(v,T),Se=hl(v),Le=[];me&&Se&&!E1(Se)&&!S1(Le,Se);){var We=Se[T];if(We){me=We===R;break}Le.push(Se),Se=hl(Se)}try{me&&(v[T]=z),z[Gd]=1}catch{ne[dl]=!1}}}return z}s(Pv,"_getInstFunc");function E6(v,T,w){var R=T[v];return R===w&&(R=hl(T)[v]),typeof R!==fa&&Zd("["+v+"] is not a "+fa),R}s(E6,"_getProtoFunc");function S6(v,T,w,R,z){function ne(Le,We){var ht=s(function(){var a0=Pv(this,We,Le,ht)||E6(We,Le,ht);return a0.apply(this,arguments)},"dynProtoProxy");return ht[zd]=1,ht}if(s(ne,"_createDynamicPrototype"),!Jd(v)){var me=w[x1]=w[x1]||ps(null);if(!Jd(me)){var Se=me[T]=me[T]||ps(null);me[dl]!==!1&&(me[dl]=!!z),Jd(Se)||Qd(w,function(Le){J2(w,Le,!1)&&w[Le]!==R[Le]&&(Se[Le]=w[Le],delete w[Le],(!dt(v,Le)||v[Le]&&!v[Le][zd])&&(v[Le]=ne(v,Le)))})}}}s(S6,"_populatePrototype");function w1(v,T){if(_s){for(var w=[],R=hl(T);R&&!E1(R)&&!S1(w,R);){if(R===v)return!0;w.push(R),R=hl(R)}return!1}return!0}s(w1,"_checkPrototype");function I1(v,T){return dt(v,xs)?v.name||T||Wd:((v||{})[Vd]||{}).name||T||Wd}s(I1,"_getObjName");function Q2(v,T,w,R){dt(v,xs)||Zd("theClass is an invalid class definition.");var z=v[xs];w1(z,T)||Zd("["+I1(v)+"] not in hierarchy of ["+I1(T)+"]");var ne=null;dt(z,ca)?ne=z[ca]:(ne=Kd+I1(v,"_")+"$"+Sf.n,Sf.n++,z[ca]=ne);var me=Q2[_1],Se=!!me[Tf];Se&&R&&R[Tf]!==void 0&&(Se=!!R[Tf]);var Le=Av(T),We=gi(z,T,Le,Se);w(T,We);var ht=!!_s&&!!me[Ef];ht&&R&&(ht=!!R[Ef]),S6(z,ne,T,Le,ht!==!1)}s(Q2,"dynamicProto"),Q2[_1]=Sf.o;var w6=void 0,Nr="",da="Not dynamic - ",Z2=/-([a-z])/g,A1=/([^\w\d_$])/g,I6=/^(\d+[\w\d_$])/;function e5(v){return!be(v)}s(e5,"isNotNullOrUndefined");function e4(v){var T=v;return T&&ce(T)&&(T=T[_f](Z2,function(w,R){return R.toUpperCase()}),T=T[_f](A1,"_"),T=T[_f](I6,function(w,R){return"_"+R})),T}s(e4,"normalizeJsName");function P1(v,T){return v&&T?c1(v,T)!==-1:!1}s(P1,"strContains");function R1(v){return v&&v.toISOString()||""}s(R1,"toISOString");function b0(v){return mt(v)?v[qd]:Nr}s(b0,"getExceptionName");function t5(v){return function(){function T(){var w=this;v&&G(v,function(R,z){w[R]=z})}return s(T,"class_1"),T}()}s(t5,"createClassFromInterface");var r5="console",k1="JSON",N1="crypto",wf="msCrypto",ko="msie",Br="trident/",If=null,nr=null,ml=null;function A6(){return typeof console!==C6?console:lr(r5)}s(A6,"getConsole");function gl(){return!!(typeof JSON===Iv&&JSON||lr(k1)!==null)}s(gl,"hasJSON");function D1(){return gl()?JSON||lr(k1):null}s(D1,"getJSON");function ha(){return lr(N1)}s(ha,"getCrypto");function Hs(){return lr(wf)}s(Hs,"getMsCrypto");function L1(){var v=$n();if(v&&(v[v6]!==nr||If===null)){nr=v[v6];var T=(nr||Nr)[xf]();If=P1(T,ko)||P1(T,Br)}return If}s(L1,"isIE");function P6(v){return(ml===null||v===!1)&&(ml=dr()&&!!$n().sendBeacon),ml}s(P6,"isBeaconsSupported");function ma(v,T){if(v)for(var w=0;w<v[Xr];w++){var R=v[w];if(R[qd]&&R[qd]===T)return R}return{}}s(ma,"_getNamedValue");function Af(v){var T=ui();return T&&v?ma(T.querySelectorAll("meta"),v).content:null}s(Af,"findMetaTag");function Hn(v){var T,w=Fd();if(w){var R=w.getEntriesByType("navigation")||[];T=ma((R[Xr]>0?R[0]:{}).serverTiming,v).description}return T}s(Hn,"findNamedServerTiming");var t4=4294967296,Ki=4294967295,B1=123456789,O1=987654321,pl=!1,Pf=B1,Gi=O1;function n5(v){v<0&&(v>>>=0),Pf=B1+v&Ki,Gi=O1-v&Ki,pl=!0}s(n5,"_mwcSeed");function R6(){try{var v=oa()&2147483647;n5((Math.random()*t4^v)+v)}catch{}}s(R6,"_autoSeedMwc");function k6(v){return v>0?Math.floor(bs()/Ki*(v+1))>>>0:0}s(k6,"randomValue");function bs(v){var T=0,w=ha()||Hs();return w&&w.getRandomValues&&(T=w.getRandomValues(new Uint32Array(1))[0]&Ki),T===0&&L1()&&(pl||R6(),T=No()&Ki),T===0&&(T=Math.floor(t4*Math.random()|0)),v||(T>>>=0),T}s(bs,"random32");function No(v){Gi=36969*(Gi&65535)+(Gi>>16)&Ki,Pf=18e3*(Pf&65535)+(Pf>>16)&Ki;var T=(Gi<<16)+(Pf&65535)>>>0&Ki|0;return v||(T>>>=0),T}s(No,"mwcRandom32");function i5(v){v===void 0&&(v=22);for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=bs()>>>0,R=0,z=Nr;z[Xr]<v;)R++,z+=T.charAt(w&63),w>>>=6,R===5&&(w=(bs()<<2&4294967295|w&3)>>>0,R=0);return z}s(i5,"newId");var yl="3.0.5",Rf="."+i5(6),Do=0;function s5(v){return v[jd]===1||v[jd]===9||!+v[jd]}s(s5,"_canAcceptData");function F1(v,T){var w=T[v.id];if(!w){w={};try{s5(T)&&Eo(T,v.id,{e:!1,v:w})}catch{}}return w}s(F1,"_getCache");function pi(v,T){return T===void 0&&(T=!1),e4(v+Do+++(T?"."+yl:Nr)+Rf)}s(pi,"createUniqueNamespace");function M1(v){var T={id:pi("_aiData-"+(v||Nr)+"."+yl),accept:function(w){return s5(w)},get:function(w,R,z,ne){var me=w[T.id];return me?me[e4(R)]:(ne&&(me=F1(T,w),me[e4(R)]=z),z)},kill:function(w,R){if(w&&w[R])try{delete w[R]}catch{}}};return T}s(M1,"createElmNodeData");function kf(v){return v&&le(v)&&(v.isVal||v.fb||ze(v,"v")||ze(v,"mrg")||ze(v,"ref")||v.set)}s(kf,"_isConfigDefaults");function Nf(v,T,w){var R,z=w.dfVal||Ke;if(T&&w.fb){var ne=w.fb;Ee(ne)||(ne=[ne]);for(var me=0;me<ne[Xr];me++){var Se=ne[me],Le=T[Se];if(z(Le)?R=Le:v&&(Le=v.cfg[Se],z(Le)&&(R=Le),v.set(v.cfg,J0(Se),Le)),z(R))break}}return!z(R)&&z(w.v)&&(R=w.v),R}s(Nf,"_getDefault");function U1(v,T,w){var R=w;if(w&&kf(w)&&(R=Nf(v,T,w)),R){kf(R)&&(R=U1(v,T,R));var z;Ee(R)?(z=[],z[Xr]=R[Xr]):qs(R)&&(z={}),z&&(G(R,function(ne,me){me&&kf(me)&&(me=U1(v,T,me)),z[ne]=me}),R=z)}return R}s(U1,"_resolveDefaultValue");function vl(v,T,w,R){var z,ne,me,Se=R,Le,We,ht,a0;kf(Se)?(z=Se.isVal,ne=Se.set,ht=Se[h1],a0=Se[d1],Le=Se.mrg,We=Se.ref,!We&&Ae(We)&&(We=!!Le),me=Nf(v,T,Se)):me=R,a0&&v[d1](T,w);var i0,Zt=!0,At=T[w];(At||!be(At))&&(i0=At,Zt=!1,z&&i0!==me&&!z(i0)&&(i0=me,Zt=!0),ne&&(i0=ne(i0,me,T),Zt=i0===me)),Zt?me?i0=U1(v,T,me):i0=me:(qs(i0)||Ee(me))&&Le&&me&&(qs(me)||Ee(me))&&G(me,function(C0,zt){vl(v,i0,C0,zt)}),v.set(T,w,i0),We&&v.ref(T,w),ht&&v[h1](T,w)}s(vl,"_applyDefaultValue");var ga=al("[[ai_dynCfg_1]]"),Vs=al("[[ai_blkDynCfg_1]]"),r4=al("[[ai_frcDynCfg_1]]");function o5(v){if(v){var T;if(Ee(v)?(T=[],T[Xr]=v[Xr]):qs(v)&&(T={}),T)return G(v,function(w,R){T[w]=o5(R)}),T}return v}s(o5,"_cfgDeepCopy");function Df(v){if(v){var T=v[ga]||v;if(T.cfg&&(T.cfg===v||T.cfg[ga]===T))return T}return null}s(Df,"getDynamicConfigHandler");function zs(v){if(v&&(qs(v)||Ee(v)))try{v[Vs]=!0}catch{}return v}s(zs,"blockDynamicConversion");function q1(v,T,w){var R=!1;return w&&!v[T.blkVal]&&(R=w[r4],!R&&!w[Vs]&&(R=qs(w)||Ee(w))),R}s(q1,"_canMakeDynamic");function n4(v){Xe("InvalidAccess:"+v)}s(n4,"throwInvalidAccess");var N6=["push","pop","shift","unshift","splice"],Lf=s(function(v,T,w,R){v&&v[m1](3,108,"".concat(w," [").concat(T,"] failed - ")+Y(R))},"_throwDynamicError");function i4(v,T,w){Ee(T)&&di(N6,function(R){var z=T[R];T[R]=function(){for(var ne=[],me=0;me<arguments.length;me++)ne[me]=arguments[me];var Se=z[z2](this,ne);return $1(v,T,w,"Patching"),Se}})}s(i4,"_patchArray");function a5(v,T){var w=Et(v,T);return w&&w.get}s(a5,"_getOwnPropGetter");function l5(v,T,w,R){var z={n:w,h:[],trk:function(We){We&&We.fn&&(sa(z.h,We)===-1&&z.h[js](We),v.trk(We,z))},clr:function(We){var ht=sa(z.h,We);ht!==-1&&z.h[Ud](ht,1)}},ne=!0,me=!1;function Se(){ne&&(me=me||q1(Se,v,R),R&&!R[ga]&&me&&(R=$1(v,R,w,"Converting")),ne=!1);var We=v.act;return We&&z.trk(We),R}s(Se,"_getProperty"),Se[v.prop]={chng:function(){v.add(z)}};function Le(We){if(R!==We){Se[v.ro]&&!v.upd&&n4("["+w+"] is read-only:"+Y(T)),ne&&(me=me||q1(Se,v,R),ne=!1);var ht=me&&Se[v.rf];if(me)if(ht){G(R,function(i0){R[i0]=We?We[i0]:w6});try{G(We,function(i0,Zt){j1(v,R,i0,Zt)}),We=R}catch(i0){Lf((v.hdlr||{})[Vr],w,"Assigning",i0),me=!1}}else R&&R[ga]&&G(R,function(i0){var Zt=a5(R,i0);if(Zt){var At=Zt[v.prop];At&&At.chng()}});if(We!==R){var a0=We&&q1(Se,v,We);!ht&&a0&&(We=$1(v,We,w,"Converting")),R=We,me=a0}v.add(z)}}s(Le,"_setProperty"),Eo(T,z.n,{g:Se,s:Le})}s(l5,"_createDynamicProperty");function j1(v,T,w,R){if(T){var z=a5(T,w),ne=z&&!!z[v.prop];ne?T[w]=R:l5(v,T,w,R)}return T}s(j1,"_setDynamicProperty");function s4(v,T,w,R){if(T){var z=a5(T,w),ne=z&&!!z[v.prop],me=R&&R[0],Se=R&&R[1],Le=R&&R[2];if(!ne){if(Le)try{zs(T)}catch(We){Lf((v.hdlr||{})[Vr],w,"Blocking",We)}try{j1(v,T,w,T[w]),z=a5(T,w)}catch(We){Lf((v.hdlr||{})[Vr],w,"State",We)}}me&&(z[v.rf]=me),Se&&(z[v.ro]=Se),Le&&(z[v.blkVal]=!0)}return T}s(s4,"_setDynamicPropertyState");function $1(v,T,w,R){try{G(T,function(z,ne){j1(v,T,z,ne)}),T[ga]||(Vi(T,ga,{get:function(){return v[mi]}}),i4(v,T,w))}catch(z){Lf((v.hdlr||{})[Vr],w,R,z)}return T}s($1,"_makeDynamicObject");var Bf="[[ai_",pa="]]";function Rv(v){var T,w=yf(Bf+"get"+v.uid+pa),R=yf(Bf+"ro"+v.uid+pa),z=yf(Bf+"rf"+v.uid+pa),ne=yf(Bf+"blkVal"+v.uid+pa),me=yf(Bf+"dtl"+v.uid+pa),Se=null,Le=null,We;function ht(At,C0){var zt=We.act;try{We.act=At,At&&At[me]&&(di(At[me],function(m0){m0.clr(At)}),At[me]=[]),C0({cfg:v.cfg,set:v.set.bind(v),setDf:v[H2].bind(v),ref:v.ref.bind(v),rdOnly:v[h1].bind(v)})}catch(m0){var U0=v[Vr];throw U0&&U0[m1](1,107,Y(m0)),m0}finally{We.act=zt||null}}s(ht,"_useHandler");function a0(){if(Se){var At=Se;Se=null,Le&&Le[Sv](),Le=null;var C0=[];if(di(At,function(zt){if(zt&&(zt[me]&&(di(zt[me],function(U0){U0.clr(zt)}),zt[me]=null),zt.fn))try{ht(zt,zt.fn)}catch(U0){C0[js](U0)}}),Se)try{a0()}catch(zt){C0[js](zt)}C0[Xr]>0&&W2("Watcher error(s): ",C0)}}s(a0,"_notifyWatchers");function i0(At){if(At&&At.h[Xr]>0){Se||(Se=[]),Le||(Le=Tv(function(){Le=null,a0()},0));for(var C0=0;C0<At.h[Xr];C0++){var zt=At.h[C0];zt&&sa(Se,zt)===-1&&Se[js](zt)}}}s(i0,"_addWatcher");function Zt(At,C0){if(At){var zt=At[me]=At[me]||[];sa(zt,C0)===-1&&zt[js](C0)}}return s(Zt,"_trackHandler"),We=(T={prop:w,ro:R,rf:z},T[d1]=ne,T[mi]=v,T.add=i0,T[$2]=a0,T.use=ht,T.trk=Zt,T),We}s(Rv,"_createState");function f5(v,T){var w={fn:T,rm:function(){w.fn=null,v=null,T=null}};return v.use(w,T),w}s(f5,"_createAndUseHandler");function D6(v,T,w){var R,z=Df(T);if(z)return z;var ne=pi("dyncfg",!0),me=T&&w!==!1?T:o5(T),Se;function Le(){Se[$2]()}s(Le,"_notifyWatchers");function We(U0,m0,e0){try{U0=j1(Se,U0,m0,e0)}catch(wr){Lf(v,m0,"Setting value",wr)}return U0[m0]}s(We,"_setValue");function ht(U0){return f5(Se,U0)}s(ht,"_watch");function a0(U0,m0){Se.use(null,function(e0){var wr=Se.upd;try{Ae(m0)||(Se.upd=m0),U0(e0)}finally{Se.upd=wr}})}s(a0,"_block");function i0(U0,m0){var e0;return s4(Se,U0,m0,(e0={},e0[0]=!0,e0))[m0]}s(i0,"_ref");function Zt(U0,m0){var e0;return s4(Se,U0,m0,(e0={},e0[1]=!0,e0))[m0]}s(Zt,"_rdOnly");function At(U0,m0){var e0;return s4(Se,U0,m0,(e0={},e0[2]=!0,e0))[m0]}s(At,"_blkPropValue");function C0(U0,m0){return m0&&G(m0,function(e0,wr){vl(zt,U0,e0,wr)}),U0}s(C0,"_applyDefaults");var zt=(R={uid:null,cfg:me},R[Vr]=v,R[$2]=Le,R.set=We,R[H2]=C0,R[V2]=ht,R.ref=i0,R[h1]=Zt,R[d1]=At,R._block=a0,R);return Eo(zt,"uid",{c:!1,e:!1,w:!1,v:ne}),Se=Rv(zt),$1(Se,me,"config","Creating"),zt}s(D6,"_createDynamicHandler");function kv(v,T){v?(v[la](T),v[m1](2,108,T)):n4(T)}s(kv,"_logInvalidAccess");function L6(v,T,w,R){var z=D6(w,v||{},R);return T&&z[H2](z.cfg,T),z}s(L6,"createDynamicConfig");function c5(v,T,w){var R=v[ga]||v;return R.cfg&&(R.cfg===v||R.cfg[ga]===R)?R[V2](T):(kv(w,da+Y(v)),L6(v,null,w)[V2](T))}s(c5,"onConfigChange");var H1=null;function Nv(){var v=lr("Microsoft");return v&&(H1=v.ApplicationInsights),H1}s(Nv,"_getExtensionNamespace");function Dv(v){var T=H1;return!T&&v.disableDbgExt!==!0&&(T=H1||Nv()),T?T.ChromeDbgExt:null}s(Dv,"getDebugExt");var Of,B6="warnToConsole",O6="AI (Internal): ",o4="AI: ",Lv="AITR_",a4={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ff=(Of={},Of[0]=null,Of[1]="errorToConsole",Of[2]=B6,Of[3]="debugToConsole",Of);function F6(v){return v?'"'+v[_f](/\"/g,Nr)+'"':Nr}s(F6,"_sanitizeDiagnosticText");function Wi(v,T){var w=A6();if(w){var R="log";w[v]&&(R=v),ve(w[R])&&w[R](T)}}s(Wi,"_logToConsole");var L0=function(){function v(T,w,R,z){R===void 0&&(R=!1);var ne=this;ne[K2]=T,ne[p1]=(R?o4:O6)+T;var me=Nr;gl()&&(me=D1().stringify(z));var Se=(w?" message:"+F6(w):Nr)+(z?" props:"+F6(me):Nr);ne[p1]+=Se}return s(v,"_InternalLogMessage"),v.dataType="MessageData",v}();function xl(v,T){return(v||{})[Vr]||new Or(T)}s(xl,"safeGetLogger");var Or=function(){function v(T){this.identifier="DiagnosticLogger",this.queue=[];var w=0,R={},z,ne,me,Se,Le;Q2(v,this,function(We){Le=a0(T||{}),We.consoleLoggingLevel=function(){return z},We[m1]=function(At,C0,zt,U0,m0){m0===void 0&&(m0=!1);var e0=new L0(C0,zt,m0,U0);if(Se)throw Y(e0);var wr=Ff[At]||B6;if(Ae(e0[p1]))Zt("throw"+(At===1?"Critical":"Warning"),e0);else{if(m0){var sc=+e0[K2];!R[sc]&&z>=At&&(We[wr](e0[p1]),R[sc]=!0)}else z>=At&&We[wr](e0[p1]);ht(At,e0)}},We.debugToConsole=function(At){Wi("debug",At),Zt("warning",At)},We[la]=function(At){Wi("warn",At),Zt("warning",At)},We.errorToConsole=function(At){Wi("error",At),Zt("error",At)},We.resetInternalMessageCount=function(){w=0,R={}},We[x6]=ht,We[wv]=function(At){Le&&Le.rm(),Le=null};function ht(At,C0){if(!i0()){var zt=!0,U0=Lv+C0[K2];if(R[U0]?zt=!1:R[U0]=!0,zt&&(At<=ne&&(We.queue[js](C0),w++,Zt(At===1?"error":"warn",C0)),w===me)){var m0="Internal events throttle limit per PageView reached for this app.",e0=new L0(23,m0,!1);We.queue[js](e0),At===1?We.errorToConsole(m0):We[la](m0)}}}s(ht,"_logInternalMessage");function a0(At){return c5(L6(At,a4,We).cfg,function(C0){var zt=C0.cfg;z=zt[p6],ne=zt.loggingLevelTelemetry,me=zt.maxMessageLimit,Se=zt.enableDebug})}s(a0,"_setDefaultsFromConfig");function i0(){return w>=me}s(i0,"_areInternalMessagesThrottled");function Zt(At,C0){var zt=Dv(T||{});zt&&zt[y6]&&zt[y6](At,C0)}s(Zt,"_debugExtMsg")})}return s(v,"DiagnosticLogger"),v.__ieDyn=1,v}();function l4(v){return v||new Or}s(l4,"_getLogger");function Vn(v,T,w,R,z,ne){ne===void 0&&(ne=!1),l4(v)[m1](T,w,R,z,ne)}s(Vn,"_throwInternal");function _l(){for(var v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],T=Nr,w,R=0;R<4;R++)w=bs(),T+=v[w&15]+v[w>>4&15]+v[w>>8&15]+v[w>>12&15]+v[w>>16&15]+v[w>>20&15]+v[w>>24&15]+v[w>>28&15];var z=v[8+(bs()&3)|0];return G0(T,0,8)+G0(T,9,4)+"4"+G0(T,13,3)+z+G0(T,16,3)+G0(T,19,12)}s(_l,"generateW3CId");var Mf=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Yi="00",Uf="ff",bl="00000000000000000000000000000000",ya="0000000000000000",V1=1;function zn(v,T,w){return v&&v[Xr]===T&&v!==w?!!v.match(/^[\da-f]*$/i):!1}s(zn,"_isValid");function z1(v,T,w){return zn(v,T)?v:w}s(z1,"_formatValue");function u5(v){(isNaN(v)||v<0||v>255)&&(v=1);for(var T=v.toString(16);T[Xr]<2;)T="0"+T;return T}s(u5,"_formatFlags");function f4(v,T,w,R){var z;return z={},z[g1]=zn(R,2,Uf)?R:Yi,z[_6]=u4(v)?v:_l(),z[bf]=d4(T)?T:er(_l(),16),z.traceFlags=w>=0&&w<=255?w:1,z}s(f4,"createTraceParent");function c4(v,T){var w;if(!v||(Ee(v)&&(v=v[0]||""),!v||!ce(v)||v[Xr]>8192))return null;if(v.indexOf(",")!==-1){var R=v[G2](",");v=R[T>0&&R[Xr]>T?T:0]}var z=Mf.exec(ys(v));return!z||z[1]===Uf||z[2]===bl||z[3]===ya?null:(w={version:(z[1]||Nr)[xf](),traceId:(z[2]||Nr)[xf](),spanId:(z[3]||Nr)[xf]()},w[cl]=parseInt(z[4],16),w)}s(c4,"parseTraceParent");function u4(v){return zn(v,32,bl)}s(u4,"isValidTraceId");function d4(v){return zn(v,16,ya)}s(d4,"isValidSpanId");function M6(v){return!(!v||!zn(v[g1],2,Uf)||!zn(v[_6],32,bl)||!zn(v[bf],16,ya)||!zn(u5(v[cl]),2))}s(M6,"isValidTraceParent");function h4(v){return M6(v)?(v[cl]&V1)===V1:!1}s(h4,"isSampledFlag");function m4(v){if(v){var T=u5(v[cl]);zn(T,2)||(T="01");var w=v[g1]||Yi;return w!=="00"&&w!=="ff"&&(w=Yi),"".concat(w.toLowerCase(),"-").concat(z1(v.traceId,32,bl).toLowerCase(),"-").concat(z1(v.spanId,16,ya).toLowerCase(),"-").concat(T.toLowerCase())}return""}s(m4,"formatTraceParent");function Cn(v){var T="traceparent",w=c4(Af(T),v);return w||(w=c4(Hn(T),v)),w}s(Cn,"findW3cTraceParent");var K1="on",Kn="attachEvent",va="addEventListener",U6="detachEvent",q6="removeEventListener",qf="events";pi("aiEvtPageHide"),pi("aiEvtPageShow");var g4=/\.[\.]+/g,Bv=/[\.]+$/,j6=1,G1=M1("events"),Ov=/^([^.]*)(?:\.(.+)|)/;function $6(v){return v&&v[_f]?v[_f](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Nr):v}s($6,"_normalizeNamespace");function p4(v,T){var w;if(T){var R=Nr;Ee(T)?(R=Nr,di(T,function(ne){ne=$6(ne),ne&&(ne[0]!=="."&&(ne="."+ne),R+=ne)})):R=$6(T),R&&(R[0]!=="."&&(R="."+R),v=(v||Nr)+R)}var z=Ov.exec(v||Nr)||[];return w={},w[Ao]=z[1],w.ns=(z[2]||Nr).replace(g4,".").replace(Bv,Nr)[G2](".").sort().join("."),w}s(p4,"_getEvtNamespace");function y4(v,T,w){w===void 0&&(w=!0);var R=G1.get(v,qf,{},w),z=R[T];return z||(z=R[T]=[]),z}s(y4,"_getRegisteredEvents");function H6(v,T,w,R){v&&T&&T[Ao]&&(v[q6]?v[q6](T[Ao],w,R):v[U6]&&v[U6](K1+T[Ao],w))}s(H6,"_doDetach");function Fv(v,T,w,R){var z=!1;return v&&T&&T[Ao]&&w&&(v[va]?(v[va](T[Ao],w,R),z=!0):v[Kn]&&(v[Kn](K1+T[Ao],w),z=!0)),z}s(Fv,"_doAttach");function d5(v,T,w,R){for(var z=T[Xr];z--;){var ne=T[z];ne&&(!w.ns||w.ns===ne.evtName.ns)&&(!R||R(ne))&&(H6(v,ne.evtName,ne[$d],ne.capture),T[Ud](z,1))}}s(d5,"_doUnregister");function v4(v,T,w){if(T[Ao])d5(v,y4(v,T[Ao]),T,w);else{var R=G1.get(v,qf,{});G(R,function(z,ne){d5(v,ne,T,w)}),Lt(R)[Xr]===0&&G1.kill(v,qf)}}s(v4,"_unregisterEvents");function V6(v,T){var w;return T?(Ee(T)?w=[v].concat(T):w=[v,T],w=p4("xx",w).ns[G2](".")):w=v,w}s(V6,"mergeEvtNamespace");function h5(v,T,w,R,z){var ne;z===void 0&&(z=!1);var me=!1;if(v)try{var Se=p4(T,R);if(me=Fv(v,Se,w,z),me&&G1.accept(v)){var Le=(ne={guid:j6++,evtName:Se},ne[$d]=w,ne.capture=z,ne);y4(v,Se.type)[js](Le)}}catch{}return me}s(h5,"eventOn");function x4(v,T,w,R,z){if(z===void 0&&(z=!1),v)try{var ne=p4(T,R),me=!1;v4(v,ne,function(Se){return ne.ns&&!w||Se[$d]===w?(me=!0,!0):!1}),me||H6(v,ne,w,z)}catch{}}s(x4,"eventOff");var Mv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",jf="sampleRate",_4="ProcessLegacy",z6="http.method",b4="https://dc.services.visualstudio.com",m5="/v2/track",Ni="not_specified",Ks="iKey",K6=Ev({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),$f="split",o0="length",Hf="toLowerCase",Gs="ingestionendpoint",Cl="toString",W1="push",g5="removeItem",Xi="name",yi="message",Tl="count",p5="preTriggerDate",y5="disabled",El="interval",Vf="daysOfMonth",C4="date",T4="getUTCDate",Y1="stringify",v5="pathname",G6="correlationHeaderExcludePatterns",X1="extensionConfig",zf="exceptions",Cs="parsedStack",Ts="properties",Lo="measurements",Ji="sizeInBytes",Ws="typeName",xa="severityLevel",x5="problemGroup",J1="isManual",_5="CreateFromInterface",Di="assembly",_a="fileName",b5="hasFullStack",Q1="level",Kf="method",Z1="line",Gf="duration",E4="receivedResponse";function S4(v,T,w){var R=T[o0],z=Wf(v,T);if(z[o0]!==R){for(var ne=0,me=z;w[me]!==void 0;)ne++,me=Gt(z,0,147)+W6(ne);z=me}return z}s(S4,"dataSanitizeKeyAndAddUniqueness");function Wf(v,T){var w;return T&&(T=ys(J0(T)),T[o0]>150&&(w=Gt(T,0,150),Vn(v,2,57,"name is too long.  It has been truncated to 150 characters.",{name:T},!0))),w||T}s(Wf,"dataSanitizeKey");function Tn(v,T,w){w===void 0&&(w=1024);var R;return T&&(w=w||1024,T=ys(J0(T)),T[o0]>w&&(R=Gt(T,0,w),Vn(v,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:T},!0))),R||T}s(Tn,"dataSanitizeString");function Sl(v,T){return wl(v,T,2048,66)}s(Sl,"dataSanitizeUrl");function w4(v,T){var w;return T&&T[o0]>32768&&(w=Gt(T,0,32768),Vn(v,2,56,"message is too long, it has been truncated to 32768 characters.",{message:T},!0)),w||T}s(w4,"dataSanitizeMessage");function eu(v,T){var w;if(T){var R=""+T;R[o0]>32768&&(w=Gt(R,0,32768),Vn(v,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:T},!0))}return w||T}s(eu,"dataSanitizeException");function Ys(v,T){if(T){var w={};G(T,function(R,z){if(le(z)&&gl())try{z=D1()[Y1](z)}catch(ne){Vn(v,2,49,"custom property is not valid",{exception:ne},!0)}z=Tn(v,z,8192),R=S4(v,R,w),w[R]=z}),T=w}return T}s(Ys,"dataSanitizeProperties");function Es(v,T){if(T){var w={};G(T,function(R,z){R=S4(v,R,w),w[R]=z}),T=w}return T}s(Es,"dataSanitizeMeasurements");function Yf(v,T){return T&&wl(v,T,128,69)[Cl]()}s(Yf,"dataSanitizeId");function wl(v,T,w,R){var z;return T&&(T=ys(J0(T)),T[o0]>w&&(z=Gt(T,0,w),Vn(v,2,R,"input is too long, it has been truncated to "+w+" characters.",{data:T},!0))),z||T}s(wl,"dataSanitizeInput");function W6(v){var T="00"+v;return G0(T,T[o0]-3)}s(W6,"dsPadNumber");var Y6=ui()||{},X6=0,Uv=[null,null,null,null,null];function En(v){var T=X6,w=Uv,R=w[T];return Y6.createElement?w[T]||(R=w[T]=Y6.createElement("a")):R={host:Q6(v,!0)},R.href=v,T++,T>=w[o0]&&(T=0),X6=T,R}s(En,"urlParseUrl");function Xf(v){var T,w=En(v);return w&&(T=w.href),T}s(Xf,"urlGetAbsoluteUrl");function Jf(v){var T,w=En(v);return w&&(T=w[v5]),T}s(Jf,"urlGetPathName");function J6(v,T){return v?v.toUpperCase()+" "+T:T}s(J6,"urlGetCompleteUrl");function Q6(v,T){var w=I4(v,T)||"";if(w){var R=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>3&&ce(R[2])&&R[2][o0]>0)return R[2]+(R[3]||"")}return w}s(Q6,"urlParseHost");function I4(v,T){var w=null;if(v){var R=v.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>2&&ce(R[2])&&R[2][o0]>0&&(w=R[2]||"",T&&R[o0]>2)){var z=(R[1]||"")[Hf](),ne=R[3]||"";(z==="http"&&ne===":80"||z==="https"&&ne===":443")&&(ne=""),w+=ne}}return w}s(I4,"urlParseFullHost");var qv=[b4+m5,"https://breeze.aimon.applicationinsights.io"+m5,"https://dc-int.services.visualstudio.com"+m5],tu="cid-v1:";function Xs(v){return sa(qv,v[Hf]())!==-1}s(Xs,"isInternalApplicationInsightsEndpoint");function A4(v){tu=v}s(A4,"correlationIdSetPrefix");function C5(){return tu}s(C5,"correlationIdGetPrefix");function T5(v,T,w){if(!T||v&&v.disableCorrelationHeaders)return!1;if(v&&v[G6]){for(var R=0;R<v.correlationHeaderExcludePatterns[o0];R++)if(v[G6][R].test(T))return!1}var z=En(T).host[Hf]();if(z&&(c1(z,":443")!==-1||c1(z,":80")!==-1)&&(z=(I4(T,!0)||"")[Hf]()),(!v||!v.enableCorsCorrelation)&&z&&z!==w)return!1;var ne=v&&v.correlationHeaderDomains;if(ne){var me;if(di(ne,function(We){var ht=new RegExp(We.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));me=me||ht.test(z)}),!me)return!1}var Se=v&&v.correlationHeaderExcludedDomains;if(!Se||Se[o0]===0)return!0;for(var R=0;R<Se[o0];R++){var Le=new RegExp(Se[R].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Le.test(z))return!1}return z&&z[o0]>0}s(T5,"correlationIdCanIncludeCorrelationHeader");function jv(v){if(v){var T=Z6(v,K6[1]);if(T&&T!==tu)return T}}s(jv,"correlationIdGetCorrelationContext");function Z6(v,T){if(v)for(var w=v[$f](","),R=0;R<w[o0];++R){var z=w[R][$f]("=");if(z[o0]===2&&z[0]===T)return z[1]}}s(Z6,"correlationIdGetCorrelationContextValue");function em(v,T,w,R){var z,ne=R,me=R;if(T&&T[o0]>0){var Se=En(T);if(z=Se.host,!ne)if(Se[v5]!=null){var Le=Se.pathname[o0]===0?"/":Se[v5];Le.charAt(0)!=="/"&&(Le="/"+Le),me=Se[v5],ne=Tn(v,w?w+" "+Le:Le)}else ne=Tn(v,T)}else z=R,ne=R;return{target:z,name:ne,data:me}}s(em,"AjaxHelperParseDependencyPath");function $v(){var v=Fd();if(v&&v.now&&v.timing){var T=v.now()+v.timing.navigationStart;if(T>0)return T}return oa()}s($v,"dateTimeUtilsNow");function Qf(v,T){var w=null;return v!==0&&T!==0&&!be(v)&&!be(T)&&(w=T-v),w}s(Qf,"dateTimeUtilsDuration");function tm(v,T){var w=v||{};return{getName:function(){return w[Xi]},setName:function(R){T&&T.setName(R),w[Xi]=R},getTraceId:function(){return w.traceID},setTraceId:function(R){T&&T.setTraceId(R),u4(R)&&(w.traceID=R)},getSpanId:function(){return w.parentID},setSpanId:function(R){T&&T.setSpanId(R),d4(R)&&(w.parentID=R)},getTraceFlags:function(){return w.traceFlags},setTraceFlags:function(R){T&&T.setTraceFlags(R),w.traceFlags=R}}}s(tm,"createDistributedTraceContextFromTrace");var ru=vs({LocalStorage:0,SessionStorage:1}),Hv=vs({AI:0,AI_AND_W3C:1,W3C:2}),Vv=vs({Normal:1,Critical:2}),ba=void 0,Ca=void 0,P4="";function nu(){return ec()?Zf(ru.LocalStorage):null}s(nu,"_getLocalStorageObject");function Zf(v){try{if(be(jn()))return null;var T=new Date()[Cl](),w=lr(v===ru.LocalStorage?"localStorage":"sessionStorage"),R=P4+T;w.setItem(R,T);var z=w.getItem(R)!==T;if(w[g5](R),!z)return w}catch{}return null}s(Zf,"_getVerifiedStorageObject");function iu(){return su()?Zf(ru.SessionStorage):null}s(iu,"_getSessionStorageObject");function E5(){ba=!1,Ca=!1}s(E5,"utlDisableStorage");function rm(v){P4=v||""}s(rm,"utlSetStoragePrefix");function Ot(){ba=ec(!0),Ca=su(!0)}s(Ot,"utlEnableStorage");function ec(v){return(v||ba===void 0)&&(ba=!!Zf(ru.LocalStorage)),ba}s(ec,"utlCanUseLocalStorage");function S5(v,T){var w=nu();if(w!==null)try{return w.getItem(T)}catch(R){ba=!1,Vn(v,2,1,"Browser failed read of local storage. "+b0(R),{exception:Y(R)})}return null}s(S5,"utlGetLocalStorage");function Ta(v,T,w){var R=nu();if(R!==null)try{return R.setItem(T,w),!0}catch(z){ba=!1,Vn(v,2,3,"Browser failed write to local storage. "+b0(z),{exception:Y(z)})}return!1}s(Ta,"utlSetLocalStorage");function nm(v,T){var w=nu();if(w!==null)try{return w[g5](T),!0}catch(R){ba=!1,Vn(v,2,5,"Browser failed removal of local storage item. "+b0(R),{exception:Y(R)})}return!1}s(nm,"utlRemoveStorage");function su(v){return(v||Ca===void 0)&&(Ca=!!Zf(ru.SessionStorage)),Ca}s(su,"utlCanUseSessionStorage");function R4(){var v=[];return su()&&G(lr("sessionStorage"),function(T){v[W1](T)}),v}s(R4,"utlGetSessionStorageKeys");function k4(v,T){var w=iu();if(w!==null)try{return w.getItem(T)}catch(R){Ca=!1,Vn(v,2,2,"Browser failed read of session storage. "+b0(R),{exception:Y(R)})}return null}s(k4,"utlGetSessionStorage");function im(v,T,w){var R=iu();if(R!==null)try{return R.setItem(T,w),!0}catch(z){Ca=!1,Vn(v,2,4,"Browser failed write to session storage. "+b0(z),{exception:Y(z)})}return!1}s(im,"utlSetSessionStorage");function N4(v,T){var w=iu();if(w!==null)try{return w[g5](T),!0}catch(R){Ca=!1,Vn(v,2,6,"Browser failed removal of session storage item. "+b0(R),{exception:Y(R)})}return!1}s(N4,"utlRemoveSessionStorage");var sm="appInsightsThrottle",w5=function(){function v(T,w){var R=this,z,ne,me,Se,Le,We,ht,a0=!1,i0=!1;At(),R._getDbgPlgTargets=function(){return[ht]},R.getConfig=function(){return me},R.canThrottle=function(st){var Nt=P5(st),l0=C0(st);return m0(l0,z,Nt)},R.isTriggered=function(st){return ym(st)},R.isReady=function(){return a0},R.flush=function(st){try{var Nt=X4(st);if(Nt&&Nt[o0]>0){var l0=Nt.slice(0);return ht[st]=[],di(l0,function(hr){Zt(hr.msgID,hr[yi],hr.severity,!1)}),!0}}catch{}return!1},R.flushAll=function(){try{if(ht){var st=!0;return G(ht,function(Nt){var l0=R.flush(parseInt(Nt));st=st&&l0}),st}}catch{}return!1},R.onReadyState=function(st,Nt){return Nt===void 0&&(Nt=!0),a0=be(st)?!0:st,a0&&Nt?R.flushAll():null},R.sendMessage=function(st,Nt,l0){return Zt(st,Nt,l0,!0)};function Zt(st,Nt,l0,hr){if(a0){var zr=pm(st);if(!zr)return;var Mr=C0(st),Ur=P5(st),Rl=m0(Mr,z,Ur),Mo=!1,Uo=0,Pa=ym(st);try{Rl&&!Pa?(Uo=Math.min(Mr.limit.maxSendNumber,Ur[Tl]+1),Ur[Tl]=0,Mo=!0,Le[st]=!0,Ur[p5]=new Date):(Le[st]=Rl,Ur[Tl]+=1);var oc=e0(st);gm(ne,oc,Ur);for(var lu=0;lu<Uo;lu++)Y4(st,ne,Nt,l0)}catch{}return{isThrottled:Mo,throttleNum:Uo}}else if(hr){var B0=X4(st);B0[W1]({msgID:st,message:Nt,severity:l0})}return null}s(Zt,"_flushMessage");function At(){ne=xl(T),Le={},Se={},ht={},me={},zt(109),We=e5(w)?w:"",T.addUnloadHook(c5(T.config,function(st){var Nt=st.cfg;z=ec();var l0=Nt.throttleMgrCfg||{};G(l0,function(hr,zr){zt(parseInt(hr),zr)})}))}s(At,"_initConfig");function C0(st){return me[st]||me[109]}s(C0,"_getCfgByKey");function zt(st,Nt){var l0,hr;try{var zr=Nt||{},Mr={};Mr[y5]=!!zr[y5];var Ur=zr[El]||{};i0=(Ur==null?void 0:Ur.daysOfMonth)&&(Ur==null?void 0:Ur.daysOfMonth[o0])>0,Mr[El]=U0(Ur);var Rl={samplingRate:((l0=zr.limit)===null||l0===void 0?void 0:l0.samplingRate)||100,maxSendNumber:((hr=zr.limit)===null||hr===void 0?void 0:hr.maxSendNumber)||1};Mr.limit=Rl,me[st]=Mr}catch{}}s(zt,"_setCfgByKey");function U0(st){st=st||{};var Nt=st==null?void 0:st.monthInterval,l0=st==null?void 0:st.dayInterval;return be(Nt)&&be(l0)&&(st.monthInterval=3,i0||(st[Vf]=[28],i0=!0)),st={monthInterval:st==null?void 0:st.monthInterval,dayInterval:st==null?void 0:st.dayInterval,daysOfMonth:st==null?void 0:st.daysOfMonth},st}s(U0,"_getIntervalConfig");function m0(st,Nt,l0){if(st&&!st[y5]&&Nt&&e5(l0)){var hr=Aa(),zr=l0[C4],Mr=st[El],Ur=1;if(Mr!=null&&Mr.monthInterval){var Rl=(hr.getUTCFullYear()-zr.getUTCFullYear())*12+hr.getUTCMonth()-zr.getUTCMonth();Ur=W4(Mr.monthInterval,0,Rl)}var Mo=1;if(i0)Mo=sa(Mr[Vf],hr[T4]());else if(Mr!=null&&Mr.dayInterval){var Uo=Math.floor((hr.getTime()-zr.getTime())/864e5);Mo=W4(Mr.dayInterval,0,Uo)}return Ur>=0&&Mo>=0}return!1}s(m0,"_canThrottle");function e0(st,Nt){var l0=e5(Nt)?Nt:"";return st?sm+l0+"-"+st:null}s(e0,"_getLocalStorageName");function wr(st){try{if(st){var Nt=new Date;return st.getUTCFullYear()===Nt.getUTCFullYear()&&st.getUTCMonth()===Nt.getUTCMonth()&&st[T4]()===Nt[T4]()}}catch{}return!1}s(wr,"_isTriggeredOnCurDate");function sc(st,Nt,l0){try{var hr={date:Aa(),count:0};if(st){var zr=JSON.parse(st),Mr={date:Aa(zr[C4])||hr[C4],count:zr[Tl]||hr[Tl],preTriggerDate:zr.preTriggerDate?Aa(zr[p5]):void 0};return Mr}else return gm(Nt,l0,hr),hr}catch{}return null}s(sc,"_getLocalStorageObj");function Aa(st){try{if(st){var Nt=new Date(st);if(!isNaN(Nt.getDate()))return Nt}else return new Date}catch{}return null}s(Aa,"_getThrottleDate");function gm(st,Nt,l0){try{return Ta(st,Nt,ys(JSON[Y1](l0)))}catch{}return!1}s(gm,"_resetLocalStorage");function W4(st,Nt,l0){return st<=0?1:l0>=Nt&&(l0-Nt)%st==0?Math.floor((l0-Nt)/st)+1:-1}s(W4,"_checkInterval");function Y4(st,Nt,l0,hr){Vn(Nt,hr||1,st,l0)}s(Y4,"_sendMessage");function pm(st){try{var Nt=C0(st);return k6(1e6)<=Nt.limit.samplingRate}catch{}return!1}s(pm,"_canSampledIn");function P5(st){try{var Nt=Se[st];if(!Nt){var l0=e0(st,We);Nt=sc(S5(ne,l0),ne,l0),Se[st]=Nt}return Se[st]}catch{}return null}s(P5,"_getLocalStorageObjByKey");function ym(st){var Nt=Le[st];if(be(Nt)){Nt=!1;var l0=P5(st);l0&&(Nt=wr(l0[p5])),Le[st]=Nt}return Le[st]}s(ym,"_isTrigger");function X4(st){return ht=ht||{},be(ht[st])&&(ht[st]=[]),ht[st]}s(X4,"_getQueueByKey")}return s(v,"ThrottleMgr"),v}(),D4=";",om="=";function Ss(v){if(!v)return{};var T=v[$f](D4),w=O2(T,function(z,ne){var me=ne[$f](om);if(me[o0]===2){var Se=me[0][Hf](),Le=me[1];z[Se]=Le}return z},{});if(Lt(w)[o0]>0){if(w.endpointsuffix){var R=w.location?w.location+".":"";w[Gs]=w[Gs]||"https://"+R+"dc."+w.endpointsuffix}w[Gs]=w[Gs]||b4,Cv(w[Gs],"/")&&(w[Gs]=w[Gs].slice(0,-1))}return w}s(Ss,"parseConnectionString");var am={parse:Ss},lm=function(){function v(T,w,R){var z=this,ne=this;ne.ver=1,ne.sampleRate=100,ne.tags={},ne[Xi]=Tn(T,R)||Ni,ne.data=w,ne.time=R1(new Date),ne.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return z.sampleRate===100?4:1},tags:1,data:1}}return s(v,"Envelope"),v}(),zv=function(){function v(T,w,R,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var ne=this;ne.ver=2,ne[Xi]=Tn(T,w)||Ni,ne[Ts]=Ys(T,R),ne[Lo]=Es(T,z)}return s(v,"Event"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Event",v.dataType="EventData",v}(),L4="<no_method>",Bo="error",Gn="stack",B4="stackDetails",O4="errorSrc",F4="message",M4="description";function I5(v,T){var w=v;return w&&!ce(w)&&(JSON&&JSON[Y1]?(w=JSON[Y1](v),T&&(!w||w==="{}")&&(ve(v[Cl])?w=v[Cl]():w=""+v)):w=""+v+" - (Missing JSON.stringify)"),w||""}s(I5,"_stringify");function U4(v,T){var w=v;return v&&(w&&!ce(w)&&(w=v[F4]||v[M4]||w),w&&!ce(w)&&(w=I5(w,!0)),v.filename&&(w=w+" @"+(v.filename||"")+":"+(v.lineno||"?")+":"+(v.colno||"?"))),T&&T!=="String"&&T!=="Object"&&T!=="Error"&&c1(w||"",T)===-1&&(w=T+": "+w),w||""}s(U4,"_formatMessage");function fm(v){try{if(le(v))return"hasFullStack"in v&&"typeName"in v}catch{}return!1}s(fm,"_isExceptionDetailsInternal");function Kv(v){try{if(le(v))return"ver"in v&&"exceptions"in v&&"properties"in v}catch{}return!1}s(Kv,"_isExceptionInternal");function q4(v){return v&&v.src&&ce(v.src)&&v.obj&&Ee(v.obj)}s(q4,"_isStackDetails");function Il(v){var T=v||"";ce(T)||(ce(T[Gn])?T=T[Gn]:T=""+T);var w=T[$f](`
`);return{src:T,obj:w}}s(Il,"_convertStackObj");function Gv(v){for(var T=[],w=v[$f](`
`),R=0;R<w[o0];R++){var z=w[R];w[R+1]&&(z+="@"+w[R+1],R++),T[W1](z)}return{src:v,obj:T}}s(Gv,"_getOperaStack");function tc(v){var T=null;if(v)try{if(v[Gn])T=Il(v[Gn]);else if(v[Bo]&&v[Bo][Gn])T=Il(v[Bo][Gn]);else if(v.exception&&v.exception[Gn])T=Il(v.exception[Gn]);else if(q4(v))T=v;else if(q4(v[B4]))T=v[B4];else if(rr()&&rr().opera&&v[F4])T=Gv(v[yi]);else if(v.reason&&v.reason[Gn])T=Il(v.reason[Gn]);else if(ce(v))T=Il(v);else{var w=v[F4]||v[M4]||"";ce(v[O4])&&(w&&(w+=`
`),w+=" from "+v[O4]),w&&(T=Il(w))}}catch(R){T=Il(R)}return T||{src:"",obj:null}}s(tc,"_getStackFromErrorObj");function Wv(v){var T="";return v&&(v.obj?di(v.obj,function(w){T+=w+`
`}):T=v.src||""),T}s(Wv,"_formatStackTrace");function rc(v){var T,w=v.obj;if(w&&w[o0]>0){T=[];var R=0,z=0;di(w,function(At){var C0=At[Cl]();if(j4.regex.test(C0)){var zt=new j4(C0,R++);z+=zt[Ji],T[W1](zt)}});var ne=32*1024;if(z>ne)for(var me=0,Se=T[o0]-1,Le=0,We=me,ht=Se;me<Se;){var a0=T[me][Ji],i0=T[Se][Ji];if(Le+=a0+i0,Le>ne){var Zt=ht-We+1;T.splice(We,Zt);break}We=me,ht=Se,me++,Se--}}return T}s(rc,"_parseStack");function nc(v){var T="";if(v&&(T=v.typeName||v[Xi]||"",!T))try{var w=/function (.{1,200})\(/,R=w.exec(v.constructor[Cl]());T=R&&R[o0]>1?R[1]:""}catch{}return T}s(nc,"_getErrorType");function Al(v){if(v)try{if(!ce(v)){var T=nc(v),w=I5(v,!1);return(!w||w==="{}")&&(v[Bo]&&(v=v[Bo],T=nc(v)),w=I5(v,!0)),c1(w,T)!==0&&T!=="String"?T+":"+w:w}}catch{}return""+(v||"")}s(Al,"_formatErrorCode");var Yv=function(){function v(T,w,R,z,ne,me){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Se=this;Se.ver=2,Kv(w)?(Se[zf]=w[zf]||[],Se[Ts]=w[Ts],Se[Lo]=w[Lo],w[xa]&&(Se[xa]=w[xa]),w.id&&(Se.id=w.id,w[Ts].id=w.id),w[x5]&&(Se[x5]=w[x5]),be(w[J1])||(Se[J1]=w[J1])):(R||(R={}),me&&(R.id=me),Se[zf]=[new ou(T,w,R)],Se[Ts]=Ys(T,R),Se[Lo]=Es(T,z),ne&&(Se[xa]=ne),me&&(Se.id=me))}return s(v,"Exception"),v.CreateAutoException=function(T,w,R,z,ne,me,Se,Le){var We,ht=nc(ne||me||T);return We={},We[yi]=U4(T,ht),We.url=w,We.lineNumber=R,We.columnNumber=z,We.error=Al(ne||me||T),We.evt=Al(me||T),We[Ws]=ht,We.stackDetails=tc(Se||ne||me),We.errorSrc=Le,We},v.CreateFromInterface=function(T,w,R,z){var ne=w[zf]&&ll(w[zf],function(Se){return ou[_5](T,Se)}),me=new v(T,ul(ul({},w),{exceptions:ne}),R,z);return me},v.prototype.toInterface=function(){var T,w=this,R=w.exceptions,z=w.properties,ne=w.measurements,me=w.severityLevel,Se=w.problemGroup,Le=w.id,We=w.isManual,ht=R instanceof Array&&ll(R,function(a0){return a0.toInterface()})||void 0;return T={ver:"4.0"},T[zf]=ht,T.severityLevel=me,T.properties=z,T.measurements=ne,T.problemGroup=Se,T.id=Le,T.isManual=We,T},v.CreateSimpleException=function(T,w,R,z,ne,me){var Se;return{exceptions:[(Se={},Se[b5]=!0,Se.message=T,Se.stack=ne,Se.typeName=w,Se)]}},v.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",v.dataType="ExceptionData",v.formatError=Al,v}(),ou=function(){function v(T,w,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var z=this;if(fm(w))z[Ws]=w[Ws],z[yi]=w[yi],z[Gn]=w[Gn],z[Cs]=w[Cs]||[],z[b5]=w[b5];else{var ne=w,me=ne&&ne.evt;mt(ne)||(ne=ne[Bo]||me||ne),z[Ws]=Tn(T,nc(ne))||Ni,z[yi]=w4(T,U4(w||ne,z[Ws]))||Ni;var Se=w[B4]||tc(w);z[Cs]=rc(Se),Ee(z[Cs])&&ll(z[Cs],function(Le){Le[Di]=Tn(T,Le[Di]),Le[_a]=Tn(T,Le[_a])}),z[Gn]=eu(T,Wv(Se)),z.hasFullStack=Ee(z.parsedStack)&&z.parsedStack[o0]>0,R&&(R[Ws]=R[Ws]||z[Ws])}}return s(v,"_ExceptionDetails"),v.prototype.toInterface=function(){var T,w=this,R=w[Cs]instanceof Array&&ll(w[Cs],function(ne){return ne.toInterface()}),z=(T={id:w.id,outerId:w.outerId,typeName:w[Ws],message:w[yi],hasFullStack:w[b5],stack:w[Gn]},T[Cs]=R||void 0,T);return z},v.CreateFromInterface=function(T,w){var R=w[Cs]instanceof Array&&ll(w[Cs],function(ne){return j4[_5](ne)})||w[Cs],z=new v(T,ul(ul({},w),{parsedStack:R}));return z},v}(),j4=function(){function v(T,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Ji]=0,typeof T=="string"){var z=T;R[Q1]=w,R[Kf]=L4,R[Di]=ys(z),R[_a]="",R[Z1]=0;var ne=z.match(v.regex);ne&&ne[o0]>=5&&(R[Kf]=ys(ne[2])||R[Kf],R[_a]=ys(ne[4]),R[Z1]=parseInt(ne[5])||0)}else R[Q1]=T[Q1],R[Kf]=T[Kf],R[Di]=T[Di],R[_a]=T[_a],R[Z1]=T[Z1],R[Ji]=0;R.sizeInBytes+=R.method[o0],R.sizeInBytes+=R.fileName[o0],R.sizeInBytes+=R.assembly[o0],R[Ji]+=v.baseSize,R.sizeInBytes+=R.level.toString()[o0],R.sizeInBytes+=R.line.toString()[o0]}return s(v,"_StackFrame"),v.CreateFromInterface=function(T){return new v(T,null)},v.prototype.toInterface=function(){var T=this;return{level:T[Q1],method:T[Kf],assembly:T[Di],fileName:T[_a],line:T[Z1]}},v.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,v.baseSize=58,v}(),$4=function(){function v(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(v,"DataPoint"),v}(),cm=function(){function v(T,w,R,z,ne,me,Se,Le,We){this.aiDataContract={ver:1,metrics:1,properties:0};var ht=this;ht.ver=2;var a0=new $4;a0[Tl]=z>0?z:void 0,a0.max=isNaN(me)||me===null?void 0:me,a0.min=isNaN(ne)||ne===null?void 0:ne,a0[Xi]=Tn(T,w)||Ni,a0.value=R,a0.stdDev=isNaN(Se)||Se===null?void 0:Se,ht.metrics=[a0],ht[Ts]=Ys(T,Le),ht[Lo]=Es(T,We)}return s(v,"Metric"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",v.dataType="MetricData",v}(),au="";function Xv(v,T){return T===void 0&&(T=!1),v==null?T:v.toString()[Hf]()==="true"}s(Xv,"stringToBoolOrDefault");function H4(v){(isNaN(v)||v<0)&&(v=0),v=Math.round(v);var T=au+v%1e3,w=au+Math.floor(v/1e3)%60,R=au+Math.floor(v/(1e3*60))%60,z=au+Math.floor(v/(1e3*60*60))%24,ne=Math.floor(v/(1e3*60*60*24));return T=T[o0]===1?"00"+T:T[o0]===2?"0"+T:T,w=w[o0]<2?"0"+w:w,R=R[o0]<2?"0"+R:R,z=z[o0]<2?"0"+z:z,(ne>0?ne+".":au)+z+":"+R+":"+w+"."+T}s(H4,"msToTimeSpan");function um(v,T){var w=null;return di(v,function(R){if(R.identifier===T)return w=R,-1}),w}s(um,"getExtensionByName");function Jv(v,T,w,R,z){return!z&&ce(v)&&(v==="Script error."||v==="Script error")}s(Jv,"isCrossOriginError");var Qv=function(){function v(T,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Le=this;Le.ver=2,Le.id=Yf(T,Se),Le.url=Sl(T,R),Le[Xi]=Tn(T,w)||Ni,isNaN(z)||(Le[Gf]=H4(z)),Le[Ts]=Ys(T,ne),Le[Lo]=Es(T,me)}return s(v,"PageView"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",v.dataType="PageviewData",v}(),Zv=function(){function v(T,w,R,z,ne,me,Se,Le,We,ht,a0,i0){We===void 0&&(We="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Zt=this;Zt.ver=2,Zt.id=w,Zt[Gf]=H4(ne),Zt.success=me,Zt.resultCode=Se+"",Zt.type=Tn(T,We);var At=em(T,R,Le,z);Zt.data=Sl(T,z)||At.data,Zt.target=Tn(T,At.target),ht&&(Zt.target="".concat(Zt.target," | ").concat(ht)),Zt[Xi]=Tn(T,At[Xi]),Zt[Ts]=Ys(T,a0),Zt[Lo]=Es(T,i0)}return s(v,"RemoteDependencyData"),v.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",v.dataType="RemoteDependencyData",v}(),Pl=function(){function v(T,w,R,z,ne){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var me=this;me.ver=2,w=w||Ni,me[yi]=w4(T,w),me[Ts]=Ys(T,z),me[Lo]=Es(T,ne),R&&(me[xa]=R)}return s(v,"Trace"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Message",v.dataType="MessageData",v}(),dm=function(){function v(T,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Le=this;Le.ver=2,Le.url=Sl(T,R),Le[Xi]=Tn(T,w)||Ni,Le[Ts]=Ys(T,ne),Le[Lo]=Es(T,me),Se&&(Le.domProcessing=Se.domProcessing,Le[Gf]=Se[Gf],Le.networkConnect=Se.networkConnect,Le.perfTotal=Se.perfTotal,Le[E4]=Se[E4],Le.sentRequest=Se.sentRequest)}return s(v,"PageViewPerformance"),v.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",v.dataType="PageviewPerformanceData",v}(),V4=function(){function v(T,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=T,this.baseData=w}return s(v,"Data"),v}(),ex=vs({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),tx=function(){function v(){}return s(v,"ConfigurationManager"),v.getConfig=function(T,w,R,z){z===void 0&&(z=!1);var ne;return R&&T[X1]&&T[X1][R]&&!be(T[X1][R][w])?ne=T[X1][R][w]:ne=T[w],be(ne)?z:ne},v}();function Oo(v){var T="ai."+v+".";return function(w){return T+w}}s(Oo,"_aiNameFunc");var ic=Oo("application"),Fr=Oo("device"),A5=Oo("location"),Ea=Oo("operation"),Sa=Oo("session"),ws=Oo("user"),Fo=Oo("cloud"),Is=Oo("internal"),hm=function(v){Y2(T,v);function T(){return v.call(this)||this}return s(T,"ContextTagKeys"),T}(t5({applicationVersion:ic("ver"),applicationBuild:ic("build"),applicationTypeId:ic("typeId"),applicationId:ic("applicationId"),applicationLayer:ic("layer"),deviceId:Fr("id"),deviceIp:Fr("ip"),deviceLanguage:Fr("language"),deviceLocale:Fr("locale"),deviceModel:Fr("model"),deviceFriendlyName:Fr("friendlyName"),deviceNetwork:Fr("network"),deviceNetworkName:Fr("networkName"),deviceOEMName:Fr("oemName"),deviceOS:Fr("os"),deviceOSVersion:Fr("osVersion"),deviceRoleInstance:Fr("roleInstance"),deviceRoleName:Fr("roleName"),deviceScreenResolution:Fr("screenResolution"),deviceType:Fr("type"),deviceMachineName:Fr("machineName"),deviceVMName:Fr("vmName"),deviceBrowser:Fr("browser"),deviceBrowserVersion:Fr("browserVersion"),locationIp:A5("ip"),locationCountry:A5("country"),locationProvince:A5("province"),locationCity:A5("city"),operationId:Ea("id"),operationName:Ea("name"),operationParentId:Ea("parentId"),operationRootId:Ea("rootId"),operationSyntheticSource:Ea("syntheticSource"),operationCorrelationVector:Ea("correlationVector"),sessionId:Sa("id"),sessionIsFirst:Sa("isFirst"),sessionIsNew:Sa("isNew"),userAccountAcquisitionDate:ws("accountAcquisitionDate"),userAccountId:ws("accountId"),userAgent:ws("userAgent"),userId:ws("id"),userStoreRegion:ws("storeRegion"),userAuthUserId:ws("authUserId"),userAnonymousUserAcquisitionDate:ws("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ws("authUserAcquisitionDate"),cloudName:Fo("name"),cloudRole:Fo("role"),cloudRoleVer:Fo("roleVer"),cloudRoleInstance:Fo("roleInstance"),cloudEnvironment:Fo("environment"),cloudLocation:Fo("location"),cloudDeploymentUnit:Fo("deploymentUnit"),internalNodeName:Is("nodeName"),internalSdkVersion:Is("sdkVersion"),internalAgentVersion:Is("agentVersion"),internalSnippet:Is("snippet"),internalSdkSrc:Is("sdkSrc")}));function z4(v,T,w,R,z,ne){var me;w=Tn(R,w)||Ni,(be(v)||be(T)||be(w))&&he("Input doesn't contain all required fields");var Se="";v[Ks]&&(Se=v[Ks],delete v[Ks]);var Le=(me={},me[Xi]=w,me.time=R1(new Date),me.iKey=Se,me.ext=ne||{},me.tags=[],me.data={},me.baseType=T,me.baseData=v,me);return be(z)||G(z,function(We,ht){Le.data[We]=ht}),Le}s(z4,"createTelemetryItem");var mm=function(){function v(){}return s(v,"TelemetryItemCreator"),v.create=z4,v}(),K4={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},wa=new hm;function rx(v){var T=null;if(ve(Event))T=new Event(v);else{var w=ui();w&&w.createEvent&&(T=w.createEvent("Event"),T.initEvent(v,!0,!0))}return T}s(rx,"createDomEvent");function G4(v,T){x4(v,null,null,T)}s(G4,"_disableEvents");function nx(v){var T=ui(),w=$n(),R=!1,z=[],ne=1;w&&!be(w.onLine)&&!w.onLine&&(ne=2);var me=0,Se=i0(),Le=V6(pi("OfflineListener"),v);try{if(ht(rr())&&(R=!0),T){var We=T.body||T;We.ononline&&ht(We)&&(R=!0)}}catch{R=!1}function ht(e0){var wr=!1;return e0&&(wr=h5(e0,"online",C0,Le),wr&&h5(e0,"offline",zt,Le)),wr}s(ht,"_enableEvents");function a0(){return Se}s(a0,"_isOnline");function i0(){return!(me===2||ne===2)}s(i0,"calCurrentState");function Zt(){var e0=i0();Se!==e0&&(Se=e0,di(z,function(wr){var sc={isOnline:Se,rState:ne,uState:me};try{wr(sc)}catch{}}))}s(Zt,"listnerNoticeCheck");function At(e0){me=e0,Zt()}s(At,"setOnlineState");function C0(){ne=1,Zt()}s(C0,"_setOnline");function zt(){ne=2,Zt()}s(zt,"_setOffline");function U0(){var e0=rr();if(e0&&R){if(G4(e0,Le),T){var wr=T.body||T;Ae(wr.ononline)||G4(wr,Le)}R=!1}}s(U0,"_unload");function m0(e0){return z[W1](e0),{rm:function(){var wr=z.indexOf(e0);if(wr>-1)return z.splice(wr,1)}}}return s(m0,"addListener"),{isOnline:a0,isListening:function(){return R},unload:U0,addListener:m0,setOnlineState:At}}s(nx,"createOfflineListener");var ix="AppInsightsPropertiesPlugin",sx="AppInsightsChannelPlugin",Ia="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Ia,e.BreezeChannelIdentifier=sx,e.ConfigurationManager=tx,e.ConnectionStringParser=am,e.ContextTagKeys=hm,e.CtxTagKeys=wa,e.DEFAULT_BREEZE_ENDPOINT=b4,e.DEFAULT_BREEZE_PATH=m5,e.Data=V4,e.DisabledPropertyName=Mv,e.DistributedTracingModes=Hv,e.Envelope=lm,e.Event=zv,e.EventPersistence=Vv,e.Exception=Yv,e.Extensions=K4,e.HttpMethod=z6,e.Metric=cm,e.PageView=Qv,e.PageViewPerformance=dm,e.ProcessLegacy=_4,e.PropertiesPluginIdentifier=ix,e.RemoteDependencyData=Zv,e.RequestHeaders=K6,e.SampleRate=jf,e.SeverityLevel=ex,e.TelemetryItemCreator=mm,e.ThrottleMgr=w5,e.Trace=Pl,e.correlationIdCanIncludeCorrelationHeader=T5,e.correlationIdGetCorrelationContext=jv,e.correlationIdGetCorrelationContextValue=Z6,e.correlationIdGetPrefix=C5,e.correlationIdSetPrefix=A4,e.createDistributedTraceContextFromTrace=tm,e.createDomEvent=rx,e.createOfflineListener=nx,e.createTelemetryItem=z4,e.createTraceParent=f4,e.dataSanitizeException=eu,e.dataSanitizeId=Yf,e.dataSanitizeInput=wl,e.dataSanitizeKey=Wf,e.dataSanitizeKeyAndAddUniqueness=S4,e.dataSanitizeMeasurements=Es,e.dataSanitizeMessage=w4,e.dataSanitizeProperties=Ys,e.dataSanitizeString=Tn,e.dataSanitizeUrl=Sl,e.dateTimeUtilsDuration=Qf,e.dateTimeUtilsNow=$v,e.dsPadNumber=W6,e.findW3cTraceParent=Cn,e.formatTraceParent=m4,e.getExtensionByName=um,e.isBeaconApiSupported=P6,e.isCrossOriginError=Jv,e.isInternalApplicationInsightsEndpoint=Xs,e.isSampledFlag=h4,e.isValidSpanId=d4,e.isValidTraceId=u4,e.isValidTraceParent=M6,e.msToTimeSpan=H4,e.parseConnectionString=Ss,e.parseTraceParent=c4,e.strNotSpecified=Ni,e.stringToBoolOrDefault=Xv,e.urlGetAbsoluteUrl=Xf,e.urlGetCompleteUrl=J6,e.urlGetPathName=Jf,e.urlParseFullHost=I4,e.urlParseHost=Q6,e.urlParseUrl=En,e.utlCanUseLocalStorage=ec,e.utlCanUseSessionStorage=su,e.utlDisableStorage=E5,e.utlEnableStorage=Ot,e.utlGetLocalStorage=S5,e.utlGetSessionStorage=k4,e.utlGetSessionStorageKeys=R4,e.utlRemoveSessionStorage=N4,e.utlRemoveStorage=nm,e.utlSetLocalStorage=Ta,e.utlSetSessionStorage=im,e.utlSetStoragePrefix=rm})});var fj=ae((mp,lj)=>{(function(e,t){typeof mp=="object"&&typeof lj<"u"?t(mp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(mp,function(e){"use strict";var t=void 0,r=null,n="",i="boolean",o="function",a="number",l="object",f="prototype",c="__proto__",u="string",d="undefined",g="constructor",p="Symbol",y="_polyfill",_="indexOf",S="length",E="done",A="value",P="name",U="slice",k="call",L="toString",Q=Object,te=Q[f],Ce=String,De=Ce[f],pe=Math,Ie=Array,ie=Ie[f];function Z(h,m){try{return{v:h.apply(this,m)}}catch(x){return{e:x}}}s(Z,"safe");function _e(h,m){var x=Z(h);return x.e?m:x.v}s(_e,"safeGet");var Ae=[u,a,i,d,"symbol","bigint"];function be(h){return function(m){return typeof m===h}}s(be,"_createIs");function Ke(h){var m="[object "+h+"]";return function(x){return!!(x&&ce(x)===m)}}s(Ke,"_createObjIs");function ce(h){return te.toString.call(h)}s(ce,"objToString");function ve(h){return typeof h===d||h===d}s(ve,"isUndefined");function le(h){return h===r||ve(h)}s(le,"isNullOrUndefined");function Ee(h){return h===r||!mt(h)}s(Ee,"isStrictNullOrUndefined");function mt(h){return!!h||h!==t}s(mt,"isDefined");function Et(h){return h!==l&&Ae.indexOf(h)!==-1}s(Et,"isPrimitiveType");var dt=be(u),ze=be(o);function n0(h){return!h&&le(h)?!1:!!h&&typeof h===l}s(n0,"isObject");var G=Ie.isArray,Je=Ke("Date"),he=be(a),Xe=be(i),Ve=Ke("Error");function nt(h){return!!(h&&h.then&&ze(h.then))}s(nt,"isPromiseLike");function wt(h){return!(!h||_e(function(){return!(h&&0+h)},!h))}s(wt,"isTruthy");var Mt=Q.getOwnPropertyDescriptor;function Lt(h,m){return!!h&&te.hasOwnProperty[k](h,m)}s(Lt,"objHasOwnProperty");var H=Q.hasOwn||$t;function $t(h,m){return Lt(h,m)||!!Mt(h,m)}s($t,"polyObjHasOwn");function vt(h,m,x){if(h&&n0(h)){for(var b in h)if(H(h,b)&&m[k](x||h,b,h[b])===-1)break}}s(vt,"objForEachKey");function sr(h,m,x,b){var I={};return vt(h,function(D,F){I[D]=m?F:D,I[F]=x?F:D}),b(I)}s(sr,"_createKeyValueMap");function X0(h){throw new Error(h)}s(X0,"throwError");function pr(h){throw new TypeError(h)}s(pr,"throwTypeError");var J0=Q.freeze;function Wr(h){return h}s(Wr,"_doNothing");function mn(h){return h[c]||r}s(mn,"_getProto");var Un=Q.assign,gn=Q.keys;function Xt(h){return J0&&vt(h,function(m,x){(G(x)||n0(x))&&J0(x)}),Y(h)}s(Xt,"objDeepFreeze");var Y=J0||Wr,N=Q.getPrototypeOf||mn;function B(h){return sr(h,1,0,Xt)}s(B,"createEnum");function Ye(h){return sr(h,0,0,Xt)}s(Ye,"createEnumKeyMap");function Vt(h){var m={};return vt(h,function(x,b){m[x]=b[1],m[b[0]]=b[1]}),Xt(m)}s(Vt,"createSimpleMap");function w0(h){return Vt(h)}s(w0,"createTypeMap");var A0=Ye({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Gt=Ce,G0="__tsUtils$gblCfg",u0;function er(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}s(er,"_getGlobalValue");function I0(){if(!u0){var h=Z(er).v||{};u0=h[G0]=h[G0]||{}}return u0}s(I0,"_getGlobalConfig");var Q0="[object Error]";function kt(h,m){var x=n,b=te[L][k](h);b===Q0&&(h={stack:Gt(h.stack),message:Gt(h.message),name:Gt(h.name)});try{x=JSON.stringify(h,r,m?typeof m===a?m:4:t),x=x&&x.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Gt(h)}catch(I){x=" - "+kt(I,m)}return b+": "+x}s(kt,"dumpObj");var gs,sl=Us,qn=Us;function Us(h,m,x){gs=gs||ie[U];var b=m&&m[h];return function(I){var D=I&&I[h]||b;if(D||x){var F=arguments;return(D||x).apply(I,D?gs[k](F,1):F)}pr('"'+Gt(h)+'" not defined for '+kt(I))}}s(Us,"_unwrapFunctionWithPoly");function Vi(h){return function(m){return m[h]}}s(Vi,"_unwrapProp");var Eo=pe.max,ye=qn(U,De),M=qn("substring",De),se=Us("substr",De,fe);function fe(h,m,x){return le(h)&&pr("'polyStrSubstr called with invalid "+kt(h)),x<0?n:(m=m||0,m<0&&(m=Eo(m+h[S],0)),ve(x)?ye(h,m):ye(h,m,m+x))}s(fe,"polyStrSubstr");function K(h,m){return M(h,0,m)}s(K,"strLeft");var O="_urid",Te;function $e(){if(!Te){var h=I0();Te=h.gblSym=h.gblSym||{k:{},s:{}}}return Te}s($e,"_globalSymbolRegistry");var Ht;function or(h){var m={description:Gt(h),toString:function(){return p+"("+h+")"}};return m[y]=!0,m}s(or,"polyNewSymbol");function tr(h){var m=$e();if(!H(m.k,h)){var x=or(h),b=gn(m.s).length;x[O]=function(){return b+"_"+x[L]()},m.k[h]=x,m.s[x[O]()]=Gt(h)}return m.k[h]}s(tr,"polySymbolFor");function jn(h){!Ht&&(Ht={});var m,x=A0[h];return x&&(m=Ht[x]=Ht[x]||or(p+"."+x)),m}s(jn,"polyGetKnownSymbol");var lr={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function ui(h){var m={};if(m[lr.c]=!0,m[lr.e]=!0,h.l){m.get=function(){return h.l.v};var x=Mt(h.l,"v");x&&x.set&&(m.set=function(b){h.l.v=b})}return vt(h,function(b,I){m[lr[b]]=ve(I)?m[lr[b]]:I}),m}s(ui,"_createProp");var s0=Q.defineProperty;function rr(h,m,x){return s0(h,m,ui(x))}s(rr,"objDefine");var dr;function $n(){dr=I0()}s($n,"_initTestHooks");function ki(h){var m={};return!dr&&$n(),m.b=dr.lzy,s0(m,"v",{configurable:!0,get:function(){var x=h();return dr.lzy||s0(m,"v",{value:x}),m.b=dr.lzy,x}}),m}s(ki,"getLazy");function Od(h,m){return ki(function(){var x=Z(h);return x.e?m:x.v})}s(Od,"safeGetLazy");function ol(h){return s0({toJSON:function(){return h}},"v",{value:h})}s(ol,"createCachedValue");var yf="window",al,So,di,sa,ll;function O2(h){return ki(function(){return Z(Yr,[h]).v||t})}s(O2,"lazySafeGetInst");function ps(h){return!dr&&$n(),(!al||h===!1||dr.lzy)&&(al=ol(Z(er).v||r)),al.v}s(ps,"getGlobal");function Yr(h,m){var x=!al||m===!1?ps(m):al.v;return x&&x[h]?x[h]:h===yf&&So?So.v:r}s(Yr,"getInst");function F2(){return!!fl()}s(F2,"hasDocument");function fl(){return!dr&&$n(),(!di||dr.lzy)&&(di=ol(Z(Yr,["document"]).v)),di.v}s(fl,"getDocument");function xv(){return!!wo()}s(xv,"hasWindow");function wo(){return!dr&&$n(),(!So||dr.lzy)&&(So=ol(Z(Yr,[yf]).v)),So.v}s(wo,"getWindow");function _v(){return!!oa()}s(_v,"hasNavigator");function oa(){return!dr&&$n(),(!sa||dr.lzy)&&(sa=ol(Z(Yr,["navigator"]).v)),sa.v}s(oa,"getNavigator");function bv(){return!ll&&(ll=ol(!!Z(function(){return process&&(process.versions||{}).node}).v)),ll.v}s(bv,"isNode");var hi,M2;function ys(){(!hi||!hi.b)&&(hi=O2(p),M2=Od(function(){return hi.v?hi.v.for:t},t))}s(ys,"_initSymbol");function U2(){return!!q2()}s(U2,"hasSymbol");function q2(){return!dr&&$n(),(!hi||dr.lzy)&&ys(),hi.v}s(q2,"getSymbol");function f1(h,m){var x=A0[h];return!dr&&$n(),(!hi||dr.lzy)&&ys(),hi.v?hi.v[x||h]:m?t:jn(h)}s(f1,"getKnownSymbol");function qs(h,m){return!dr&&$n(),(!hi||dr.lzy)&&ys(),hi.v?hi.v(h):m?r:or(h)}s(qs,"newSymbol");function vf(h){return!dr&&$n(),(!M2||!hi||dr.lzy)&&ys(),(M2.v||tr)(h)}s(vf,"symbolFor");function Fd(h){return!!h&&ze(h.next)}s(Fd,"isIterator");function Cv(h){return!Ee(h)&&ze(h[f1(3)])}s(Cv,"isIterable");var Md;function c1(h,m,x){if(h&&(Fd(h)||(!Md&&(Md=ol(f1(3))),h=h[Md.v]?h[Md.v]():null),Fd(h))){var b=void 0,I=void 0;try{for(var D=0;!(I=h.next())[E]&&m[k](x||h,I[A],D,h)!==-1;)D++}catch(F){b={e:F},h.throw&&(I=null,h.throw(b))}finally{try{I&&!I[E]&&h.return&&h.return(I)}finally{if(b)throw b.e}}}}s(c1,"iterForOf");var Io=sl("apply");function aa(h,m){return!ve(m)&&h&&(G(m)?Io(h.push,h,m):Fd(m)||Cv(m)?c1(m,function(x){h.push(x)}):h.push(m)),h}s(aa,"arrAppend");function Jt(h,m,x){if(h)for(var b=h[S]>>>0,I=0;I<b&&!(I in h&&m[k](x||h,h[I],I,h)===-1);I++);}s(Jt,"arrForEach");var zi=qn(_,ie),u1=qn("map",ie),j2=qn(U,ie),Tv=qn("reduce",ie),vs=Q.create||Ev;function Ev(h){if(!h)return{};var m=typeof h;m!==l&&m!==o&&pr("Prototype must be an Object or function: "+kt(h));function x(){}return s(x,"tempFunc"),x[f]=h,new x}s(Ev,"polyObjCreate");var xf;function d1(h,m){var x=Q.setPrototypeOf||function(b,I){!xf&&(xf=ki(function(){var D;return D={},D[c]=[],D instanceof Array})),xf.v?b[c]=I:vt(I,function(D,F){return b[D]=F})};return x(h,m)}s(d1,"objSetPrototypeOf");function Xr(h,m,x){Z(rr,[m,P,{v:h,c:!0,e:!1}]),m=d1(m,x);function b(){this.constructor=m,Z(rr,[this,P,{v:h,c:!0,e:!1}])}return s(b,"__"),m[f]=x===r?vs(x):(b[f]=x[f],new b),m}s(Xr,"_createCustomError");function h1(h,m){m&&(h[P]=m)}s(h1,"_setName");function $2(h,m,x){var b=x||Error,I=b[f][P],D=Error.captureStackTrace;return Xr(h,function(){var F=this,V=arguments;try{Z(h1,[b,h]);var W=Io(b,F,ie[U][k](V))||F;if(W!==F){var J=N(F);J!==N(W)&&d1(W,J)}return D&&D(W,F[g]),m&&m(W,V),W}finally{Z(h1,[b,I])}},b)}s($2,"createCustomError");function la(){return(Date.now||m1)()}s(la,"utcNow");function m1(){return new Date().getTime()}s(m1,"polyUtcNow");function H2(h){return s(function(x){return le(x)&&pr("strTrim called ["+kt(x)+"]"),x&&x.replace&&(x=x.replace(h,n)),x},"_doTrim")}s(H2,"_createTrimFn");var V2=H2(/^\s+|(?=\s)\s+$/g),Vr=Us("trim",De,V2),z2,js,Ud;function mi(h){if(!h||typeof h!==l)return!1;Ud||(Ud=xv()?wo():!0);var m=!1;if(h!==Ud){js||(z2=Function[f][L],js=z2[k](Q));try{var x=N(h);m=!x,m||(Lt(x,g)&&(x=x[g]),m=x&&typeof x===o&&z2[k](x)===js)}catch{}}return m}s(mi,"isPlainObject");var Sv=s(function(h){return h.value&&jd(h),!0},"_defaultDeepCopyHandler"),qd=[y6,jd,G2,v6];function wv(h,m,x,b){var I;return Jt(h,function(D){if(D.k===m)return I=D,-1}),I||(I={k:m,v:m},h.push(I),b(I)),I.v}s(wv,"_getSetVisited");function g1(h,m,x,b){var I=x.handler,D=x.path?b?x.path.concat(b):x.path:[],F={handler:x.handler,src:x.src,path:D},V=typeof m,W=!1,J=!1;m&&V===l?W=mi(m):J=m===r||Et(V);var ue={type:V,isPrim:J,isPlain:W,value:m,result:m,path:D,origin:x.src,copy:function(ke,Fe){return g1(h,ke,Fe?F:x,Fe)},copyTo:function(ke,Fe){return p6(h,ke,Fe,F)}};return ue.isPrim?I&&I[k](x,ue)?ue.result:m:wv(h,m,D,function(ke){rr(ue,"result",{g:function(){return ke.v},s:function(we){ke.v=we}});for(var Fe=0,Ne=I;!(Ne||(Fe<qd.length?qd[Fe++]:Sv))[k](x,ue);)Ne=r})}s(g1,"_deepCopy");function p6(h,m,x,b){if(!le(x))for(var I in x)m[I]=g1(h,x[I],b,I);return m}s(p6,"_copyProps");function K2(h,m,x){var b={handler:x,src:m,path:[]};return p6([],h,m,b)}s(K2,"objCopyProps");function p1(h,m){var x={handler:m,src:h};return g1([],h,x)}s(p1,"objDeepCopy");function y6(h){var m=h.value;if(G(m)){var x=h.result=[];return x.length=m.length,h.copyTo(x,m),!0}return!1}s(y6,"arrayDeepCopyHandler");function v6(h){var m=h.value;return Je(m)?(h.result=new Date(m.getTime()),!0):!1}s(v6,"dateDeepCopyHandler");function G2(h){return h.type===o}s(G2,"functionDeepCopyHandler");function jd(h){var m=h.value;if(m&&h.isPlain){var x=h.result={};return h.copyTo(x,m),!0}return!1}s(jd,"plainObjDeepCopyHandler");function _f(h,m){return Jt(m,function(x){K2(h,x)}),h}s(_f,"_doExtend");function x6(h,m,x,b,I,D,F){return _f(p1(h)||{},ie[U][k](arguments))}s(x6,"deepExtend");var Ao=Vi(S),$d=Us("endsWith",De,_6);function _6(h,m,x){dt(h)||pr("'"+kt(h)+"' is not a string");var b=dt(m)?m:Gt(m),I=!ve(x)&&x<h[S]?x:h[S];return M(h,I-b[S],I)===b}s(_6,"polyStrEndsWith");var bf=qn(_,De),cl="ref",y1="un"+cl,W2="hasRef",b6="enabled";function Iv(h,m,x){var b,I=!0,D=h?m(r):r,F,V=s(function(){return I=!1,D&&D[y1]&&D[y1](),F},"_unref"),W=s(function(){return I=!0,D&&D[cl]&&D[cl](),F},"_ref"),J=s(function(){return D&&D[W2]?D[W2]():I},"_hasRef"),ue=s(function(){return D=m(D),I||V(),F},"_refresh"),ke=s(function(){D&&x(D),D=r},"_cancel"),Fe=s(function(Ne){!Ne&&D&&ke(),Ne&&!D&&ue()},"_setEnabled");return F=(b={cancel:ke,refresh:ue},b[W2]=J,b[cl]=W,b[y1]=V,b[b6]=!1,b),s0(F,b6,{get:function(){return!!D},set:Fe}),{h:F,dn:function(){D=r}}}s(Iv,"_createTimerHandler");function C6(h,m,x,b){var I=G(x),D=I?x.length:0,F=(D>0?x[0]:I?t:x)||setTimeout,V=(D>1?x[1]:t)||clearTimeout,W=b[0];b[0]=function(){J.dn(),Io(W,h,ie[U][k](arguments))};var J=Iv(m,function(ue){if(ue){if(ue.refresh)return ue.refresh(),ue;Io(V,h,[ue])}return Io(F,h,b)},function(ue){Io(V,h,[ue])});return J.h}s(C6,"_createTimeoutWith");function $s(h,m){return C6(this,!0,t,ie[U][k](arguments))}s($s,"scheduleTimeout");function T6(h,m){return C6(this,!1,t,ie[U][k](arguments))}s(T6,"createTimeout");var Hd,v1="constructor",Po="prototype",ul="function",Cf="_dynInstFuncs",Y2="_isDynProxy",Ro="_dynClass",Vd="_dynCls$",xs="_dynInstChk",fa=xs,x1="_dfOpts",zd="_unknown_",ca="__proto__",Kd="_dyn"+ca,Gd="__dynProto$Gbl",dl="_dynInstProto",_1="useBaseInst",Wd="setInstFuncs",b1=Object,ua=b1.getPrototypeOf,X2=b1.getOwnPropertyNames,Yd=ps(),Tf=Yd[Gd]||(Yd[Gd]={o:(Hd={},Hd[Wd]=!0,Hd[_1]=!0,Hd),n:1e3});function Ef(h){return h&&(h===b1[Po]||h===Array[Po])}s(Ef,"_isObjectOrArrayPrototype");function C1(h){return Ef(h)||h===Function[Po]}s(C1,"_isObjectArrayOrFunctionPrototype");function _s(h){var m;if(h){if(ua)return ua(h);var x=h[ca]||h[Po]||(h[v1]?h[v1][Po]:null);m=h[Kd]||x,Lt(h,Kd)||(delete h[dl],m=h[Kd]=h[dl]||h[Kd],h[dl]=x)}return m}s(_s,"_getObjProto");function T1(h,m){var x=[];if(X2)x=X2(h);else for(var b in h)typeof b=="string"&&Lt(h,b)&&x.push(b);if(x&&x.length>0)for(var I=0;I<x.length;I++)m(x[I])}s(T1,"_forEachProp");function Xd(h,m,x){return m!==v1&&typeof h[m]===ul&&(x||Lt(h,m))&&m!==ca&&m!==Po}s(Xd,"_isDynamicCandidate");function Sf(h){pr("DynamicProto: "+h)}s(Sf,"_throwTypeError");function Jd(h){var m=vs(null);return T1(h,function(x){!m[x]&&Xd(h,x,!1)&&(m[x]=h[x])}),m}s(Jd,"_getInstanceFuncs");function E1(h,m){for(var x=h.length-1;x>=0;x--)if(h[x]===m)return!0;return!1}s(E1,"_hasVisited");function hl(h,m,x,b){function I(W,J,ue){var ke=J[ue];if(ke[Y2]&&b){var Fe=W[Cf]||{};Fe[fa]!==!1&&(ke=(Fe[J[Ro]]||{})[ue]||ke)}return function(){return ke.apply(W,arguments)}}s(I,"_instFuncProxy");var D=vs(null);T1(x,function(W){D[W]=I(m,x,W)});for(var F=_s(h),V=[];F&&!C1(F)&&!E1(V,F);)T1(F,function(W){!D[W]&&Xd(F,W,!ua)&&(D[W]=I(m,F,W))}),V.push(F),F=_s(F);return D}s(hl,"_getBaseFuncs");function Qd(h,m,x,b){var I=null;if(h&&Lt(x,Ro)){var D=h[Cf]||vs(null);if(I=(D[x[Ro]]||vs(null))[m],I||Sf("Missing ["+m+"] "+ul),!I[xs]&&D[fa]!==!1){for(var F=!Lt(h,m),V=_s(h),W=[];F&&V&&!C1(V)&&!E1(W,V);){var J=V[m];if(J){F=J===b;break}W.push(V),V=_s(V)}try{F&&(h[m]=I),I[xs]=1}catch{D[fa]=!1}}}return I}s(Qd,"_getInstFunc");function J2(h,m,x){var b=m[h];return b===x&&(b=_s(m)[h]),typeof b!==ul&&Sf("["+h+"] is not a "+ul),b}s(J2,"_getProtoFunc");function Zd(h,m,x,b,I){function D(W,J){var ue=s(function(){var ke=Qd(this,J,W,ue)||J2(J,W,ue);return ke.apply(this,arguments)},"dynProtoProxy");return ue[Y2]=1,ue}if(s(D,"_createDynamicPrototype"),!Ef(h)){var F=x[Cf]=x[Cf]||vs(null);if(!Ef(F)){var V=F[m]=F[m]||vs(null);F[fa]!==!1&&(F[fa]=!!I),Ef(V)||T1(x,function(W){Xd(x,W,!1)&&x[W]!==b[W]&&(V[W]=x[W],delete x[W],(!Lt(h,W)||h[W]&&!h[W][Y2])&&(h[W]=D(h,W)))})}}}s(Zd,"_populatePrototype");function Av(h,m){if(ua){for(var x=[],b=_s(m);b&&!C1(b)&&!E1(x,b);){if(b===h)return!0;x.push(b),b=_s(b)}return!1}return!0}s(Av,"_checkPrototype");function S1(h,m){return Lt(h,Po)?h.name||m||zd:((h||{})[v1]||{}).name||m||zd}s(S1,"_getObjName");function gi(h,m,x,b){Lt(h,Po)||Sf("theClass is an invalid class definition.");var I=h[Po];Av(I,m)||Sf("["+S1(h)+"] not in hierarchy of ["+S1(m)+"]");var D=null;Lt(I,Ro)?D=I[Ro]:(D=Vd+S1(h,"_")+"$"+Tf.n,Tf.n++,I[Ro]=D);var F=gi[x1],V=!!F[_1];V&&b&&b[_1]!==void 0&&(V=!!b[_1]);var W=Jd(m),J=hl(I,m,W,V);x(m,J);var ue=!!ua&&!!F[Wd];ue&&b&&(ue=!!b[Wd]),Zd(I,D,m,W,ue!==!1)}s(gi,"dynamicProto"),gi[x1]=Tf.o;var Pv="function",E6="object",S6="undefined",w1="prototype",I1=Object,Q2=I1[w1],w6="hasOwnProperty",Nr=s(function(h){for(var m,x=1,b=arguments.length;x<b;x++){m=arguments[x];for(var I in m)Q2[w6].call(m,I)&&(h[I]=m[I])}return h},"__objAssignFnImpl"),da=Un||Nr,Z2=s(function(h,m){return Z2=I1.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var I in b)b[w6](I)&&(x[I]=b[I])},Z2(h,m)},"extendStaticsFn");function A1(h,m){typeof m!==Pv&&m!==null&&pr("Class extends value "+String(m)+" is not a constructor or null"),Z2(h,m);function x(){this.constructor=h}s(x,"__"),h[w1]=m===null?vs(m):(x[w1]=m[w1],new x)}s(A1,"__extendsFn");function I6(h,m){for(var x=0,b=m.length,I=h.length;x<b;x++,I++)h[I]=m[x];return h}s(I6,"__spreadArrayFn");var e5=B,e4=w0,P1="toLowerCase",R1="blkVal",b0="length",t5="rdOnly",r5="notify",k1="warnToConsole",N1="throwInternal",wf="setDf",ko="watch",Br="logger",If="apply",nr="push",ml="splice",A6="hdlr",gl="cancel",D1="initialize",ha="identifier",Hs="isInitialized",L1="getPlugin",P6="pollInternalLogs",ma="name",Af="time",Hn="processNext",t4="getProcessTelContext",Ki="getNotifyMgr",B1="addNotificationListener",O1="removeNotificationListener",pl="enabled",Pf="stopPollingInternalLogs",Gi="unload",n5="onComplete",R6="version",k6="loggingLevelConsole",bs="createNew",No="teardown",i5="messageId",yl="message",Rf="isAsync",Do="diagLog",s5="_doTeardown",F1="update",pi="getNext",M1="setNextPlugin",kf="userAgent",Nf="split",U1="nodeType",vl="replace",ga="logInternalMessage",Vs="type",r4="handler",o5="isChildEvt",Df="getCtx",zs="setCtx",q1="complete",n4="traceId",N6="spanId",Lf="traceFlags",i4;function a5(h,m){i4||(i4=$2("AggregationError",function(b,I){I[b0]>1&&(b.errors=I[1])}));var x=h||"One or more errors occurred.";throw Jt(m,function(b,I){x+=`
`.concat(I," > ").concat(kt(b))}),new i4(x,m||[])}s(a5,"throwAggregationError");function l5(h,m){return j1(h,function(x){return m?m({value:x,rejected:!1}):x},function(x){return m?m({rejected:!0,reason:x}):x})}s(l5,"doAwaitResponse");function j1(h,m,x,b){var I=h;return nt(h)?(m||x)&&(I=h.then(m,x)):m&&(I=m(h)),b&&s4(I,b),I}s(j1,"doAwait");function s4(h,m){var x=h;return m&&(nt(h)?h.finally?x=h.finally(m):x=h.then(function(b){return m(),b},function(b){throw m(),b}):m()),x}s(s4,"doFinally");var $1=["pending","resolving","resolved","rejected"],Bf="dispatchEvent",pa;function Rv(h,m,x,b){var I=fl();!pa&&(pa=Od(function(){var W;return I&&I.createEvent&&(W=I.createEvent("Event")),!!W&&W.initEvent},null));var D=pa.v?I.createEvent("Event"):b?new Event(m):{};if(x&&x(D),pa.v&&D.initEvent(m,!1,!0),D&&h[Bf])h[Bf](D);else{var F=h["on"+m];if(F)F(D);else{var V=Yr("console");V&&(V.error||V.log)(m,kt(D))}}}s(Rv,"emitEvent");var f5="Promise",D6="unhandledRejection",kv=D6.toLowerCase(),L6=10,c5;function H1(h){return ze(h)?h.toString():kt(h)}s(H1,"dumpFnObj");function Nv(h,m,x){var b=j2(arguments,3),I=0,D=!1,F,V=[],W=!1,J=null,ue;!c5&&(c5=O2(f5+"RejectionEvent"));var ke=s(function(Ge,ft){try{W=!0,J&&J.cancel(),J=null;var t0=h(function(Z0,Ar){V.push(function(){try{var mr=I===2?Ge:ft,An=ve(mr)?F:ze(mr)?mr(F):mr;nt(An)?An.then(Z0,Ar):mr?Z0(An):I===3?Ar(An):Z0(An)}catch(Qr){Ar(Qr)}}),D&&Ze()},b);return t0}finally{}},"_then"),Fe=s(function(Ge){return ke(void 0,Ge)},"_catch"),Ne=s(function(Ge){var ft=Ge,t0=Ge;return ze(Ge)&&(ft=s(function(Z0){return Ge&&Ge(),Z0},"thenFinally"),t0=s(function(Z0){throw Ge&&Ge(),Z0},"catchFinally")),ke(ft,t0)},"_finally"),we=s(function(){return $1[I]},"_strState"),Ze=s(function(){if(V.length>0){var Ge=V.slice();V=[],W=!0,m(Ge),J&&J.cancel(),J=null}},"_processQueue"),Ue=s(function(Ge,ft){return function(t0){if(I===ft){if(Ge===2&&nt(t0)){I=1,t0.then(Ue(2,1),Ue(3,1));return}I=Ge,D=!0,F=t0,Ze(),!W&&Ge===3&&!J&&(J=$s(it,L6))}}},"_createSettleIfFn"),it=s(function(){if(!W)if(bv())process.emit(D6,F,ue);else{var Ge=wo()||ps();Rv(Ge,kv,function(ft){return rr(ft,"promise",{g:function(){return ue}}),ft.reason=F,ft},!!c5.v)}},"_notifyUnhandledRejection");ue={then:ke,catch:Fe,finally:Ne},s0(ue,"state",{get:we}),U2()&&(ue[f1(11)]="IPromise");var Qe=s(function(){return"IPromise "+we()+(D?" - "+H1(F):"")},"_toString");return ue.toString=Qe,s(function(){ze(x)||pr(f5+": executor is not a function - "+H1(x));var ft=Ue(3,0);try{x.call(ue,Ue(2,0),ft)}catch(t0){ft(t0)}},"_initialize")(),ue}s(Nv,"_createPromise");function Dv(h){return function(m){var x=j2(arguments,1);return h(function(b,I){try{var D=[],F=1;Jt(m,function(V,W){V&&(F++,j1(V,function(J){D[W]=J,--F===0&&b(D)},I))}),F--,F===0&&b(D)}catch(V){I(V)}},x)}}s(Dv,"_createAllPromise");var Of=s(function(h){Jt(h,function(m){try{m()}catch{}})},"_processPendingItems");function B6(h){var m=he(h)?h:0;return function(x){$s(function(){Of(x)},m)}}s(B6,"timeoutItemProcessor");function O6(h,m){return Nv(O6,B6(m),h,m)}s(O6,"createAsyncPromise");var o4;function Lv(h,m){!o4&&(o4=O2(f5));var x=o4.v;if(!x)return O6(h);ze(h)||pr(f5+": executor is not a function - "+kt(h));var b=0;function I(){return $1[b]}s(I,"_strState");var D=new x(function(F,V){function W(ue){b=2,F(ue)}s(W,"_resolve");function J(ue){b=3,V(ue)}s(J,"_reject"),h(W,J)});return s0(D,"state",{get:I}),D}s(Lv,"createNativePromise");var a4;function Ff(h,m){return!a4&&(a4=ki(function(){return Lv})),a4.v.call(this,h,m)}s(Ff,"createPromise");var F6=Dv(Ff),Wi=void 0,L0="",xl="channels",Or="core",l4="createPerfMgr",Vn="disabled",_l="extensionConfig",Mf="extensions",Yi="processTelemetry",Uf="priority",bl="eventsSent",ya="eventsDiscarded",V1="eventsSendRequest",zn="perfEvent",z1="getPerfMgr",u5="domain",f4="path",c4="Not dynamic - ",u4=/-([a-z])/g,d4=/([^\w\d_$])/g,M6=/^(\d+[\w\d_$])/;function h4(h){return!le(h)}s(h4,"isNotNullOrUndefined");function m4(h){var m=h;return m&&dt(m)&&(m=m[vl](u4,function(x,b){return b.toUpperCase()}),m=m[vl](d4,"_"),m=m[vl](M6,function(x,b){return"_"+b})),m}s(m4,"normalizeJsName");function Cn(h,m){return h&&m?bf(h,m)!==-1:!1}s(Cn,"strContains");function K1(h){return h&&h.toISOString()||""}s(K1,"toISOString");function Kn(h){return Ve(h)?h[ma]:L0}s(Kn,"getExceptionName");function va(h,m,x,b,I){var D=x;return h&&(D=h[m],D!==x&&(!I||I(D))&&(!b||b(x))&&(D=x,h[m]=D)),D}s(va,"setValue");function U6(h,m,x){var b;return h?(b=h[m],!b&&le(b)&&(b=ve(x)?{}:x,h[m]=b)):b=ve(x)?{}:x,b}s(U6,"getSetValue");function q6(h,m){var x=null,b=null;return ze(h)?x=h:b=h,function(){var I=arguments;if(x&&(b=x()),b)return b[m][If](b,I)}}s(q6,"_createProxyFunction");function qf(h,m,x,b,I){h&&m&&x&&(I!==!1||ve(h[m]))&&(h[m]=q6(x,b))}s(qf,"proxyFunctionAs");function g4(h,m,x,b){return h&&m&&n0(h)&&G(x)&&Jt(x,function(I){dt(I)&&qf(h,I,m,I,b)}),h}s(g4,"proxyFunctions");function Bv(h){return function(){function m(){var x=this;h&&vt(h,function(b,I){x[b]=I})}return s(m,"class_1"),m}()}s(Bv,"createClassFromInterface");function j6(h){return h&&Un&&(h=I1(Un({},h))),h}s(j6,"optimizeObject");function G1(h,m,x,b,I,D){var F=arguments,V=F[0]||{},W=F[b0],J=!1,ue=1;for(W>0&&Xe(V)&&(J=V,V=F[ue]||{},ue++),n0(V)||(V={});ue<W;ue++){var ke=F[ue],Fe=G(ke),Ne=n0(ke);for(var we in ke){var Ze=Fe&&we in ke||Ne&&H(ke,we);if(Ze){var Ue=ke[we],it=void 0;if(J&&Ue&&((it=G(Ue))||mi(Ue))){var Qe=V[we];it?G(Qe)||(Qe=[]):mi(Qe)||(Qe={}),Ue=G1(J,Qe,Ue)}Ue!==void 0&&(V[we]=Ue)}}}return V}s(G1,"objExtend");var Ov="documentMode",$6="location",p4="console",y4="JSON",H6="crypto",Fv="msCrypto",d5="msie",v4="trident/",V6="XMLHttpRequest",h5=null,x4=null,Mv=!1,jf=null,_4=null;function z6(h,m){var x=!1;if(h){try{if(x=m in h,!x){var b=h[w1];b&&(x=m in b)}}catch{}if(!x)try{var I=new h;x=!ve(I[m])}catch{}}return x}s(z6,"_hasProperty");function b4(h){if(h&&Mv){var m=Yr("__mockLocation");if(m)return m}return typeof location===E6&&location?location:Yr($6)}s(b4,"getLocation");function m5(){return typeof console!==S6?console:Yr(p4)}s(m5,"getConsole");function Ni(){return!!(typeof JSON===E6&&JSON||Yr(y4)!==null)}s(Ni,"hasJSON");function Ks(){return Ni()?JSON||Yr(y4):null}s(Ks,"getJSON");function K6(){return Yr(H6)}s(K6,"getCrypto");function $f(){return Yr(Fv)}s($f,"getMsCrypto");function o0(){var h=oa();if(h&&(h[kf]!==x4||h5===null)){x4=h[kf];var m=(x4||L0)[P1]();h5=Cn(m,d5)||Cn(m,v4)}return h5}s(o0,"isIE");function Hf(h){if(h===void 0&&(h=null),!h){var m=oa()||{};h=m?(m.userAgent||L0)[P1]():L0}var x=(h||L0)[P1]();if(Cn(x,d5)){var b=fl()||{};return Math.max(parseInt(x[Nf](d5)[1]),b[Ov]||0)}else if(Cn(x,v4)){var I=parseInt(x[Nf](v4)[1]);if(I)return I+4}return null}s(Hf,"getIEVersion");function Gs(h){return(_4===null||h===!1)&&(_4=_v()&&!!oa().sendBeacon),_4}s(Gs,"isBeaconsSupported");function Cl(h){var m=!1;try{m=!!Yr("fetch");var x=Yr("Request");m&&h&&x&&(m=z6(x,"keepalive"))}catch{}return m}s(Cl,"isFetchSupported");function W1(){return jf===null&&(jf=typeof XDomainRequest!==S6,jf&&g5()&&(jf=jf&&!z6(Yr(V6),"withCredentials"))),jf}s(W1,"useXDomainRequest");function g5(){var h=!1;try{var m=Yr(V6);h=!!m}catch{}return h}s(g5,"isXhrSupported");var Xi=4294967296,yi=4294967295,Tl=123456789,p5=987654321,y5=!1,El=Tl,Vf=p5;function C4(h){h<0&&(h>>>=0),El=Tl+h&yi,Vf=p5-h&yi,y5=!0}s(C4,"_mwcSeed");function T4(){try{var h=la()&2147483647;C4((Math.random()*Xi^h)+h)}catch{}}s(T4,"_autoSeedMwc");function Y1(h){var m=0,x=K6()||$f();return x&&x.getRandomValues&&(m=x.getRandomValues(new Uint32Array(1))[0]&yi),m===0&&o0()&&(y5||T4(),m=v5()&yi),m===0&&(m=Math.floor(Xi*Math.random()|0)),h||(m>>>=0),m}s(Y1,"random32");function v5(h){Vf=36969*(Vf&65535)+(Vf>>16)&yi,El=18e3*(El&65535)+(El>>16)&yi;var m=(Vf<<16)+(El&65535)>>>0&yi|0;return h||(m>>>=0),m}s(v5,"mwcRandom32");function G6(h){h===void 0&&(h=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=Y1()>>>0,b=0,I=L0;I[b0]<h;)b++,I+=m.charAt(x&63),x>>>=6,b===5&&(x=(Y1()<<2&4294967295|x&3)>>>0,b=0);return I}s(G6,"newId");var X1="3.0.5",zf="."+G6(6),Cs=0;function Ts(h){return h[U1]===1||h[U1]===9||!+h[U1]}s(Ts,"_canAcceptData");function Lo(h,m){var x=m[h.id];if(!x){x={};try{Ts(m)&&rr(m,h.id,{e:!1,v:x})}catch{}}return x}s(Lo,"_getCache");function Ji(h,m){return m===void 0&&(m=!1),m4(h+Cs+++(m?"."+X1:L0)+zf)}s(Ji,"createUniqueNamespace");function Ws(h){var m={id:Ji("_aiData-"+(h||L0)+"."+X1),accept:function(x){return Ts(x)},get:function(x,b,I,D){var F=x[m.id];return F?F[m4(b)]:(D&&(F=Lo(m,x),F[m4(b)]=I),I)},kill:function(x,b){if(x&&x[b])try{delete x[b]}catch{}}};return m}s(Ws,"createElmNodeData");function xa(h){return h&&n0(h)&&(h.isVal||h.fb||H(h,"v")||H(h,"mrg")||H(h,"ref")||h.set)}s(xa,"_isConfigDefaults");function x5(h,m,x){var b,I=x.dfVal||mt;if(m&&x.fb){var D=x.fb;G(D)||(D=[D]);for(var F=0;F<D[b0];F++){var V=D[F],W=m[V];if(I(W)?b=W:h&&(W=h.cfg[V],I(W)&&(b=W),h.set(h.cfg,Gt(V),W)),I(b))break}}return!I(b)&&I(x.v)&&(b=x.v),b}s(x5,"_getDefault");function J1(h,m,x){var b=x;if(x&&xa(x)&&(b=x5(h,m,x)),b){xa(b)&&(b=J1(h,m,b));var I;G(b)?(I=[],I[b0]=b[b0]):mi(b)&&(I={}),I&&(vt(b,function(D,F){F&&xa(F)&&(F=J1(h,m,F)),I[D]=F}),b=I)}return b}s(J1,"_resolveDefaultValue");function _5(h,m,x,b){var I,D,F,V=b,W,J,ue,ke;xa(V)?(I=V.isVal,D=V.set,ue=V[t5],ke=V[R1],W=V.mrg,J=V.ref,!J&&ve(J)&&(J=!!W),F=x5(h,m,V)):F=b,ke&&h[R1](m,x);var Fe,Ne=!0,we=m[x];(we||!le(we))&&(Fe=we,Ne=!1,I&&Fe!==F&&!I(Fe)&&(Fe=F,Ne=!0),D&&(Fe=D(Fe,F,m),Ne=Fe===F)),Ne?F?Fe=J1(h,m,F):Fe=F:(mi(Fe)||G(F))&&W&&F&&(mi(F)||G(F))&&vt(F,function(Ze,Ue){_5(h,Fe,Ze,Ue)}),h.set(m,x,Fe),J&&h.ref(m,x),ue&&h[t5](m,x)}s(_5,"_applyDefaultValue");var Di=vf("[[ai_dynCfg_1]]"),_a=vf("[[ai_blkDynCfg_1]]"),b5=vf("[[ai_frcDynCfg_1]]");function Q1(h){if(h){var m;if(G(h)?(m=[],m[b0]=h[b0]):mi(h)&&(m={}),m)return vt(h,function(x,b){m[x]=Q1(b)}),m}return h}s(Q1,"_cfgDeepCopy");function Kf(h){if(h){var m=h[Di]||h;if(m.cfg&&(m.cfg===h||m.cfg[Di]===m))return m}return null}s(Kf,"getDynamicConfigHandler");function Z1(h){if(h&&(mi(h)||G(h)))try{h[_a]=!0}catch{}return h}s(Z1,"blockDynamicConversion");function Gf(h,m,x){var b=!1;return x&&!h[m.blkVal]&&(b=x[b5],!b&&!x[_a]&&(b=mi(x)||G(x))),b}s(Gf,"_canMakeDynamic");function E4(h){pr("InvalidAccess:"+h)}s(E4,"throwInvalidAccess");var S4=["push","pop","shift","unshift","splice"],Wf=s(function(h,m,x,b){h&&h[N1](3,108,"".concat(x," [").concat(m,"] failed - ")+kt(b))},"_throwDynamicError");function Tn(h,m,x){G(m)&&Jt(S4,function(b){var I=m[b];m[b]=function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var V=I[If](this,D);return Es(h,m,x,"Patching"),V}})}s(Tn,"_patchArray");function Sl(h,m){var x=Mt(h,m);return x&&x.get}s(Sl,"_getOwnPropGetter");function w4(h,m,x,b){var I={n:x,h:[],trk:function(J){J&&J.fn&&(zi(I.h,J)===-1&&I.h[nr](J),h.trk(J,I))},clr:function(J){var ue=zi(I.h,J);ue!==-1&&I.h[ml](ue,1)}},D=!0,F=!1;function V(){D&&(F=F||Gf(V,h,b),b&&!b[Di]&&F&&(b=Es(h,b,x,"Converting")),D=!1);var J=h.act;return J&&I.trk(J),b}s(V,"_getProperty"),V[h.prop]={chng:function(){h.add(I)}};function W(J){if(b!==J){V[h.ro]&&!h.upd&&E4("["+x+"] is read-only:"+kt(m)),D&&(F=F||Gf(V,h,b),D=!1);var ue=F&&V[h.rf];if(F)if(ue){vt(b,function(Fe){b[Fe]=J?J[Fe]:Wi});try{vt(J,function(Fe,Ne){eu(h,b,Fe,Ne)}),J=b}catch(Fe){Wf((h.hdlr||{})[Br],x,"Assigning",Fe),F=!1}}else b&&b[Di]&&vt(b,function(Fe){var Ne=Sl(b,Fe);if(Ne){var we=Ne[h.prop];we&&we.chng()}});if(J!==b){var ke=J&&Gf(V,h,J);!ue&&ke&&(J=Es(h,J,x,"Converting")),b=J,F=ke}h.add(I)}}s(W,"_setProperty"),rr(m,I.n,{g:V,s:W})}s(w4,"_createDynamicProperty");function eu(h,m,x,b){if(m){var I=Sl(m,x),D=I&&!!I[h.prop];D?m[x]=b:w4(h,m,x,b)}return m}s(eu,"_setDynamicProperty");function Ys(h,m,x,b){if(m){var I=Sl(m,x),D=I&&!!I[h.prop],F=b&&b[0],V=b&&b[1],W=b&&b[2];if(!D){if(W)try{Z1(m)}catch(J){Wf((h.hdlr||{})[Br],x,"Blocking",J)}try{eu(h,m,x,m[x]),I=Sl(m,x)}catch(J){Wf((h.hdlr||{})[Br],x,"State",J)}}F&&(I[h.rf]=F),V&&(I[h.ro]=V),W&&(I[h.blkVal]=!0)}return m}s(Ys,"_setDynamicPropertyState");function Es(h,m,x,b){try{vt(m,function(I,D){eu(h,m,I,D)}),m[Di]||(s0(m,Di,{get:function(){return h[A6]}}),Tn(h,m,x))}catch(I){Wf((h.hdlr||{})[Br],x,b,I)}return m}s(Es,"_makeDynamicObject");var Yf="[[ai_",wl="]]";function W6(h){var m,x=qs(Yf+"get"+h.uid+wl),b=qs(Yf+"ro"+h.uid+wl),I=qs(Yf+"rf"+h.uid+wl),D=qs(Yf+"blkVal"+h.uid+wl),F=qs(Yf+"dtl"+h.uid+wl),V=null,W=null,J;function ue(we,Ze){var Ue=J.act;try{J.act=we,we&&we[F]&&(Jt(we[F],function(Qe){Qe.clr(we)}),we[F]=[]),Ze({cfg:h.cfg,set:h.set.bind(h),setDf:h[wf].bind(h),ref:h.ref.bind(h),rdOnly:h[t5].bind(h)})}catch(Qe){var it=h[Br];throw it&&it[N1](1,107,kt(Qe)),Qe}finally{J.act=Ue||null}}s(ue,"_useHandler");function ke(){if(V){var we=V;V=null,W&&W[gl](),W=null;var Ze=[];if(Jt(we,function(Ue){if(Ue&&(Ue[F]&&(Jt(Ue[F],function(it){it.clr(Ue)}),Ue[F]=null),Ue.fn))try{ue(Ue,Ue.fn)}catch(it){Ze[nr](it)}}),V)try{ke()}catch(Ue){Ze[nr](Ue)}Ze[b0]>0&&a5("Watcher error(s): ",Ze)}}s(ke,"_notifyWatchers");function Fe(we){if(we&&we.h[b0]>0){V||(V=[]),W||(W=$s(function(){W=null,ke()},0));for(var Ze=0;Ze<we.h[b0];Ze++){var Ue=we.h[Ze];Ue&&zi(V,Ue)===-1&&V[nr](Ue)}}}s(Fe,"_addWatcher");function Ne(we,Ze){if(we){var Ue=we[F]=we[F]||[];zi(Ue,Ze)===-1&&Ue[nr](Ze)}}return s(Ne,"_trackHandler"),J=(m={prop:x,ro:b,rf:I},m[R1]=D,m[A6]=h,m.add=Fe,m[r5]=ke,m.use=ue,m.trk=Ne,m),J}s(W6,"_createState");function Y6(h,m){var x={fn:m,rm:function(){x.fn=null,h=null,m=null}};return h.use(x,m),x}s(Y6,"_createAndUseHandler");function X6(h,m,x){var b,I=Kf(m);if(I)return I;var D=Ji("dyncfg",!0),F=m&&x!==!1?m:Q1(m),V;function W(){V[r5]()}s(W,"_notifyWatchers");function J(it,Qe,Ge){try{it=eu(V,it,Qe,Ge)}catch(ft){Wf(h,Qe,"Setting value",ft)}return it[Qe]}s(J,"_setValue");function ue(it){return Y6(V,it)}s(ue,"_watch");function ke(it,Qe){V.use(null,function(Ge){var ft=V.upd;try{ve(Qe)||(V.upd=Qe),it(Ge)}finally{V.upd=ft}})}s(ke,"_block");function Fe(it,Qe){var Ge;return Ys(V,it,Qe,(Ge={},Ge[0]=!0,Ge))[Qe]}s(Fe,"_ref");function Ne(it,Qe){var Ge;return Ys(V,it,Qe,(Ge={},Ge[1]=!0,Ge))[Qe]}s(Ne,"_rdOnly");function we(it,Qe){var Ge;return Ys(V,it,Qe,(Ge={},Ge[2]=!0,Ge))[Qe]}s(we,"_blkPropValue");function Ze(it,Qe){return Qe&&vt(Qe,function(Ge,ft){_5(Ue,it,Ge,ft)}),it}s(Ze,"_applyDefaults");var Ue=(b={uid:null,cfg:F},b[Br]=h,b[r5]=W,b.set=J,b[wf]=Ze,b[ko]=ue,b.ref=Fe,b[t5]=Ne,b[R1]=we,b._block=ke,b);return rr(Ue,"uid",{c:!1,e:!1,w:!1,v:D}),V=W6(Ue),Es(V,F,"config","Creating"),Ue}s(X6,"_createDynamicHandler");function Uv(h,m){h?(h[k1](m),h[N1](2,108,m)):E4(m)}s(Uv,"_logInvalidAccess");function En(h,m,x,b){var I=X6(x,h||{},b);return m&&I[wf](I.cfg,m),I}s(En,"createDynamicConfig");function Xf(h,m,x){var b=h[Di]||h;return b.cfg&&(b.cfg===h||b.cfg[Di]===b)?b[ko](m):(Uv(x,c4+kt(h)),En(h,null,x)[ko](m))}s(Xf,"onConfigChange");function Jf(h,m){if(h&&h[Gi])return h[Gi](m)}s(Jf,"runTargetUnload");function J6(h,m,x){var b;return x||(b=Ff(function(I){x=I})),h&&Ao(h)>0?l5(Jf(h[0],m),function(){J6(j2(h,1),m,x)}):x(),b}s(J6,"doUnloadAll");var Q6=500;function I4(h,m,x){return!h&&le(h)?m:Xe(h)?h:Gt(h)[P1]()==="true"}s(I4,"_stringToBoolOrDefault");function qv(h){return{mrg:!0,v:h}}s(qv,"cfgDfMerge");function tu(h,m,x){return{fb:x,isVal:h,v:m}}s(tu,"cfgDfValidate");function Xs(h,m){return{fb:m,set:I4,v:!!h}}s(Xs,"cfgDfBoolean");var A4=[bl,ya,V1,zn],C5=null,T5;function jv(h,m){return function(){var x=arguments,b=em(m);if(b){var I=b.listener;I&&I[h]&&I[h][If](I,x)}}}s(jv,"_listenerProxyFunc");function Z6(){var h=Yr("Microsoft");return h&&(C5=h.ApplicationInsights),C5}s(Z6,"_getExtensionNamespace");function em(h){var m=C5;return!m&&h.disableDbgExt!==!0&&(m=C5||Z6()),m?m.ChromeDbgExt:null}s(em,"getDebugExt");function $v(h){if(!T5){T5={};for(var m=0;m<A4[b0];m++)T5[A4[m]]=jv(A4[m],h)}return T5}s($v,"getDebugListener");var Qf,tm="warnToConsole",ru="AI (Internal): ",Hv="AI: ",Vv="AITR_",ba={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ca=(Qf={},Qf[0]=null,Qf[1]="errorToConsole",Qf[2]=tm,Qf[3]="debugToConsole",Qf);function P4(h){return h?'"'+h[vl](/\"/g,L0)+'"':L0}s(P4,"_sanitizeDiagnosticText");function nu(h,m){var x=m5();if(x){var b="log";x[h]&&(b=h),ze(x[b])&&x[b](m)}}s(nu,"_logToConsole");var Zf=function(){function h(m,x,b,I){b===void 0&&(b=!1);var D=this;D[i5]=m,D[yl]=(b?Hv:ru)+m;var F=L0;Ni()&&(F=Ks().stringify(I));var V=(x?" message:"+P4(x):L0)+(I?" props:"+P4(F):L0);D[yl]+=V}return s(h,"_InternalLogMessage"),h.dataType="MessageData",h}();function iu(h,m){return(h||{})[Br]||new E5(m)}s(iu,"safeGetLogger");var E5=function(){function h(m){this.identifier="DiagnosticLogger",this.queue=[];var x=0,b={},I,D,F,V,W;gi(h,this,function(J){W=ke(m||{}),J.consoleLoggingLevel=function(){return I},J[N1]=function(we,Ze,Ue,it,Qe){Qe===void 0&&(Qe=!1);var Ge=new Zf(Ze,Ue,Qe,it);if(V)throw kt(Ge);var ft=Ca[we]||tm;if(ve(Ge[yl]))Ne("throw"+(we===1?"Critical":"Warning"),Ge);else{if(Qe){var t0=+Ge[i5];!b[t0]&&I>=we&&(J[ft](Ge[yl]),b[t0]=!0)}else I>=we&&J[ft](Ge[yl]);ue(we,Ge)}},J.debugToConsole=function(we){nu("debug",we),Ne("warning",we)},J[k1]=function(we){nu("warn",we),Ne("warning",we)},J.errorToConsole=function(we){nu("error",we),Ne("error",we)},J.resetInternalMessageCount=function(){x=0,b={}},J[ga]=ue,J[Gi]=function(we){W&&W.rm(),W=null};function ue(we,Ze){if(!Fe()){var Ue=!0,it=Vv+Ze[i5];if(b[it]?Ue=!1:b[it]=!0,Ue&&(we<=D&&(J.queue[nr](Ze),x++,Ne(we===1?"error":"warn",Ze)),x===F)){var Qe="Internal events throttle limit per PageView reached for this app.",Ge=new Zf(23,Qe,!1);J.queue[nr](Ge),we===1?J.errorToConsole(Qe):J[k1](Qe)}}}s(ue,"_logInternalMessage");function ke(we){return Xf(En(we,ba,J).cfg,function(Ze){var Ue=Ze.cfg;I=Ue[k6],D=Ue.loggingLevelTelemetry,F=Ue.maxMessageLimit,V=Ue.enableDebug})}s(ke,"_setDefaultsFromConfig");function Fe(){return x>=F}s(Fe,"_areInternalMessagesThrottled");function Ne(we,Ze){var Ue=em(m||{});Ue&&Ue[Do]&&Ue[Do](we,Ze)}s(Ne,"_debugExtMsg")})}return s(h,"DiagnosticLogger"),h.__ieDyn=1,h}();function rm(h){return h||new E5}s(rm,"_getLogger");function Ot(h,m,x,b,I,D){D===void 0&&(D=!1),rm(h)[N1](m,x,b,I,D)}s(Ot,"_throwInternal");function ec(h,m){rm(h)[k1](m)}s(ec,"_warnToConsole");var S5,Ta,nm="toGMTString",su="toUTCString",R4="cookie",k4="expires",im="isCookieUseDisabled",N4="disableCookiesUsage",sm="_ckMgr",w5=null,D4=null,om=null,Ss,am={},lm={},zv=(S5={cookieCfg:qv((Ta={},Ta[u5]={fb:"cookieDomain",dfVal:h4},Ta.path={fb:"cookiePath",dfVal:h4},Ta.enabled=Wi,Ta.ignoreCookies=Wi,Ta.blockedCookies=Wi,Ta)),cookieDomain:Wi,cookiePath:Wi},S5[N4]=Wi,S5);function L4(){!Ss&&(Ss=ki(function(){return fl()}))}s(L4,"_getDoc");function Bo(h){return h?h.isEnabled():!0}s(Bo,"_isMgrEnabled");function Gn(h,m){return m&&h&&G(h.ignoreCookies)?zi(h.ignoreCookies,m)!==-1:!1}s(Gn,"_isIgnoredCookie");function B4(h,m){return m&&h&&G(h.blockedCookies)&&zi(h.blockedCookies,m)!==-1?!0:Gn(h,m)}s(B4,"_isBlockedCookie");function O4(h,m){var x=m[pl];if(le(x)){var b=void 0;ve(h[im])||(b=!h[im]),ve(h[N4])||(b=!h[N4]),x=b}return x}s(O4,"_isCfgEnabled");function F4(h,m){var x,b,I,D,F,V,W,J,ue;h=En(h||lm,null,m).cfg,F=Xf(h,function(Fe){Fe[wf](Fe.cfg,zv),b=Fe.ref(Fe.cfg,"cookieCfg"),I=b[f4]||"/",D=b[u5],V=O4(h,b)!==!1,W=b.getCookie||Kv,J=b.setCookie||q4,ue=b.delCookie||q4},m);var ke=(x={isEnabled:function(){var Fe=O4(h,b)!==!1&&V&&M4(m),Ne=lm[sm];return Fe&&Ne&&ke!==Ne&&(Fe=Bo(Ne)),Fe},setEnabled:function(Fe){V=Fe!==!1,b[pl]=Fe},set:function(Fe,Ne,we,Ze,Ue){var it=!1;if(Bo(ke)&&!B4(b,Fe)){var Qe={},Ge=Vr(Ne||L0),ft=bf(Ge,";");if(ft!==-1&&(Ge=Vr(K(Ne,ft)),Qe=I5(M(Ne,ft+1))),va(Qe,u5,Ze||D,wt,ve),!le(we)){var t0=o0();if(ve(Qe[k4])){var Z0=la(),Ar=Z0+we*1e3;if(Ar>0){var mr=new Date;mr.setTime(Ar),va(Qe,k4,U4(mr,t0?nm:su)||U4(mr,t0?nm:su)||L0,wt)}}t0||va(Qe,"max-age",L0+we,null,ve)}var An=b4();An&&An.protocol==="https:"&&(va(Qe,"secure",null,null,ve),D4===null&&(D4=!Il((oa()||{})[kf])),D4&&va(Qe,"SameSite","None",null,ve)),va(Qe,f4,Ue||I,null,ve),J(Fe,fm(Ge,Qe)),it=!0}return it},get:function(Fe){var Ne=L0;return Bo(ke)&&!Gn(b,Fe)&&(Ne=W(Fe)),Ne},del:function(Fe,Ne){var we=!1;return Bo(ke)&&(we=ke.purge(Fe,Ne)),we},purge:function(Fe,Ne){var we,Ze=!1;if(M4(m)){var Ue=(we={},we[f4]=Ne||"/",we[k4]="Thu, 01 Jan 1970 00:00:01 GMT",we);o0()||(Ue["max-age"]="0"),ue(Fe,fm(L0,Ue)),Ze=!0}return Ze}},x[Gi]=function(Fe){F&&F.rm(),F=null},x);return ke[sm]=ke,ke}s(F4,"createCookieMgr");function M4(h){if(w5===null){w5=!1,!Ss&&L4();try{var m=Ss.v||{};w5=m[R4]!==void 0}catch(x){Ot(h,2,68,"Cannot access document.cookie - "+Kn(x),{exception:kt(x)})}}return w5}s(M4,"areCookiesSupported");function I5(h){var m={};if(h&&h[b0]){var x=Vr(h)[Nf](";");Jt(x,function(b){if(b=Vr(b||L0),b){var I=bf(b,"=");I===-1?m[b]=null:m[Vr(K(b,I))]=Vr(M(b,I+1))}})}return m}s(I5,"_extractParts");function U4(h,m){return ze(h[m])?h[m]():null}s(U4,"_formatDate");function fm(h,m){var x=h||L0;return vt(m,function(b,I){x+="; "+b+(le(I)?L0:"="+I)}),x}s(fm,"_formatCookieValue");function Kv(h){var m=L0;if(!Ss&&L4(),Ss.v){var x=Ss.v[R4]||L0;om!==x&&(am=I5(x),om=x),m=Vr(am[h]||L0)}return m}s(Kv,"_getCookieValue");function q4(h,m){!Ss&&L4(),Ss.v&&(Ss.v[R4]=h+"="+m)}s(q4,"_setCookieValue");function Il(h){return dt(h)?!!(Cn(h,"CPU iPhone OS 12")||Cn(h,"iPad; CPU OS 12")||Cn(h,"Macintosh; Intel Mac OS X 10_14")&&Cn(h,"Version/")&&Cn(h,"Safari")||Cn(h,"Macintosh; Intel Mac OS X 10_14")&&$d(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Cn(h,"Chrome/5")||Cn(h,"Chrome/6")||Cn(h,"UnrealEngine")&&!Cn(h,"Chrome")||Cn(h,"UCBrowser/12")||Cn(h,"UCBrowser/11")):!1}s(Il,"uaDisallowsSameSiteNone");var Gv={perfEvtsSendAll:!1};function tc(h,m,x,b){Jt(h,function(I){if(I&&I[m])if(x)$s(function(){return b(I)},0);else try{b(I)}catch{}})}s(tc,"_runListeners");var Wv=function(){function h(m){this.listeners=[];var x,b,I=[],D=En(m,Gv);b=D[ko](function(F){x=!!F.cfg.perfEvtsSendAll}),gi(h,this,function(F){rr(F,"listeners",{g:function(){return I}}),F[B1]=function(V){I[nr](V)},F[O1]=function(V){for(var W=zi(I,V);W>-1;)I[ml](W,1),W=zi(I,V)},F[bl]=function(V){tc(I,bl,!0,function(W){W[bl](V)})},F[ya]=function(V,W){tc(I,ya,!0,function(J){J[ya](V,W)})},F[V1]=function(V,W){tc(I,V1,W,function(J){J[V1](V,W)})},F[zn]=function(V){V&&(x||!V[o5]())&&tc(I,zn,!1,function(W){V[Rf]?$s(function(){return W[zn](V)},0):W[zn](V)})},F[Gi]=function(V){var W=s(function(){b&&b.rm(),b=null,I=[]},"_finishUnload"),J;if(tc(I,"unload",!1,function(ue){var ke=ue[Gi](V);ke&&(J||(J=[]),J[nr](ke))}),J)return Ff(function(ue){return l5(F6(J),function(){W(),ue()})});W()}})}return s(h,"NotificationManager"),h.__ieDyn=1,h}(),rc="ctx",nc="ParentContextKey",Al="ChildrenContextKey",Yv=null,ou=function(){function h(m,x,b){var I=this;if(I.start=la(),I[ma]=m,I[Rf]=b,I[o5]=function(){return!1},ze(x)){var D;rr(I,"payload",{g:function(){return!D&&ze(x)&&(D=x(),x=null),D}})}I[Df]=function(F){return F?F===h[nc]||F===h[Al]?I[F]:(I[rc]||{})[F]:null},I[zs]=function(F,V){if(F)if(F===h[nc])I[F]||(I[o5]=function(){return!0}),I[F]=V;else if(F===h[Al])I[F]=V;else{var W=I[rc]=I[rc]||{};W[F]=V}},I[q1]=function(){var F=0,V=I[Df](h[Al]);if(G(V))for(var W=0;W<V[b0];W++){var J=V[W];J&&(F+=J[Af])}I[Af]=la()-I.start,I.exTime=I[Af]-F,I[q1]=function(){}}}return s(h,"PerfEvent"),h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),j4=function(){function h(m){this.ctx={},gi(h,this,function(x){x.create=function(b,I,D){return new ou(b,I,D)},x.fire=function(b){b&&(b[q1](),m&&ze(m[zn])&&m[zn](b))},x[zs]=function(b,I){if(b){var D=x[rc]=x[rc]||{};D[b]=I}},x[Df]=function(b){return(x[rc]||{})[b]}})}return s(h,"PerfManager"),h.__ieDyn=1,h}(),$4="CoreUtils.doPerf";function cm(h,m,x,b,I){if(h){var D=h;if(D[z1]&&(D=D[z1]()),D){var F=void 0,V=D[Df]($4);try{if(F=D.create(m(),b,I),F){if(V&&F[zs]&&(F[zs](ou[nc],V),V[Df]&&V[zs])){var W=V[Df](ou[Al]);W||(W=[],V[zs](ou[Al],W)),W[nr](F)}return D[zs]($4,F),x(F)}}catch(J){F&&F[zs]&&F[zs]("exception",J)}finally{F&&D.fire(F),D[zs]($4,V)}}}return x()}s(cm,"doPerf");function au(){return Yv}s(au,"getGblPerfMgr");var Xv="00000000000000000000000000000000",H4="0000000000000000";function um(h,m,x){return h&&h[b0]===m&&h!==x?!!h.match(/^[\da-f]*$/i):!1}s(um,"_isValid");function Jv(h){return um(h,32,Xv)}s(Jv,"isValidTraceId");function Qv(h){return um(h,16,H4)}s(Qv,"isValidSpanId");var Zv=Ws("plugin");function Pl(h){return Zv.get(h,"state",{},!0)}s(Pl,"_getPluginState");function dm(h,m){for(var x=[],b=null,I=h[pi](),D;I;){var F=I[L1]();if(F){b&&b[M1]&&F[Yi]&&b[M1](F),D=Pl(F);var V=!!D[Hs];F[Hs]&&(V=F[Hs]()),V||x[nr](F),b=F,I=I[pi]()}}Jt(x,function(W){var J=h[Or]();W[D1](h.getCfg(),J,m,h[pi]()),D=Pl(W),!W[Or]&&!D[Or]&&(D[Or]=J),D[Hs]=!0,delete D[No]})}s(dm,"initializePlugins");function V4(h){return h.sort(function(m,x){var b=0;if(x){var I=x[Yi];m[Yi]?b=I?m[Uf]-x[Uf]:1:I&&(b=-1)}else b=m?1:-1;return b})}s(V4,"sortPlugins");function ex(h){var m={};return{getName:function(){return m[ma]},setName:function(x){h&&h.setName(x),m[ma]=x},getTraceId:function(){return m[n4]},setTraceId:function(x){h&&h.setTraceId(x),Jv(x)&&(m[n4]=x)},getSpanId:function(){return m[N6]},setSpanId:function(x){h&&h.setSpanId(x),Qv(x)&&(m[N6]=x)},getTraceFlags:function(){return m[Lf]},setTraceFlags:function(x){h&&h.setTraceFlags(x),m[Lf]=x}}}s(ex,"createDistributedTraceContext");var tx="TelemetryPluginChain",Oo="_hasRun",ic="_getTelCtx",Fr=0;function A5(h,m,x){for(;h;){if(h[L1]()===x)return h;h=h[pi]()}return Is([x],m.config||{},m)}s(A5,"_getNextProxyStart");function Ea(h,m,x,b){var I=null,D=[];m||(m=En({},null,x[Br])),b!==null&&(I=b?A5(h,x,b):h);var F={_next:W,ctx:{core:function(){return x},diagLog:function(){return iu(x,m.cfg)},getCfg:function(){return m.cfg},getExtCfg:ue,getConfig:ke,hasNext:function(){return!!I},getNext:function(){return I},setNext:function(Ne){I=Ne},iterate:Fe,onComplete:V}};function V(Ne,we){for(var Ze=[],Ue=2;Ue<arguments.length;Ue++)Ze[Ue-2]=arguments[Ue];Ne&&D[nr]({func:Ne,self:ve(we)?F.ctx:we,args:Ze})}s(V,"_addOnComplete");function W(){var Ne=I;if(I=Ne?Ne[pi]():null,!Ne){var we=D;we&&we[b0]>0&&(Jt(we,function(Ze){try{Ze.func.call(Ze.self,Ze.args)}catch(Ue){Ot(x[Br],2,73,"Unexpected Exception during onComplete - "+kt(Ue))}}),D=[])}return Ne}s(W,"_moveNext");function J(Ne,we){var Ze=null,Ue=m.cfg;if(Ue&&Ne){var it=Ue[_l];!it&&we&&(it={}),Ue[_l]=it,it=m.ref(Ue,_l),it&&(Ze=it[Ne],!Ze&&we&&(Ze={}),it[Ne]=Ze,Ze=m.ref(it,Ne))}return Ze}s(J,"_getExtCfg");function ue(Ne,we){var Ze=J(Ne,!0);return we&&vt(we,function(Ue,it){if(le(Ze[Ue])){var Qe=m.cfg[Ue];(Qe||!le(Qe))&&(Ze[Ue]=Qe)}_5(m,Ze,Ue,it)}),m[wf](Ze,we)}s(ue,"_resolveExtCfg");function ke(Ne,we,Ze){Ze===void 0&&(Ze=!1);var Ue,it=J(Ne,!1),Qe=m.cfg;return it&&(it[we]||!le(it[we]))?Ue=it[we]:(Qe[we]||!le(Qe[we]))&&(Ue=Qe[we]),Ue||!le(Ue)?Ue:Ze}s(ke,"_getConfig");function Fe(Ne){for(var we;we=F._next();){var Ze=we[L1]();Ze&&Ne(Ze)}}return s(Fe,"_iterateChain"),F}s(Ea,"_createInternalContext");function Sa(h,m,x,b){var I=En(m),D=Ea(h,I,x,b),F=D.ctx;function V(J){var ue=D._next();return ue&&ue[Yi](J,F),!ue}s(V,"_processNext");function W(J,ue){return J===void 0&&(J=null),G(J)&&(J=Is(J,I.cfg,x,ue)),Sa(J||F[pi](),I.cfg,x,ue)}return s(W,"_createNew"),F[Hn]=V,F[bs]=W,F}s(Sa,"createProcessTelemetryContext");function ws(h,m,x){var b=En(m.config),I=Ea(h,b,m,x),D=I.ctx;function F(W){var J=I._next();return J&&J[Gi](D,W),!J}s(F,"_processNext");function V(W,J){return W===void 0&&(W=null),G(W)&&(W=Is(W,b.cfg,m,J)),ws(W||D[pi](),m,J)}return s(V,"_createNew"),D[Hn]=F,D[bs]=V,D}s(ws,"createProcessTelemetryUnloadContext");function Fo(h,m,x){var b=En(m.config),I=Ea(h,b,m,x),D=I.ctx;function F(W){return D.iterate(function(J){ze(J[F1])&&J[F1](D,W)})}s(F,"_processNext");function V(W,J){return W===void 0&&(W=null),G(W)&&(W=Is(W,b.cfg,m,J)),Fo(W||D[pi](),m,J)}return s(V,"_createNew"),D[Hn]=F,D[bs]=V,D}s(Fo,"createProcessTelemetryUpdateContext");function Is(h,m,x,b){var I=null,D=!b;if(G(h)&&h[b0]>0){var F=null;Jt(h,function(V){if(!D&&b===V&&(D=!0),D&&V&&ze(V[Yi])){var W=hm(V,m,x);I||(I=W),F&&F._setNext(W),F=W}})}return b&&!I?Is([b],m,x):I}s(Is,"createTelemetryProxyChain");function hm(h,m,x){var b=null,I=ze(h[Yi]),D=ze(h[M1]),F;h?F=h[ha]+"-"+h[Uf]+"-"+Fr++:F="Unknown-0-"+Fr++;var V={getPlugin:function(){return h},getNext:function(){return b},processTelemetry:ue,unload:ke,update:Fe,_id:F,_setNext:function(Ne){b=Ne}};function W(){var Ne;return h&&ze(h[ic])&&(Ne=h[ic]()),Ne||(Ne=Sa(V,m,x)),Ne}s(W,"_getTelCtx");function J(Ne,we,Ze,Ue,it){var Qe=!1,Ge=h?h[ha]:tx,ft=Ne[Oo];return ft||(ft=Ne[Oo]={}),Ne.setNext(b),h&&cm(Ne[Or](),function(){return Ge+":"+Ze},function(){ft[F]=!0;try{var t0=b?b._id:L0;t0&&(ft[t0]=!1),Qe=we(Ne)}catch(Ar){var Z0=b?ft[b._id]:!0;Z0&&(Qe=!0),(!b||!Z0)&&Ot(Ne[Do](),1,73,"Plugin ["+Ge+"] failed during "+Ze+" - "+kt(Ar)+", run flags: "+kt(ft))}},Ue,it),Qe}s(J,"_processChain");function ue(Ne,we){we=we||W();function Ze(Ue){if(!h||!I)return!1;var it=Pl(h);return it[No]||it[Vn]?!1:(D&&h[M1](b),h[Yi](Ne,Ue),!0)}s(Ze,"_callProcessTelemetry"),J(we,Ze,"processTelemetry",function(){return{item:Ne}},!Ne.sync)||we[Hn](Ne)}s(ue,"_processTelemetry");function ke(Ne,we){function Ze(){var Ue=!1;if(h){var it=Pl(h),Qe=h[Or]||it[Or];h&&(!Qe||Qe===Ne.core())&&!it[No]&&(it[Or]=null,it[No]=!0,it[Hs]=!1,h[No]&&h[No](Ne,we)===!0&&(Ue=!0))}return Ue}s(Ze,"_callTeardown"),J(Ne,Ze,"unload",function(){},we[Rf])||Ne[Hn](we)}s(ke,"_unloadPlugin");function Fe(Ne,we){function Ze(){var Ue=!1;if(h){var it=Pl(h),Qe=h[Or]||it[Or];h&&(!Qe||Qe===Ne.core())&&!it[No]&&h[F1]&&h[F1](Ne,we)===!0&&(Ue=!0)}return Ue}s(Ze,"_callUpdate"),J(Ne,Ze,"update",function(){},!1)||Ne[Hn](we)}return s(Fe,"_updatePlugin"),Y(V)}s(hm,"createTelemetryPluginProxy");function z4(){var h=[];function m(b){b&&h[nr](b)}s(m,"_addHandler");function x(b,I){Jt(h,function(D){try{D(b,I)}catch(F){Ot(b[Do](),2,73,"Unexpected error calling unload handler - "+kt(F))}}),h=[]}return s(x,"_runHandlers"),{add:m,run:x}}s(z4,"createUnloadHandlerContainer");function mm(){var h=[];function m(b){var I=h;h=[],Jt(I,function(D){try{(D.rm||D.remove).call(D)}catch(F){Ot(b,2,73,"Unloading:"+kt(F))}})}s(m,"_doUnload");function x(b){b&&aa(h,b)}return s(x,"_addHook"),{run:m,add:x}}s(mm,"createUnloadHookContainer");var K4,wa="getPlugin",rx=(K4={},K4[_l]={isVal:h4,v:{}},K4),G4=function(){function h(){var m=this,x,b,I,D,F;J(),gi(h,m,function(ue){ue[D1]=function(ke,Fe,Ne,we){W(ke,Fe,we),x=!0},ue[No]=function(ke,Fe){var Ne,we=ue[Or];if(!we||ke&&we!==ke[Or]())return;var Ze,Ue=!1,it=ke||ws(null,we,I&&I[wa]?I[wa]():I),Qe=Fe||(Ne={reason:0},Ne[Rf]=!1,Ne);function Ge(){Ue||(Ue=!0,D.run(it,Fe),F.run(it[Do]()),Ze===!0&&it[Hn](Qe),J())}return s(Ge,"_unloadCallback"),!ue[s5]||ue[s5](it,Qe,Ge)!==!0?Ge():Ze=!0,Ze},ue[F1]=function(ke,Fe){var Ne=ue[Or];if(!Ne||ke&&Ne!==ke[Or]())return;var we,Ze=!1,Ue=ke||Fo(null,Ne,I&&I[wa]?I[wa]():I),it=Fe||{reason:0};function Qe(){Ze||(Ze=!0,W(Ue.getCfg(),Ue.core(),Ue[pi]()))}return s(Qe,"_updateCallback"),!ue._doUpdate||ue._doUpdate(Ue,it,Qe)!==!0?Qe():we=!0,we},qf(ue,"_addUnloadCb",function(){return D},"add"),qf(ue,"_addHook",function(){return F},"add"),rr(ue,"_unloadHooks",{g:function(){return F}})}),m[Do]=function(ue){return V(ue)[Do]()},m[Hs]=function(){return x},m.setInitialized=function(ue){x=ue},m[M1]=function(ue){I=ue},m[Hn]=function(ue,ke){ke?ke[Hn](ue):I&&ze(I[Yi])&&I[Yi](ue,null)},m._getTelCtx=V;function V(ue){ue===void 0&&(ue=null);var ke=ue;if(!ke){var Fe=b||Sa(null,{},m[Or]);I&&I[wa]?ke=Fe[bs](null,I[wa]):ke=Fe[bs](null,I)}return ke}s(V,"_getTelCtx");function W(ue,ke,Fe){En(ue,rx,iu(ke)),!Fe&&ke&&(Fe=ke[t4]()[pi]());var Ne=I;I&&I[wa]&&(Ne=I[wa]()),m[Or]=ke,b=Sa(Fe,ue,ke,Ne)}s(W,"_setDefaults");function J(){x=!1,m[Or]=null,b=null,I=null,F=mm(),D=z4()}s(J,"_initDefaults")}return s(h,"BaseTelemetryPlugin"),h.__ieDyn=1,h}();function nx(h,m,x){var b={id:m,fn:x};aa(h,b);var I={remove:function(){Jt(h,function(D,F){if(D.id===b.id)return h[ml](F,1),-1})}};return I}s(nx,"_addInitializer");function ix(h,m,x){for(var b=!1,I=h[b0],D=0;D<I;++D){var F=h[D];if(F)try{if(F.fn[If](null,[m])===!1){b=!0;break}}catch(V){Ot(x,2,64,"Telemetry initializer failed: "+Kn(V),{exception:kt(V)},!0)}}return!b}s(ix,"_runInitializers");var sx=function(h){A1(m,h);function m(){var x=h.call(this)||this;x.identifier="TelemetryInitializerPlugin",x.priority=199;var b,I;D(),gi(m,x,function(F,V){F.addTelemetryInitializer=function(W){return nx(I,b++,W)},F[Yi]=function(W,J){ix(I,W,J?J[Do]():F[Do]())&&F[Hn](W,J)},F[s5]=function(){D()}});function D(){b=0,I=[]}return s(D,"_initDefaults"),x}return s(m,"TelemetryInitializerPlugin"),m.__ieDyn=1,m}(G4),Ia,v="Plugins must provide initialize method",T="_notificationManager",w="SDK is still unloading...",R="SDK is not initialized",z=Xt((Ia={cookieCfg:{}},Ia[Mf]={rdOnly:!0,ref:!0,v:[]},Ia[xl]={rdOnly:!0,ref:!0,v:[]},Ia[_l]={ref:!0,v:{}},Ia[l4]=Wi,Ia.loggingLevelConsole=0,Ia.diagnosticLogInterval=Wi,Ia));function ne(h,m){return new j4(m)}s(ne,"_createPerfManager");function me(h,m,x){var b,I=[],D=[],F={};return Jt(x,function(V){(le(V)||le(V[D1]))&&X0(v);var W=V[Uf],J=V[ha];V&&W&&(le(F[W])?F[W]=J:ec(h,"Two extensions have same priority #"+W+" - "+F[W]+", "+J)),!W||W<m?I[nr](V):D[nr](V)}),b={},b[Or]=I,b[xl]=D,b}s(me,"_validateExtensions");function Se(h,m){var x=!1;return Jt(m,function(b){if(b===h)return x=!0,-1}),x}s(Se,"_isPluginPresent");function Le(h,m,x,b){x&&vt(x,function(I,D){b&&mi(D)&&mi(m[I])&&Le(h,m[I],D,b),b&&mi(D)&&mi(m[I])?Le(h,m[I],D,b):h.set(m,I,D)})}s(Le,"_deepMergeConfig");function We(h,m){var x=null,b=-1;return Jt(h,function(I,D){if(I.w===m)return x=I,b=D,-1}),{i:b,l:x}}s(We,"_findWatcher");function ht(h,m){var x=We(h,m).l;return x||(x={w:m,rm:function(){var b=We(h,m);b.i!==-1&&h[ml](b.i,1)}},h[nr](x)),x}s(ht,"_addDelayedCfgListener");function a0(h,m,x){Jt(m,function(b){var I=Xf(h,b.w,x);delete b.w,b.rm=function(){I.rm()}})}s(a0,"_registerDelayedCfgListener");var i0=function(){function h(){var m,x,b,I,D,F,V,W,J,ue,ke,Fe,Ne,we,Ze,Ue,it,Qe,Ge,ft,t0,Z0,Ar,mr,An,Qr,hh,hc;gi(h,this,function(pt){mc(),pt._getDbgPlgTargets=function(){return[Ar]},pt[Hs]=function(){return x},pt[D1]=function(He,Ct,r0,Kt){Ne&&X0(w),pt[Hs]()&&X0("Core cannot be initialized more than once"),m=En(He,z,r0||pt[Br],!1),He=m.cfg,Fl(m[ko](function(q0){t0=q0.cfg.instrumentationKey;var Zr=q0.ref(q0.cfg,_l);vt(Zr,function(yn){q0.ref(Zr,yn)}),le(t0)&&X0("Please provide instrumentation key")})),D=Kt,Ox(),Fx(),pt[Br]=r0;var Wt=He[Mf];if(ue=[],ue[nr].apply(ue,I6(I6([],Ct,!1),Wt)),ke=He[xl],Js(null),(!Fe||Fe[b0]===0)&&X0("No "+xl+" available"),ke&&ke[b0]>1){var fr=pt[L1]("TeeChannelController");(!fr||!fr.plugin)&&Ot(b,1,28,"TeeChannel required")}a0(He,Z0,b),Z0=null,x=!0,pt.releaseQueue(),pt[P6]()},pt.getChannels=function(){var He=[];return Fe&&Jt(Fe,function(Ct){He[nr](Ct)}),Y(He)},pt.track=function(He){cm(pt[z1](),function(){return"AppInsightsCore:track"},function(){He===null&&(gh(He),X0("Invalid telemetry item")),!He[ma]&&le(He[ma])&&(gh(He),X0("telemetry name required")),He.iKey=He.iKey||t0,He[Af]=He[Af]||K1(new Date),He.ver=He.ver||"4.0",!Ne&&pt[Hs]()?Ol()[Hn](He):I[nr](He)},function(){return{item:He}},!He.sync)},pt[t4]=Ol,pt[Ki]=function(){return D||(D=new Wv(m.cfg),pt[T]=D),D},pt[B1]=function(He){pt[Ki]()[B1](He)},pt[O1]=function(He){D&&D[O1](He)},pt.getCookieMgr=function(){return W||(W=F4(m.cfg,pt[Br])),W},pt.setCookieMgr=function(He){W!==He&&(Jf(W,!1),W=He)},pt[z1]=function(){return!F&&!V&&Fl(m[ko](function(He){if(He.cfg.enablePerfMgr){var Ct=He.cfg[l4];ze(Ct)&&(V=Ct(pt,pt[Ki]()))}})),F||V||au()},pt.setPerfMgr=function(He){F=He},pt.eventCnt=function(){return I[b0]},pt.releaseQueue=function(){if(x&&I[b0]>0){var He=I;I=[],Jt(He,function(Ct){Ol()[Hn](Ct)})}},pt[P6]=function(He){return Ze=He||null,hc=!1,Qr&&Qr[gl](),jo(!0)};function jo(He){if((!Qr||!Qr[pl])&&!hc){var Ct=He||b&&b.queue[b0]>0;Ct&&(hh||(hh=!0,Fl(m[ko](function(r0){var Kt=r0.cfg.diagnosticLogInterval;(!Kt||!(Kt>0))&&(Kt=1e4);var Wt=!1;Qr&&(Wt=Qr[pl],Qr[gl]()),Qr=T6(Pu,Kt),Qr.unref(),Qr[pl]=Wt}))),Qr[pl]=!0)}return Qr}s(jo,"_startLogPoller"),pt[Pf]=function(){hc=!0,Qr&&Qr[gl](),Pu()},g4(pt,function(){return we},["addTelemetryInitializer"]),pt[Gi]=function(He,Ct,r0){var Kt;He===void 0&&(He=!0),x||X0(R),Ne&&X0(w);var Wt=(Kt={reason:50},Kt[Rf]=He,Kt.flushComplete=!1,Kt),fr;He&&!Ct&&(fr=Ff(function(yn){Ct=yn}));var q0=ws(rt(),pt);q0[n5](function(){Qe.run(pt[Br]),J6([W,D,b],He,function(){mc(),Ct&&Ct(Wt)})},pt);function Zr(yn){Wt.flushComplete=yn,Ne=!0,it.run(q0,Wt),pt[Pf](),q0[Hn](Wt)}return s(Zr,"_doUnload"),Pu(),mh(He,Zr,6,r0),fr},pt[L1]=q5,pt.addPlugin=function(He,Ct,r0,Kt){if(!He){Kt&&Kt(!1),Fm(v);return}var Wt=q5(He[ha]);if(Wt&&!Ct){Kt&&Kt(!1),Fm("Plugin ["+He[ha]+"] is already loaded!");return}var fr={reason:16};function q0(Zi){ue[nr](He),fr.added=[He],Js(fr),Kt&&Kt(!0)}if(s(q0,"_addPlugin"),Wt){var Zr=[Wt.plugin],yn={reason:2,isAsync:!!r0};Bm(Zr,yn,function(Zi){Zi?(fr.removed=Zr,fr.reason|=32,q0()):Kt&&Kt(!1)})}else q0()},pt.updateCfg=function(He,Ct){Ct===void 0&&(Ct=!0);var r0;if(pt[Hs]()){r0={reason:1,cfg:m.cfg,oldCfg:x6({},m.cfg),newConfig:x6({},He),merge:Ct},He=r0.newConfig;var Kt=m.cfg;He[Mf]=Kt[Mf],He[xl]=Kt[xl]}m._block(function(Wt){var fr=Wt.cfg;Le(Wt,fr,He,Ct),Ct||vt(fr,function(q0){H(He,q0)||Wt.set(fr,q0,Wi)}),Wt[wf](fr,z)},!0),m[r5](),r0&&Om(r0)},pt.evtNamespace=function(){return Ue},pt.flush=mh,pt.getTraceCtx=function(He){return ft||(ft=ex()),ft},pt.setTraceCtx=function(He){ft=He||null},pt.addUnloadHook=Fl,qf(pt,"addUnloadCb",function(){return it},"add"),pt.onCfgChange=function(He){var Ct;return x?Ct=Xf(m.cfg,He,pt[Br]):Ct=ht(Z0,He),{rm:function(){Ct.rm()}}},pt.getWParam=function(){return F2()||m.cfg.enableWParam?0:-1};function Au(){var He={};mr=[];var Ct=s(function(r0){r0&&Jt(r0,function(Kt){if(Kt[ha]&&Kt[R6]&&!He[Kt.identifier]){var Wt=Kt[ha]+"="+Kt[R6];mr[nr](Wt),He[Kt.identifier]=Kt}})},"_addPluginVersions");Ct(Fe),ke&&Jt(ke,function(r0){Ct(r0)}),Ct(ue)}s(Au,"_setPluginVersions");function mc(){x=!1,m=En({},z,pt[Br]),m.cfg[k6]=1,rr(pt,"config",{g:function(){return m.cfg},s:function(Ct){pt.updateCfg(Ct,!1)}}),rr(pt,"pluginVersionStringArr",{g:function(){return mr||Au(),mr}}),rr(pt,"pluginVersionString",{g:function(){return An||(mr||Au(),An=mr.join(";")),An||L0}}),rr(pt,"logger",{g:function(){return b||(b=new E5(m.cfg),m[Br]=b),b},s:function(Ct){m[Br]=Ct,b!==Ct&&(Jf(b,!1),b=Ct)}}),pt[Br]=new E5(m.cfg),Ar=[];var He=pt.config[Mf]||[];He.splice(0,He[b0]),aa(He,Ar),we=new sx,I=[],Jf(D,!1),D=null,F=null,V=null,Jf(W,!1),W=null,J=null,ue=[],ke=null,Fe=null,Ne=!1,Ze=null,Ue=Ji("AIBaseCore",!0),it=z4(),ft=null,t0=null,Qe=mm(),Z0=[],An=null,mr=null,hc=!1}s(mc,"_initDefaults");function Ol(){var He=Sa(rt(),m.cfg,pt);return He[n5](jo),He}s(Ol,"_createTelCtx");function Js(He){var Ct=me(pt[Br],Q6,ue);J=null,An=null,mr=null,Fe=(ke||[])[0]||[],Fe=V4(aa(Fe,Ct[xl]));var r0=aa(V4(Ct[Or]),Fe);Ar=Y(r0);var Kt=pt.config[Mf]||[];Kt.splice(0,Kt[b0]),aa(Kt,Ar);var Wt=Ol();Fe&&Fe[b0]>0&&dm(Wt[bs](Fe),r0),dm(Wt,r0),He&&Om(He)}s(Js,"_initPluginChain");function q5(He){var Ct=null,r0=null,Kt=[];return Jt(Ar,function(Wt){if(Wt[ha]===He&&Wt!==we)return r0=Wt,-1;Wt.getChannel&&Kt[nr](Wt)}),!r0&&Kt[b0]>0&&Jt(Kt,function(Wt){if(r0=Wt.getChannel(He),!r0)return-1}),r0&&(Ct={plugin:r0,setEnabled:function(Wt){Pl(r0)[Vn]=!Wt},isEnabled:function(){var Wt=Pl(r0);return!Wt[No]&&!Wt[Vn]},remove:function(Wt,fr){var q0;Wt===void 0&&(Wt=!0);var Zr=[r0],yn=(q0={reason:1},q0[Rf]=Wt,q0);Bm(Zr,yn,function(Zi){Zi&&Js({reason:32,removed:Zr}),fr&&fr(Zi)})}}),Ct}s(q5,"_getPlugin");function rt(){if(!J){var He=(Ar||[]).slice();zi(He,we)===-1&&He[nr](we),J=Is(V4(He),m.cfg,pt)}return J}s(rt,"_getPluginChain");function Bm(He,Ct,r0){if(He&&He[b0]>0){var Kt=Is(He,m.cfg,pt),Wt=ws(Kt,pt);Wt[n5](function(){var fr=!1,q0=[];Jt(ue,function(yn,Zi){Se(yn,He)?fr=!0:q0[nr](yn)}),ue=q0,An=null,mr=null;var Zr=[];ke&&(Jt(ke,function(yn,Zi){var gc=[];Jt(yn,function(Mm){Se(Mm,He)?fr=!0:gc[nr](Mm)}),Zr[nr](gc)}),ke=Zr),r0&&r0(fr),jo()}),Wt[Hn](Ct)}else r0(!1)}s(Bm,"_removePlugins");function Pu(){if(b&&b.queue){var He=b.queue.slice(0);b.queue[b0]=0,Jt(He,function(Ct){var r0,Kt=(r0={},r0[ma]=Ze||"InternalMessageId: "+Ct[i5],r0.iKey=t0,r0[Af]=K1(new Date),r0.baseType=Zf.dataType,r0.baseData={message:Ct[yl]},r0);pt.track(Kt)})}}s(Pu,"_flushInternalLogs");function mh(He,Ct,r0,Kt){var Wt=1,fr=!1,q0=null;Kt=Kt||5e3;function Zr(){Wt--,fr&&Wt===0&&(q0&&q0[gl](),q0=null,Ct&&Ct(fr),Ct=null)}if(s(Zr,"doCallback"),Fe&&Fe[b0]>0){var yn=Ol()[bs](Fe);yn.iterate(function(Zi){if(Zi.flush){Wt++;var gc=!1;Zi.flush(He,function(){gc=!0,Zr()},r0)||gc||(He&&q0==null?q0=$s(function(){q0=null,Zr()},Kt):Zr())}})}return fr=!0,Zr(),!0}s(mh,"_flushChannels");function Ox(){!D&&pt[Ki](),Fl(m[ko](function(He){var Ct=He.cfg.disableDbgExt;Ct===!0&&Ge&&(D[O1](Ge),Ge=null),D&&!Ge&&Ct!==!0&&(Ge=$v(He.cfg),D[B1](Ge))}))}s(Ox,"_initDebugListener");function Fx(){Fl(m[ko](function(He){var Ct=He.cfg.enablePerfMgr;!Ct&&V&&(V=null),Ct&&U6(He.cfg,l4,ne)}))}s(Fx,"_initPerfManager");function Om(He){var Ct=Fo(rt(),pt);Ct[n5](jo),(!pt._updateHook||pt._updateHook(Ct,He)!==!0)&&Ct[Hn](He)}s(Om,"_doUpdate");function Fm(He){var Ct=pt[Br];Ct?(Ot(Ct,2,73,He),jo()):X0(He)}s(Fm,"_logOrThrowError");function gh(He){var Ct=pt[Ki]();Ct&&Ct[ya]([He],2)}s(gh,"_notifyInvalidEvent");function Fl(He){Qe.add(He)}s(Fl,"_addUnloadHook")})}return s(h,"AppInsightsCore"),h.__ieDyn=1,h}(),Zt="on",At="attachEvent",C0="addEventListener",zt="detachEvent",U0="removeEventListener",m0="events";Ji("aiEvtPageHide"),Ji("aiEvtPageShow");var e0=/\.[\.]+/g,wr=/[\.]+$/,sc=1,Aa=Ws("events"),gm=/^([^.]*)(?:\.(.+)|)/;function W4(h){return h&&h[vl]?h[vl](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,L0):h}s(W4,"_normalizeNamespace");function Y4(h,m){var x;if(m){var b=L0;G(m)?(b=L0,Jt(m,function(D){D=W4(D),D&&(D[0]!=="."&&(D="."+D),b+=D)})):b=W4(m),b&&(b[0]!=="."&&(b="."+b),h=(h||L0)+b)}var I=gm.exec(h||L0)||[];return x={},x[Vs]=I[1],x.ns=(I[2]||L0).replace(e0,".").replace(wr,L0)[Nf](".").sort().join("."),x}s(Y4,"_getEvtNamespace");function pm(h,m,x){x===void 0&&(x=!0);var b=Aa.get(h,m0,{},x),I=b[m];return I||(I=b[m]=[]),I}s(pm,"_getRegisteredEvents");function P5(h,m,x,b){h&&m&&m[Vs]&&(h[U0]?h[U0](m[Vs],x,b):h[zt]&&h[zt](Zt+m[Vs],x))}s(P5,"_doDetach");function ym(h,m,x,b){var I=!1;return h&&m&&m[Vs]&&x&&(h[C0]?(h[C0](m[Vs],x,b),I=!0):h[At]&&(h[At](Zt+m[Vs],x),I=!0)),I}s(ym,"_doAttach");function X4(h,m,x,b){for(var I=m[b0];I--;){var D=m[I];D&&(!x.ns||x.ns===D.evtName.ns)&&(!b||b(D))&&(P5(h,D.evtName,D[r4],D.capture),m[ml](I,1))}}s(X4,"_doUnregister");function st(h,m,x){if(m[Vs])X4(h,pm(h,m[Vs]),m,x);else{var b=Aa.get(h,m0,{});vt(b,function(I,D){X4(h,D,m,x)}),gn(b)[b0]===0&&Aa.kill(h,m0)}}s(st,"_unregisterEvents");function Nt(h,m){var x;return m?(G(m)?x=[h].concat(m):x=[h,m],x=Y4("xx",x).ns[Nf](".")):x=h,x}s(Nt,"mergeEvtNamespace");function l0(h,m,x,b,I){var D;I===void 0&&(I=!1);var F=!1;if(h)try{var V=Y4(m,b);if(F=ym(h,V,x,I),F&&Aa.accept(h)){var W=(D={guid:sc++,evtName:V},D[r4]=x,D.capture=I,D);pm(h,V.type)[nr](W)}}catch{}return F}s(l0,"eventOn");function hr(h,m,x,b,I){if(I===void 0&&(I=!1),h)try{var D=Y4(m,b),F=!1;st(h,D,function(V){return D.ns&&!x||V[r4]===x?(F=!0,!0):!1}),F||P5(h,D,x,I)}catch{}}s(hr,"eventOff");var zr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Mr="sampleRate",Ur="ProcessLegacy",Rl="http.method",Mo="https://dc.services.visualstudio.com",Uo="/v2/track",Pa="not_specified",oc=e4({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),lu="split",B0="length",vm="toLowerCase",fu="ingestionendpoint",R5="toString",ox="push",bG="removeItem",ac="name",cu="message",CG="count",ax="stringify",lx="pathname",k5="exceptions",qo="parsedStack",Ra="properties",kl="measurements",N5="sizeInBytes",Nl="typeName",J4="severityLevel",fx="problemGroup",cx="isManual",XR="CreateFromInterface",D5="assembly",uu="fileName",xm="hasFullStack",_m="level",L5="method",Q4="line",bm="duration",JR="receivedResponse";function QR(h,m,x){var b=m[B0],I=TG(h,m);if(I[B0]!==b){for(var D=0,F=I;x[F]!==void 0;)D++,F=M(I,0,147)+wG(D);I=F}return I}s(QR,"dataSanitizeKeyAndAddUniqueness");function TG(h,m){var x;return m&&(m=Vr(Gt(m)),m[B0]>150&&(x=M(m,0,150),Ot(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),x||m}s(TG,"dataSanitizeKey");function vi(h,m,x){x===void 0&&(x=1024);var b;return m&&(x=x||1024,m=Vr(Gt(m)),m[B0]>x&&(b=M(m,0,x),Ot(h,2,61,"string value is too long. It has been truncated to "+x+" characters.",{value:m},!0))),b||m}s(vi,"dataSanitizeString");function ux(h,m){return ek(h,m,2048,66)}s(ux,"dataSanitizeUrl");function ZR(h,m){var x;return m&&m[B0]>32768&&(x=M(m,0,32768),Ot(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),x||m}s(ZR,"dataSanitizeMessage");function EG(h,m){var x;if(m){var b=""+m;b[B0]>32768&&(x=M(b,0,32768),Ot(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return x||m}s(EG,"dataSanitizeException");function du(h,m){if(m){var x={};vt(m,function(b,I){if(n0(I)&&Ni())try{I=Ks()[ax](I)}catch(D){Ot(h,2,49,"custom property is not valid",{exception:D},!0)}I=vi(h,I,8192),b=QR(h,b,x),x[b]=I}),m=x}return m}s(du,"dataSanitizeProperties");function hu(h,m){if(m){var x={};vt(m,function(b,I){b=QR(h,b,x),x[b]=I}),m=x}return m}s(hu,"dataSanitizeMeasurements");function SG(h,m){return m&&ek(h,m,128,69)[R5]()}s(SG,"dataSanitizeId");function ek(h,m,x,b){var I;return m&&(m=Vr(Gt(m)),m[B0]>x&&(I=M(m,0,x),Ot(h,2,b,"input is too long, it has been truncated to "+x+" characters.",{data:m},!0))),I||m}s(ek,"dataSanitizeInput");function wG(h){var m="00"+h;return se(m,m[B0]-3)}s(wG,"dsPadNumber");var tk=fl()||{},rk=0,IG=[null,null,null,null,null];function AG(h){var m=rk,x=IG,b=x[m];return tk.createElement?x[m]||(b=x[m]=tk.createElement("a")):b={host:PG(h,!0)},b.href=h,m++,m>=x[B0]&&(m=0),rk=m,b}s(AG,"urlParseUrl");function PG(h,m){var x=RG(h,m)||"";if(x){var b=x.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[B0]>3&&dt(b[2])&&b[2][B0]>0)return b[2]+(b[3]||"")}return x}s(PG,"urlParseHost");function RG(h,m){var x=null;if(h){var b=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[B0]>2&&dt(b[2])&&b[2][B0]>0&&(x=b[2]||"",m&&b[B0]>2)){var I=(b[1]||"")[vm](),D=b[3]||"";(I==="http"&&D===":80"||I==="https"&&D===":443")&&(D=""),x+=D}}return x}s(RG,"urlParseFullHost");var kG=[Mo+Uo,"https://breeze.aimon.applicationinsights.io"+Uo,"https://dc-int.services.visualstudio.com"+Uo];function Cm(h){return zi(kG,h[vm]())!==-1}s(Cm,"isInternalApplicationInsightsEndpoint");function NG(h,m,x,b){var I,D=b,F=b;if(m&&m[B0]>0){var V=AG(m);if(I=V.host,!D)if(V[lx]!=null){var W=V.pathname[B0]===0?"/":V[lx];W.charAt(0)!=="/"&&(W="/"+W),F=V[lx],D=vi(h,x?x+" "+W:W)}else D=vi(h,m)}else I=b,D=b;return{target:I,name:D,data:F}}s(NG,"AjaxHelperParseDependencyPath");var dx=e5({LocalStorage:0,SessionStorage:1}),Z4=void 0,nk="";function ik(h){try{if(le(ps()))return null;var m=new Date()[R5](),x=Yr(h===dx.LocalStorage?"localStorage":"sessionStorage"),b=nk+m;x.setItem(b,m);var I=x.getItem(b)!==m;if(x[bG](b),!I)return x}catch{}return null}s(ik,"_getVerifiedStorageObject");function sk(){return ok()?ik(dx.SessionStorage):null}s(sk,"_getSessionStorageObject");function DG(h){nk=h||""}s(DG,"utlSetStoragePrefix");function ok(h){return(h||Z4===void 0)&&(Z4=!!ik(dx.SessionStorage)),Z4}s(ok,"utlCanUseSessionStorage");function LG(h,m){var x=sk();if(x!==null)try{return x.getItem(m)}catch(b){Z4=!1,Ot(h,2,2,"Browser failed read of session storage. "+Kn(b),{exception:kt(b)})}return null}s(LG,"utlGetSessionStorage");function BG(h,m,x){var b=sk();if(b!==null)try{return b.setItem(m,x),!0}catch(I){Z4=!1,Ot(h,2,4,"Browser failed write to session storage. "+Kn(I),{exception:kt(I)})}return!1}s(BG,"utlSetSessionStorage");var OG=";",FG="=";function MG(h){if(!h)return{};var m=h[lu](OG),x=Tv(m,function(I,D){var F=D[lu](FG);if(F[B0]===2){var V=F[0][vm](),W=F[1];I[V]=W}return I},{});if(gn(x)[B0]>0){if(x.endpointsuffix){var b=x.location?x.location+".":"";x[fu]=x[fu]||"https://"+b+"dc."+x.endpointsuffix}x[fu]=x[fu]||Mo,$d(x[fu],"/")&&(x[fu]=x[fu].slice(0,-1))}return x}s(MG,"parseConnectionString");var UG=function(){function h(m,x,b){var I=this,D=this;D.ver=1,D.sampleRate=100,D.tags={},D[ac]=vi(m,b)||Pa,D.data=x,D.time=K1(new Date),D.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return I.sampleRate===100?4:1},tags:1,data:1}}return s(h,"Envelope"),h}(),B5=function(){function h(m,x,b,I){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var D=this;D.ver=2,D[ac]=vi(m,x)||Pa,D[Ra]=du(m,b),D[kl]=hu(m,I)}return s(h,"Event"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),qG="<no_method>",O5="error",Qi="stack",hx="stackDetails",ak="errorSrc",mx="message",lk="description";function gx(h,m){var x=h;return x&&!dt(x)&&(JSON&&JSON[ax]?(x=JSON[ax](h),m&&(!x||x==="{}")&&(ze(h[R5])?x=h[R5]():x=""+h)):x=""+h+" - (Missing JSON.stringify)"),x||""}s(gx,"_stringify");function fk(h,m){var x=h;return h&&(x&&!dt(x)&&(x=h[mx]||h[lk]||x),x&&!dt(x)&&(x=gx(x,!0)),h.filename&&(x=x+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&bf(x||"",m)===-1&&(x=m+": "+x),x||""}s(fk,"_formatMessage");function jG(h){try{if(n0(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}s(jG,"_isExceptionDetailsInternal");function $G(h){try{if(n0(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}s($G,"_isExceptionInternal");function ck(h){return h&&h.src&&dt(h.src)&&h.obj&&G(h.obj)}s(ck,"_isStackDetails");function mu(h){var m=h||"";dt(m)||(dt(m[Qi])?m=m[Qi]:m=""+m);var x=m[lu](`
`);return{src:m,obj:x}}s(mu,"_convertStackObj");function HG(h){for(var m=[],x=h[lu](`
`),b=0;b<x[B0];b++){var I=x[b];x[b+1]&&(I+="@"+x[b+1],b++),m[ox](I)}return{src:h,obj:m}}s(HG,"_getOperaStack");function uk(h){var m=null;if(h)try{if(h[Qi])m=mu(h[Qi]);else if(h[O5]&&h[O5][Qi])m=mu(h[O5][Qi]);else if(h.exception&&h.exception[Qi])m=mu(h.exception[Qi]);else if(ck(h))m=h;else if(ck(h[hx]))m=h[hx];else if(wo()&&wo().opera&&h[mx])m=HG(h[cu]);else if(h.reason&&h.reason[Qi])m=mu(h.reason[Qi]);else if(dt(h))m=mu(h);else{var x=h[mx]||h[lk]||"";dt(h[ak])&&(x&&(x+=`
`),x+=" from "+h[ak]),x&&(m=mu(x))}}catch(b){m=mu(b)}return m||{src:"",obj:null}}s(uk,"_getStackFromErrorObj");function VG(h){var m="";return h&&(h.obj?Jt(h.obj,function(x){m+=x+`
`}):m=h.src||""),m}s(VG,"_formatStackTrace");function zG(h){var m,x=h.obj;if(x&&x[B0]>0){m=[];var b=0,I=0;Jt(x,function(we){var Ze=we[R5]();if(yx.regex.test(Ze)){var Ue=new yx(Ze,b++);I+=Ue[N5],m[ox](Ue)}});var D=32*1024;if(I>D)for(var F=0,V=m[B0]-1,W=0,J=F,ue=V;F<V;){var ke=m[F][N5],Fe=m[V][N5];if(W+=ke+Fe,W>D){var Ne=ue-J+1;m.splice(J,Ne);break}J=F,ue=V,F++,V--}}return m}s(zG,"_parseStack");function Tm(h){var m="";if(h&&(m=h.typeName||h[ac]||"",!m))try{var x=/function (.{1,200})\(/,b=x.exec(h.constructor[R5]());m=b&&b[B0]>1?b[1]:""}catch{}return m}s(Tm,"_getErrorType");function px(h){if(h)try{if(!dt(h)){var m=Tm(h),x=gx(h,!1);return(!x||x==="{}")&&(h[O5]&&(h=h[O5],m=Tm(h)),x=gx(h,!0)),bf(x,m)!==0&&m!=="String"?m+":"+x:x}}catch{}return""+(h||"")}s(px,"_formatErrorCode");var Em=function(){function h(m,x,b,I,D,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,$G(x)?(V[k5]=x[k5]||[],V[Ra]=x[Ra],V[kl]=x[kl],x[J4]&&(V[J4]=x[J4]),x.id&&(V.id=x.id,x[Ra].id=x.id),x[fx]&&(V[fx]=x[fx]),le(x[cx])||(V[cx]=x[cx])):(b||(b={}),F&&(b.id=F),V[k5]=[new dk(m,x,b)],V[Ra]=du(m,b),V[kl]=hu(m,I),D&&(V[J4]=D),F&&(V.id=F))}return s(h,"Exception"),h.CreateAutoException=function(m,x,b,I,D,F,V,W){var J,ue=Tm(D||F||m);return J={},J[cu]=fk(m,ue),J.url=x,J.lineNumber=b,J.columnNumber=I,J.error=px(D||F||m),J.evt=px(F||m),J[Nl]=ue,J.stackDetails=uk(V||D||F),J.errorSrc=W,J},h.CreateFromInterface=function(m,x,b,I){var D=x[k5]&&u1(x[k5],function(V){return dk[XR](m,V)}),F=new h(m,da(da({},x),{exceptions:D}),b,I);return F},h.prototype.toInterface=function(){var m,x=this,b=x.exceptions,I=x.properties,D=x.measurements,F=x.severityLevel,V=x.problemGroup,W=x.id,J=x.isManual,ue=b instanceof Array&&u1(b,function(ke){return ke.toInterface()})||void 0;return m={ver:"4.0"},m[k5]=ue,m.severityLevel=F,m.properties=I,m.measurements=D,m.problemGroup=V,m.id=W,m.isManual=J,m},h.CreateSimpleException=function(m,x,b,I,D,F){var V;return{exceptions:[(V={},V[xm]=!0,V.message=m,V.stack=D,V.typeName=x,V)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=px,h}(),dk=function(){function h(m,x,b){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var I=this;if(jG(x))I[Nl]=x[Nl],I[cu]=x[cu],I[Qi]=x[Qi],I[qo]=x[qo]||[],I[xm]=x[xm];else{var D=x,F=D&&D.evt;Ve(D)||(D=D[O5]||F||D),I[Nl]=vi(m,Tm(D))||Pa,I[cu]=ZR(m,fk(x||D,I[Nl]))||Pa;var V=x[hx]||uk(x);I[qo]=zG(V),G(I[qo])&&u1(I[qo],function(W){W[D5]=vi(m,W[D5]),W[uu]=vi(m,W[uu])}),I[Qi]=EG(m,VG(V)),I.hasFullStack=G(I.parsedStack)&&I.parsedStack[B0]>0,b&&(b[Nl]=b[Nl]||I[Nl])}}return s(h,"_ExceptionDetails"),h.prototype.toInterface=function(){var m,x=this,b=x[qo]instanceof Array&&u1(x[qo],function(D){return D.toInterface()}),I=(m={id:x.id,outerId:x.outerId,typeName:x[Nl],message:x[cu],hasFullStack:x[xm],stack:x[Qi]},m[qo]=b||void 0,m);return I},h.CreateFromInterface=function(m,x){var b=x[qo]instanceof Array&&u1(x[qo],function(D){return yx[XR](D)})||x[qo],I=new h(m,da(da({},x),{parsedStack:b}));return I},h}(),yx=function(){function h(m,x){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var b=this;if(b[N5]=0,typeof m=="string"){var I=m;b[_m]=x,b[L5]=qG,b[D5]=Vr(I),b[uu]="",b[Q4]=0;var D=I.match(h.regex);D&&D[B0]>=5&&(b[L5]=Vr(D[2])||b[L5],b[uu]=Vr(D[4]),b[Q4]=parseInt(D[5])||0)}else b[_m]=m[_m],b[L5]=m[L5],b[D5]=m[D5],b[uu]=m[uu],b[Q4]=m[Q4],b[N5]=0;b.sizeInBytes+=b.method[B0],b.sizeInBytes+=b.fileName[B0],b.sizeInBytes+=b.assembly[B0],b[N5]+=h.baseSize,b.sizeInBytes+=b.level.toString()[B0],b.sizeInBytes+=b.line.toString()[B0]}return s(h,"_StackFrame"),h.CreateFromInterface=function(m){return new h(m,null)},h.prototype.toInterface=function(){var m=this;return{level:m[_m],method:m[L5],assembly:m[D5],fileName:m[uu],line:m[Q4]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),KG=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(h,"DataPoint"),h}(),eh=function(){function h(m,x,b,I,D,F,V,W,J){this.aiDataContract={ver:1,metrics:1,properties:0};var ue=this;ue.ver=2;var ke=new KG;ke[CG]=I>0?I:void 0,ke.max=isNaN(F)||F===null?void 0:F,ke.min=isNaN(D)||D===null?void 0:D,ke[ac]=vi(m,x)||Pa,ke.value=b,ke.stdDev=isNaN(V)||V===null?void 0:V,ue.metrics=[ke],ue[Ra]=du(m,W),ue[kl]=hu(m,J)}return s(h,"Metric"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),th="";function hk(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var m=th+h%1e3,x=th+Math.floor(h/1e3)%60,b=th+Math.floor(h/(1e3*60))%60,I=th+Math.floor(h/(1e3*60*60))%24,D=Math.floor(h/(1e3*60*60*24));return m=m[B0]===1?"00"+m:m[B0]===2?"0"+m:m,x=x[B0]<2?"0"+x:x,b=b[B0]<2?"0"+b:b,I=I[B0]<2?"0"+I:I,(D>0?D+".":th)+I+":"+b+":"+x+"."+m}s(hk,"msToTimeSpan");var Sm=function(){function h(m,x,b,I,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var W=this;W.ver=2,W.id=SG(m,V),W.url=ux(m,b),W[ac]=vi(m,x)||Pa,isNaN(I)||(W[bm]=hk(I)),W[Ra]=du(m,D),W[kl]=hu(m,F)}return s(h,"PageView"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),wm=function(){function h(m,x,b,I,D,F,V,W,J,ue,ke,Fe){J===void 0&&(J="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ne=this;Ne.ver=2,Ne.id=x,Ne[bm]=hk(D),Ne.success=F,Ne.resultCode=V+"",Ne.type=vi(m,J);var we=NG(m,b,W,I);Ne.data=ux(m,I)||we.data,Ne.target=vi(m,we.target),ue&&(Ne.target="".concat(Ne.target," | ").concat(ue)),Ne[ac]=vi(m,we[ac]),Ne[Ra]=du(m,ke),Ne[kl]=hu(m,Fe)}return s(h,"RemoteDependencyData"),h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),Im=function(){function h(m,x,b,I,D){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,x=x||Pa,F[cu]=ZR(m,x),F[Ra]=du(m,I),F[kl]=hu(m,D),b&&(F[J4]=b)}return s(h,"Trace"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),Am=function(){function h(m,x,b,I,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var W=this;W.ver=2,W.url=ux(m,b),W[ac]=vi(m,x)||Pa,W[Ra]=du(m,D),W[kl]=hu(m,F),V&&(W.domProcessing=V.domProcessing,W[bm]=V[bm],W.networkConnect=V.networkConnect,W.perfTotal=V.perfTotal,W[JR]=V[JR],W.sentRequest=V.sentRequest)}return s(h,"PageViewPerformance"),h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),gu=function(){function h(m,x){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=x}return s(h,"Data"),h}(),GG=e5({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function lc(h){var m="ai."+h+".";return function(x){return m+x}}s(lc,"_aiNameFunc");var rh=lc("application"),pn=lc("device"),Pm=lc("location"),F5=lc("operation"),vx=lc("session"),fc=lc("user"),pu=lc("cloud"),nh=lc("internal"),mk=function(h){A1(m,h);function m(){return h.call(this)||this}return s(m,"ContextTagKeys"),m}(Bv({applicationVersion:rh("ver"),applicationBuild:rh("build"),applicationTypeId:rh("typeId"),applicationId:rh("applicationId"),applicationLayer:rh("layer"),deviceId:pn("id"),deviceIp:pn("ip"),deviceLanguage:pn("language"),deviceLocale:pn("locale"),deviceModel:pn("model"),deviceFriendlyName:pn("friendlyName"),deviceNetwork:pn("network"),deviceNetworkName:pn("networkName"),deviceOEMName:pn("oemName"),deviceOS:pn("os"),deviceOSVersion:pn("osVersion"),deviceRoleInstance:pn("roleInstance"),deviceRoleName:pn("roleName"),deviceScreenResolution:pn("screenResolution"),deviceType:pn("type"),deviceMachineName:pn("machineName"),deviceVMName:pn("vmName"),deviceBrowser:pn("browser"),deviceBrowserVersion:pn("browserVersion"),locationIp:Pm("ip"),locationCountry:Pm("country"),locationProvince:Pm("province"),locationCity:Pm("city"),operationId:F5("id"),operationName:F5("name"),operationParentId:F5("parentId"),operationRootId:F5("rootId"),operationSyntheticSource:F5("syntheticSource"),operationCorrelationVector:F5("correlationVector"),sessionId:vx("id"),sessionIsFirst:vx("isFirst"),sessionIsNew:vx("isNew"),userAccountAcquisitionDate:fc("accountAcquisitionDate"),userAccountId:fc("accountId"),userAgent:fc("userAgent"),userId:fc("id"),userStoreRegion:fc("storeRegion"),userAuthUserId:fc("authUserId"),userAnonymousUserAcquisitionDate:fc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:fc("authUserAcquisitionDate"),cloudName:pu("name"),cloudRole:pu("role"),cloudRoleVer:pu("roleVer"),cloudRoleInstance:pu("roleInstance"),cloudEnvironment:pu("environment"),cloudLocation:pu("location"),cloudDeploymentUnit:pu("deploymentUnit"),internalNodeName:nh("nodeName"),internalSdkVersion:nh("sdkVersion"),internalAgentVersion:nh("agentVersion"),internalSnippet:nh("snippet"),internalSdkSrc:nh("sdkSrc")})),Wn=new mk;function gk(h,m){hr(h,null,null,m)}s(gk,"_disableEvents");function WG(h){var m=fl(),x=oa(),b=!1,I=[],D=1;x&&!le(x.onLine)&&!x.onLine&&(D=2);var F=0,V=Fe(),W=Nt(Ji("OfflineListener"),h);try{if(ue(wo())&&(b=!0),m){var J=m.body||m;J.ononline&&ue(J)&&(b=!0)}}catch{b=!1}function ue(Ge){var ft=!1;return Ge&&(ft=l0(Ge,"online",Ze,W),ft&&l0(Ge,"offline",Ue,W)),ft}s(ue,"_enableEvents");function ke(){return V}s(ke,"_isOnline");function Fe(){return!(F===2||D===2)}s(Fe,"calCurrentState");function Ne(){var Ge=Fe();V!==Ge&&(V=Ge,Jt(I,function(ft){var t0={isOnline:V,rState:D,uState:F};try{ft(t0)}catch{}}))}s(Ne,"listnerNoticeCheck");function we(Ge){F=Ge,Ne()}s(we,"setOnlineState");function Ze(){D=1,Ne()}s(Ze,"_setOnline");function Ue(){D=2,Ne()}s(Ue,"_setOffline");function it(){var Ge=wo();if(Ge&&b){if(gk(Ge,W),m){var ft=m.body||m;ve(ft.ononline)||gk(ft,W)}b=!1}}s(it,"_unload");function Qe(Ge){return I[ox](Ge),{rm:function(){var ft=I.indexOf(Ge);if(ft>-1)return I.splice(ft,1)}}}return s(Qe,"addListener"),{isOnline:ke,isListening:function(){return b},unload:it,addListener:Qe,setOnlineState:we}}s(WG,"createOfflineListener");var YG="AppInsightsChannelPlugin",yu="duration",Yn="tags",xx="deviceType",Sn="data",Dl="name",ih="traceID",T0="length",sh="stringify",vu="measurements",ka="dataType",xu="envelopeType",_u="toString",oh="_get",bu="enqueue",Cu="count",pk="eventsLimitInMem",M5="push",_x="emitLineDelimitedJson",Tu="clear",bx="batchPayloads",Cx="createNew",U5="markAsSent",ah="clearSent",Tx="bufferOverride",Ex="BUFFER_KEY",cc="SENT_BUFFER_KEY",lh="concat",fh="MAX_BUFFER_SIZE",Sx="sendPOST",ch="triggerSend",wn="diagLog",uh="_sender",wx="customHeaders",yk="maxBatchSizeInBytes",Ix="onunloadDisableBeacon",Ax="isBeaconApiDisabled",vk="alwaysUseXhrOverride",xk="enableSessionStorageBuffer",uc="_buffer",_k="onunloadDisableFetch",bk="disableSendBeaconSplit",Ck="instrumentationKey",Tk="unloadTransports",Ek="convertUndefined",Sk="maxBatchInterval",Rm="serialize",XG="_xhrReadyStateChange",Eu="_onError",Px="_onPartialSuccess",km="_onSuccess",Nm="itemsAccepted",JG="itemsReceived",Rx="baseType",Dm="sampleRate",dh="oriPayload",kx="setRequestHeader",wk="eventsSendRequest",Ik="getSamplingScore",QG="getHashCodeScore",Nx="baseType",Ir="baseData",In="properties",Ak="true";function Jr(h,m,x){return va(h,m,x,wt)}s(Jr,"_setValueIf");function ZG(h,m,x){var b=x[Yn]=x[Yn]||{},I=m.ext=m.ext||{},D=m[Yn]=m[Yn]||[],F=I.user;F&&(Jr(b,Wn.userAuthUserId,F.authId),Jr(b,Wn.userId,F.id||F.localId));var V=I.app;V&&Jr(b,Wn.sessionId,V.sesId);var W=I.device;W&&(Jr(b,Wn.deviceId,W.id||W.localId),Jr(b,Wn[xx],W.deviceClass),Jr(b,Wn.deviceIp,W.ip),Jr(b,Wn.deviceModel,W.model),Jr(b,Wn[xx],W[xx]));var J=m.ext.web;if(J){Jr(b,Wn.deviceLanguage,J.browserLang),Jr(b,Wn.deviceBrowserVersion,J.browserVer),Jr(b,Wn.deviceBrowser,J.browser);var ue=x[Sn]=x[Sn]||{},ke=ue[Ir]=ue[Ir]||{},Fe=ke[In]=ke[In]||{};Jr(Fe,"domain",J.domain),Jr(Fe,"isManual",J.isManual?Ak:null),Jr(Fe,"screenRes",J.screenRes),Jr(Fe,"userConsent",J.userConsent?Ak:null)}var Ne=I.os;Ne&&Jr(b,Wn.deviceOS,Ne[Dl]);var we=I.trace;we&&(Jr(b,Wn.operationParentId,we.parentID),Jr(b,Wn.operationName,vi(h,we[Dl])),Jr(b,Wn.operationId,we[ih]));for(var Ze={},Ue=D[T0]-1;Ue>=0;Ue--){var it=D[Ue];vt(it,function(Ge,ft){Ze[Ge]=ft}),D.splice(Ue,1)}vt(D,function(Ge,ft){Ze[Ge]=ft});var Qe=da(da({},b),Ze);Qe[Wn.internalSdkVersion]||(Qe[Wn.internalSdkVersion]=vi(h,"javascript:".concat(eW.Version),64)),x[Yn]=j6(Qe)}s(ZG,"_extractPartAExtensions");function dc(h,m,x){le(h)||vt(h,function(b,I){he(I)?x[b]=I:dt(I)?m[b]=I:Ni()&&(m[b]=Ks()[sh](I))})}s(dc,"_extractPropsAndMeasurements");function Su(h,m){le(h)||vt(h,function(x,b){h[x]=b||m})}s(Su,"_convertPropsUndefinedToCustomDefinedValue");function wu(h,m,x,b){var I=new UG(h,b,m);Jr(I,"sampleRate",x[Mr]),(x[Ir]||{}).startTime&&(I.time=K1(x[Ir].startTime)),I.iKey=x.iKey;var D=x.iKey.replace(/-/g,"");return I[Dl]=I[Dl].replace("{0}",D),ZG(h,x,I),x[Yn]=x[Yn]||[],j6(I)}s(wu,"_createEnvelope");function Iu(h,m){le(m[Ir])&&Ot(h,1,46,"telemetryItem.baseData cannot be null.")}s(Iu,"EnvelopeCreatorInit");var eW={Version:"3.1.0"};function tW(h,m,x){Iu(h,m);var b=m[Ir][vu]||{},I=m[Ir][In]||{};dc(m[Sn],I,b),le(x)||Su(I,x);var D=m[Ir];if(le(D))return ec(h,"Invalid input for dependency data"),null;var F=D[In]&&D[In][Rl]?D[In][Rl]:"GET",V=new wm(h,D.id,D.target,D[Dl],D[yu],D.success,D.responseCode,F,D.type,D.correlationContext,I,b),W=new gu(wm[ka],V);return wu(h,wm[xu],m,W)}s(tW,"DependencyEnvelopeCreator");function Pk(h,m,x){Iu(h,m);var b={},I={};m[Nx]!==B5[ka]&&(b.baseTypeSource=m[Nx]),m[Nx]===B5[ka]?(b=m[Ir][In]||{},I=m[Ir][vu]||{}):m[Ir]&&dc(m[Ir],b,I),dc(m[Sn],b,I),le(x)||Su(b,x);var D=m[Ir][Dl],F=new B5(h,D,b,I),V=new gu(B5[ka],F);return wu(h,B5[xu],m,V)}s(Pk,"EventEnvelopeCreator");function rW(h,m,x){Iu(h,m);var b=m[Ir][vu]||{},I=m[Ir][In]||{};dc(m[Sn],I,b),le(x)||Su(I,x);var D=m[Ir],F=Em.CreateFromInterface(h,D,I,b),V=new gu(Em[ka],F);return wu(h,Em[xu],m,V)}s(rW,"ExceptionEnvelopeCreator");function nW(h,m,x){Iu(h,m);var b=m[Ir],I=b[In]||{},D=b[vu]||{};dc(m[Sn],I,D),le(x)||Su(I,x);var F=new eh(h,b[Dl],b.average,b.sampleCount,b.min,b.max,b.stdDev,I,D),V=new gu(eh[ka],F);return wu(h,eh[xu],m,V)}s(nW,"MetricEnvelopeCreator");function iW(h,m,x){Iu(h,m);var b,I=m[Ir];!le(I)&&!le(I[In])&&!le(I[In][yu])?(b=I[In][yu],delete I[In][yu]):!le(m[Sn])&&!le(m[Sn][yu])&&(b=m[Sn][yu],delete m[Sn][yu]);var D=m[Ir],F;((m.ext||{}).trace||{})[ih]&&(F=m.ext.trace[ih]);var V=D.id||F,W=D[Dl],J=D.uri,ue=D[In]||{},ke=D[vu]||{};if(le(D.refUri)||(ue.refUri=D.refUri),le(D.pageType)||(ue.pageType=D.pageType),le(D.isLoggedIn)||(ue.isLoggedIn=D.isLoggedIn[_u]()),!le(D[In])){var Fe=D[In];vt(Fe,function(Ze,Ue){ue[Ze]=Ue})}dc(m[Sn],ue,ke),le(x)||Su(ue,x);var Ne=new Sm(h,W,J,b,ue,ke,V),we=new gu(Sm[ka],Ne);return wu(h,Sm[xu],m,we)}s(iW,"PageViewEnvelopeCreator");function sW(h,m,x){Iu(h,m);var b=m[Ir],I=b[Dl],D=b.uri||b.url,F=b[In]||{},V=b[vu]||{};dc(m[Sn],F,V),le(x)||Su(F,x);var W=new Am(h,I,D,void 0,F,V,b),J=new gu(Am[ka],W);return wu(h,Am[xu],m,J)}s(sW,"PageViewPerformanceEnvelopeCreator");function oW(h,m,x){Iu(h,m);var b=m[Ir].message,I=m[Ir].severityLevel,D=m[Ir][In]||{},F=m[Ir][vu]||{};dc(m[Sn],D,F),le(x)||Su(D,x);var V=new Im(h,b,I,D,F),W=new gu(Im[ka],V);return wu(h,Im[xu],m,W)}s(oW,"TraceEnvelopeCreator");var Rk=function(){function h(m,x){var b=[],I=!1;this[oh]=function(){return b},this._set=function(D){return b=D,b},gi(h,this,function(D){D[bu]=function(F){if(D[Cu]()>=x[pk]){I||(Ot(m,2,105,"Maximum in-memory buffer size reached: "+D[Cu](),!0),I=!0);return}b[M5](F)},D[Cu]=function(){return b[T0]},D.size=function(){for(var F=b[T0],V=0;V<b[T0];V++)F+=b[V][T0];return x[_x]||(F+=2),F},D[Tu]=function(){b=[],I=!1},D.getItems=function(){return b.slice(0)},D[bx]=function(F){if(F&&F[T0]>0){var V=x[_x]?F.join(`
`):"["+F.join(",")+"]";return V}return null},D[Cx]=function(F,V,W){var J=b.slice(0);F=F||m,V=V||{};var ue=W?new kk(F,V):new Dx(F,V);return Jt(J,function(ke){ue[bu](ke)}),ue}})}return s(h,"BaseSendBuffer"),h.__ieDyn=1,h}(),Dx=function(h){A1(m,h);function m(x,b){var I=h.call(this,x,b)||this;return gi(m,I,function(D,F){D[U5]=function(V){F[Tu]()},D[ah]=function(V){}}),I}return s(m,"ArraySendBuffer"),m.__ieDyn=1,m}(Rk),kk=function(h){A1(m,h);function m(x,b){var I=h.call(this,x,b)||this,D=!1,F=b==null?void 0:b.namePrefix,V=b[Tx]||{getItem:LG,setItem:BG},W=V.getItem,J=V.setItem;return gi(m,I,function(ue,ke){var Fe=Ue(m[Ex]),Ne=Ue(m[cc]),we=ue._set(Fe[lh](Ne));we[T0]>m[fh]&&(we[T0]=m[fh]),it(m[cc],[]),it(m[Ex],we),ue[bu]=function(Qe){if(ue[Cu]()>=m[fh]){D||(Ot(x,2,67,"Maximum buffer size reached: "+ue[Cu](),!0),D=!0);return}ke[bu](Qe),it(m.BUFFER_KEY,ue[oh]())},ue[Tu]=function(){ke[Tu](),it(m.BUFFER_KEY,ue[oh]()),it(m[cc],[]),D=!1},ue[U5]=function(Qe){it(m[Ex],ue._set(Ze(Qe,ue[oh]())));var Ge=Ue(m[cc]);Ge instanceof Array&&Qe instanceof Array&&(Ge=Ge[lh](Qe),Ge[T0]>m[fh]&&(Ot(x,1,67,"Sent buffer reached its maximum size: "+Ge[T0],!0),Ge[T0]=m[fh]),it(m[cc],Ge))},ue[ah]=function(Qe){var Ge=Ue(m[cc]);Ge=Ze(Qe,Ge),it(m[cc],Ge)},ue[Cx]=function(Qe,Ge,ft){ft=!!ft;var t0=ue[oh]().slice(0),Z0=Ue(m[cc]).slice(0);Qe=Qe||x,Ge=Ge||{},ue[Tu]();var Ar=ft?new m(Qe,Ge):new Dx(Qe,Ge);return Jt(t0,function(mr){Ar[bu](mr)}),ft&&Ar[U5](Z0),Ar};function Ze(Qe,Ge){var ft=[];return Jt(Ge,function(t0){!ze(t0)&&zi(Qe,t0)===-1&&ft[M5](t0)}),ft}s(Ze,"_removePayloadsFromBuffer");function Ue(Qe){var Ge=Qe;try{Ge=F?F+"_"+Ge:Ge;var ft=W(x,Ge);if(ft){var t0=Ks().parse(ft);if(dt(t0)&&(t0=Ks().parse(t0)),t0&&G(t0))return t0}}catch(Z0){Ot(x,1,42," storage key: "+Ge+", "+Kn(Z0),{exception:kt(Z0)})}return[]}s(Ue,"_getBuffer");function it(Qe,Ge){var ft=Qe;try{ft=F?F+"_"+ft:ft;var t0=JSON[sh](Ge);J(x,ft,t0)}catch(Z0){J(x,ft,JSON[sh]([])),Ot(x,2,41," storage key: "+ft+", "+Kn(Z0)+". Buffer cleared",{exception:kt(Z0)})}}s(it,"_setBuffer")}),I}return s(m,"SessionStorageSendBuffer"),m.BUFFER_KEY="AI_buffer",m.SENT_BUFFER_KEY="AI_sentBuffer",m.MAX_BUFFER_SIZE=2e3,m}(Rk),aW=function(){function h(m){gi(h,this,function(x){x[Rm]=function(F){var V=b(F,"root");try{return Ks()[sh](V)}catch(W){Ot(m,1,48,W&&ze(W[_u])?W[_u]():"Error serializing object",null,!0)}};function b(F,V){var W="__aiCircularRefCheck",J={};if(!F)return Ot(m,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),J;if(F[W])return Ot(m,2,50,"Circular reference detected while serializing object",{name:V},!0),J;if(!F.aiDataContract){if(V==="measurements")J=D(F,"number",V);else if(V==="properties")J=D(F,"string",V);else if(V==="tags")J=D(F,"string",V);else if(G(F))J=I(F,V);else{Ot(m,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{Ks()[sh](F),J=F}catch(ue){Ot(m,1,48,ue&&ze(ue[_u])?ue[_u]():"Error serializing object",null,!0)}}return J}return F[W]=!0,vt(F.aiDataContract,function(ue,ke){var Fe=ze(ke)?ke()&1:ke&1,Ne=ze(ke)?ke()&4:ke&4,we=ke&2,Ze=F[ue]!==void 0,Ue=n0(F[ue])&&F[ue]!==null;if(Fe&&!Ze&&!we)Ot(m,1,24,"Missing required field specification. The field is required but not present on source",{field:ue,name:V});else if(!Ne){var it=void 0;Ue?we?it=I(F[ue],ue):it=b(F[ue],ue):it=F[ue],it!==void 0&&(J[ue]=it)}}),delete F[W],J}s(b,"_serializeObject");function I(F,V){var W;if(F)if(!G(F))Ot(m,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{W=[];for(var J=0;J<F[T0];J++){var ue=F[J],ke=b(ue,V+"["+J+"]");W[M5](ke)}}return W}s(I,"_serializeArray");function D(F,V,W){var J;return F&&(J={},vt(F,function(ue,ke){if(V==="string")ke===void 0?J[ue]="undefined":ke===null?J[ue]="null":ke[_u]?J[ue]=ke[_u]():J[ue]="invalid field: toString() is not defined.";else if(V==="number")if(ke===void 0)J[ue]="undefined";else if(ke===null)J[ue]="null";else{var Fe=parseFloat(ke);J[ue]=Fe}else J[ue]="invalid field: "+W+" is of unknown type.",Ot(m,1,J[ue],null,!0)})),J}s(D,"_serializeStringMap")})}return s(h,"Serializer"),h.__ieDyn=1,h}(),lW=8,fW=function(){function h(){}return s(h,"HashCodeScoreGenerator"),h.prototype.getHashCodeScore=function(m){var x=this.getHashCode(m)/h.INT_MAX_VALUE;return x*100},h.prototype.getHashCode=function(m){if(m==="")return 0;for(;m[T0]<lW;)m=m[lh](m);for(var x=5381,b=0;b<m[T0];++b)x=(x<<5)+x+m.charCodeAt(b),x=x&x;return Math.abs(x)},h.INT_MAX_VALUE=2147483647,h}(),cW=function(){function h(){var m=this,x=new fW,b=new mk;m[Ik]=function(I){var D=0;return I[Yn]&&I[Yn][b.userId]?D=x.getHashCodeScore(I[Yn][b.userId]):I.ext&&I.ext.user&&I.ext.user.id?D=x[QG](I.ext.user.id):I[Yn]&&I[Yn][b.operationId]?D=x.getHashCodeScore(I[Yn][b.operationId]):I.ext&&I.ext.telemetryTrace&&I.ext.telemetryTrace[ih]?D=x.getHashCodeScore(I.ext.telemetryTrace[ih]):D=Math.random()*100,D}}return s(h,"SamplingScoreGenerator"),h}(),uW=function(){function h(m,x){this.INT_MAX_VALUE=2147483647;var b=x||iu(null);(m>100||m<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:m},!0),m=100),this[Dm]=m,this.samplingScoreGenerator=new cW}return s(h,"Sample"),h.prototype.isSampledIn=function(m){var x=this[Dm],b=!1;return x==null||x>=100||m.baseType===eh[ka]?!0:(b=this.samplingScoreGenerator[Ik](m)<x,b)},h}(),Dr,Ll,Bl=void 0,Nk="",dW=65e3;function Lm(h){try{return h.responseText}catch{}return null}s(Lm,"_getResponseText");function hW(h){return h&&h[Sx]}s(hW,"isOverrideFn");function Dk(h,m){return m&&(he(m)?h=[m][lh](h):G(m)&&(h=m[lh](h))),h}s(Dk,"_prependTransports");var Lk=Xt((Dr={endpointUrl:tu(wt,Mo+Uo)},Dr[_x]=Xs(),Dr[Sk]=15e3,Dr[yk]=102400,Dr.disableTelemetry=Xs(),Dr[xk]=Xs(!0),Dr.isRetryDisabled=Xs(),Dr[Ax]=Xs(!0),Dr[bk]=Xs(!0),Dr.disableXhr=Xs(),Dr[_k]=Xs(),Dr[Ix]=Xs(),Dr[Ck]=Bl,Dr.namePrefix=Bl,Dr.samplingPercentage=tu(mW,100),Dr[wx]=Bl,Dr[Ek]=Bl,Dr[pk]=1e4,Dr[Tx]=!1,Dr.httpXHROverride={isVal:hW,v:Bl},Dr[vk]=Xs(),Dr.transports=Bl,Dr));function mW(h){return!isNaN(h)&&h>0&&h<=100}s(mW,"_chkSampling");var gW=(Ll={},Ll[B5.dataType]=Pk,Ll[Im.dataType]=oW,Ll[Sm.dataType]=iW,Ll[Am.dataType]=sW,Ll[Em.dataType]=rW,Ll[eh.dataType]=nW,Ll[wm.dataType]=tW,Ll),Bk=function(h){A1(m,h);function m(){var x=h.call(this)||this;x.priority=1001,x.identifier=YG;var b,I,D,F,V,W,J,ue=0,ke,Fe,Ne,we,Ze,Ue,it,Qe,Ge,ft,t0,Z0,Ar,mr,An,Qr,hh,hc,pt,jo,Au,mc,Ol,Js,q5;return gi(m,x,function(rt,Bm){Uk(),rt.pause=function(){jx(),D=!0},rt.resume=function(){D&&(D=!1,I=null,Kt(),qx())},rt.flush=function(xe,Be,gt){if(xe===void 0&&(xe=!0),!D){jx();try{return rt[ch](xe,null,gt||1)}catch(xt){Ot(rt[wn](),1,22,"flush failed, telemetry will not be collected: "+Kn(xt),{exception:kt(xt)})}}},rt.onunloadFlush=function(){if(!D)if(it||jo)try{return rt[ch](!0,Zr,2)}catch(xe){Ot(rt[wn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Kn(xe),{exception:kt(xe)})}else rt.flush(!1)},rt.addHeader=function(xe,Be){J[xe]=Be},rt.initialize=function(xe,Be,gt,xt){rt.isInitialized()&&Ot(rt[wn](),1,28,"Sender is already initialized"),Bm.initialize(xe,Be,gt,xt);var It=rt.identifier;V=new aW(Be.logger),b=0,I=null,rt[uh]=null,W=0;var Dt=rt[wn]();Ne=Nt(Ji("Sender"),Be.evtNamespace&&Be.evtNamespace()),Fe=WG(Ne),rt._addHook(Xf(xe,function(g0){var p0=g0.cfg;p0.storagePrefix&&DG(p0.storagePrefix);var xi=Sa(null,p0,Be),Ut=xi.getExtCfg(It,Lk);rr(rt,"_senderConfig",{g:function(){return Ut}}),Ze!==Ut.endpointUrl&&(we=Ze=Ut.endpointUrl),ft&&ft!==Ut[wx]&&Jt(ft,function(en){delete J[en.header]}),Ue=Ut[yk],it=(Ut[Ix]===!1||Ut[Ax]===!1)&&Gs(),Qe=Ut[Ix]===!1&&Gs(),Ge=Ut[Ax]===!1&&Gs(),jo=Ut[vk],Au=!!Ut.disableXhr;var $o=Ut[Tx],Na=!!Ut[xk]&&(!!$o||ok()),j5=Ut.namePrefix,Um=Na!==Qr||Na&&hc!==j5||Na&&hh!==$o;if(rt[uc]){if(Um)try{rt._buffer=rt._buffer[Cx](Dt,Ut,Na)}catch(en){Ot(rt[wn](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Kn(en),{exception:kt(en)})}Kt()}else rt[uc]=Na?new kk(Dt,Ut):new Dx(Dt,Ut);hc=j5,Qr=Na,hh=$o,mc=!Ut[_k]&&Cl(!0),q5=!!Ut[bk],rt._sample=new uW(Ut.samplingPercentage,Dt),Z0=Ut[Ck],TW(Z0,p0)||Ot(Dt,1,100,"Invalid Instrumentation key "+Z0),ft=Ut[wx],!Cm(we)&&ft&&ft[T0]>0?Jt(ft,function(en){x.addHeader(en.header,en.value)}):ft=null,pt=Ut.enableSendPromise;var Da=Ut.httpXHROverride,Ru=null,pc=null,_i=Dk([3,1,2],Ut.transports);Ru=gh(_i,!1);var Qs={sendPOST:gc};Ol=s(function(en,ku){return He(Qs,en,ku)},"_xhrSend"),Js=s(function(en,ku){return He(Qs,en,ku,!1)},"_fallbackSend"),Ru=jo?Da:Ru||Da||Qs,rt[uh]=function(en,ku){return He(Ru,en,ku)},mc&&(ke=Mm);var ph=Dk([3,1],Ut[Tk]);mc||(ph=ph.filter(function(en){return en!==2})),pc=gh(ph,!0),pc=jo?Da:pc||Da,(jo||Ut[Tk]||!ke)&&pc&&(ke=s(function(en,ku){return He(pc,en,ku)},"_syncUnloadSender")),ke||(ke=Ol),t0=Ut.disableTelemetry,Ar=Ut[Ek]||Bl,mr=Ut.isRetryDisabled,An=Ut[Sk]}))},rt.processTelemetry=function(xe,Be){Be=rt._getTelCtx(Be);var gt=Be[wn]();try{var xt=Pu(xe,gt);if(!xt)return;var It=mh(xe,gt);if(!It)return;var Dt=V[Rm](It),g0=rt[uc];Kt(Dt),g0[bu](Dt),qx()}catch(p0){Ot(gt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Kn(p0),{exception:kt(p0)})}rt.processNext(xe,Be)},rt.isCompletelyIdle=function(){return!D&&ue===0&&rt._buffer[Cu]()===0},rt[XG]=function(xe,Be,gt){xe.readyState===4&&Wt(xe.status,Be,xe.responseURL,gt,$x(xe),Lm(xe)||xe.response)},rt[ch]=function(xe,Be,gt){xe===void 0&&(xe=!0);var xt;if(!D)try{var It=rt[uc];if(t0)It[Tu]();else if(It[Cu]()>0){var Dt=It.getItems();CW(gt||0,xe),Be?xt=Be.call(rt,Dt,xe):xt=rt[uh](Dt,xe)}jx()}catch(p0){var g0=Hf();(!g0||g0>9)&&Ot(rt[wn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Kn(p0),{exception:kt(p0)})}return xt},rt.getOfflineSupport=function(){var xe;return xe={getUrl:function(){return we},createPayload:Om},xe[Rm]=Ox,xe.batch=Fx,xe.shouldProcess=function(Be){return!!Pu(Be)},xe},rt._doTeardown=function(xe,Be){rt.onunloadFlush(),Jf(Fe,!1),Uk()},rt[Eu]=function(xe,Be,gt){Ot(rt[wn](),2,26,"Failed to send telemetry.",{message:Be}),rt._buffer&&rt._buffer[ah](xe)},rt[Px]=function(xe,Be){for(var gt=[],xt=[],It=Be.errors.reverse(),Dt=0,g0=It;Dt<g0.length;Dt++){var p0=g0[Dt],xi=xe.splice(p0.index,1)[0];Fk(p0.statusCode)?xt[M5](xi):gt[M5](xi)}xe[T0]>0&&rt[km](xe,Be[Nm]),gt[T0]>0&&rt[Eu](gt,$x(null,["partial success",Be[Nm],"of",Be.itemsReceived].join(" "))),xt[T0]>0&&(Ux(xt),Ot(rt[wn](),2,40,"Partial success. Delivered: "+xe[T0]+", Failed: "+gt[T0]+". Will retry to send "+xt[T0]+" our of "+Be[JG]+" items"))},rt[km]=function(xe,Be){rt._buffer&&rt._buffer[ah](xe)},rt._xdrOnLoad=function(xe,Be){var gt=Lm(xe);if(xe&&(gt+""=="200"||gt===""))b=0,rt[km](Be,0);else{var xt=Mx(gt);xt&&xt.itemsReceived&&xt.itemsReceived>xt[Nm]&&!mr?rt[Px](Be,xt):rt[Eu](Be,Mk(xe))}};function Pu(xe,Be){if(t0)return!1;if(!xe)return Be&&Ot(Be,1,7,"Cannot send empty telemetry"),!1;if(xe.baseData&&!xe[Rx])return Be&&Ot(Be,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(xe[Rx]||(xe[Rx]="EventData"),!rt[uh])return Be&&Ot(Be,1,28,"Sender was not initialized"),!1;if(Fm(xe))xe[Mr]=rt._sample[Dm];else return Be&&Ot(Be,2,33,"Telemetry item was sampled out and not sent",{SampleRate:rt._sample[Dm]}),!1;return!0}s(Pu,"_validate");function mh(xe,Be){var gt=xe.iKey||Z0,xt=m.constructEnvelope(xe,gt,Be,Ar);if(!xt){Ot(Be,1,47,"Unable to create an AppInsights envelope");return}var It=!1;if(xe[Yn]&&xe[Yn][Ur]&&(Jt(xe[Yn][Ur],function(Dt){try{Dt&&Dt(xt)===!1&&(It=!0,ec(Be,"Telemetry processor check returns false"))}catch(g0){Ot(Be,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Kn(g0),{exception:kt(g0)},!0)}}),delete xe[Yn][Ur]),!It)return xt}s(mh,"_getEnvelope");function Ox(xe){var Be=Nk,gt=rt[wn]();try{var xt=Pu(xe,gt),It=null;xt&&(It=mh(xe,gt)),It&&(Be=V[Rm](It))}catch{}return Be}s(Ox,"_serialize");function Fx(xe){var Be=Nk;return xe&&xe[T0]&&(Be="["+xe.join(",")+"]"),Be}s(Fx,"_batch");function Om(xe){var Be,gt=J;return Cm(we)&&(gt[oc[6]]=oc[7]),Be={urlString:we},Be[Sn]=xe,Be.headers=gt,Be}s(Om,"_createPayload");function Fm(xe){return rt._sample.isSampledIn(xe)}s(Fm,"_isSampledIn");function gh(xe,Be){for(var gt,xt=null,It=null,Dt=0;It==null&&Dt<xe[T0];)xt=xe[Dt],!Au&&xt===1?W1()?It=_W:g5()&&(It=gc):xt===2&&Cl(Be)?It=r0:xt===3&&(Be?Qe:Ge)&&(It=Zi),Dt++;return It?(gt={},gt[Sx]=It,gt):null}s(gh,"_getSenderInterface");function Fl(xe,Be,gt,xt){Be===200&&xe?rt._onSuccess(xe,xe[T0]):xt&&rt[Eu](xe,xt)}s(Fl,"_getOnComplete");function He(xe,Be,gt,xt){xt===void 0&&(xt=!0);var It=s(function(p0,xi,Ut){return Fl(Be,p0,xi,Ut)},"onComplete"),Dt=Ct(Be),g0=xe&&xe[Sx];return g0&&Dt?(xt&&rt._buffer[U5](Be),g0(Dt,It,!gt)):null}s(He,"_doSend");function Ct(xe){var Be;if(G(xe)&&xe[T0]>0){var gt=rt._buffer[bx](xe),xt=(Be={},Be[Sn]=gt,Be.urlString=we,Be.headers=J,Be.disableXhrSync=Au,Be.disableFetchKeepAlive=!mc,Be[dh]=xe,Be);return xt}return null}s(Ct,"_getPayload");function r0(xe,Be,gt){return Ok(xe,Be,!1)}s(r0,"_fetchSender");function Kt(xe){var Be=xe?xe[T0]:0;return rt[uc].size()+Be>Ue?((!Fe||Fe.isOnline())&&rt[ch](!0,null,10),!0):!1}s(Kt,"_checkMaxSize");function Wt(xe,Be,gt,xt,It,Dt){var g0=null;if(rt._appId||(g0=Mx(Dt),g0&&g0.appId&&(rt._appId=g0.appId)),(xe<200||xe>=300)&&xe!==0){if((xe===301||xe===307||xe===308)&&!fr(gt)){rt[Eu](Be,It);return}!mr&&Fk(xe)?(Ux(Be),Ot(rt[wn](),2,40,". Response code "+xe+". Will retry to send "+Be[T0]+" items.")):rt[Eu](Be,It)}else if(Fe&&!Fe.isOnline()){if(!mr){var p0=10;Ux(Be,p0),Ot(rt[wn](),2,40,". Offline - Response Code: ".concat(xe,". Offline status: ").concat(!Fe.isOnline(),". Will retry to send ").concat(Be.length," items."))}}else fr(gt),xe===206?(g0||(g0=Mx(Dt)),g0&&!mr?rt[Px](Be,g0):rt[Eu](Be,It)):(b=0,rt[km](Be,xt))}s(Wt,"_checkResponsStatus");function fr(xe){return W>=10?!1:!le(xe)&&xe!==""&&xe!==we?(we=xe,++W,!0):!1}s(fr,"_checkAndUpdateEndPointUrl");function q0(xe,Be,gt,xt){try{xe(Be,gt,xt)}catch{}}s(q0,"_doOnComplete");function Zr(xe,Be){if(ke)ke(xe,!1);else{var gt=Ct(xe);rt._buffer[U5](xe),Zi(gt)}}s(Zr,"_doUnloadSend");function yn(xe,Be){var gt=oa(),xt=we,It=rt[uc],Dt=It[bx](xe),g0=new Blob([Dt],{type:"text/plain;charset=UTF-8"}),p0=gt.sendBeacon(xt,g0);return p0&&rt._onSuccess(xe,xe[T0]),p0}s(yn,"_doBeaconSend");function Zi(xe,Be,gt){var xt=xe,It=xt&&xt[dh];if(G(It)&&It[T0]>0&&!yn(It))if(q5)Js&&Js(It,!0),Ot(rt[wn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Dt=[],g0=0;g0<It[T0];g0++){var p0=It[g0];yn([p0])||Dt[M5](p0)}Dt[T0]>0&&(Js&&Js(Dt,!0),Ot(rt[wn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Zi,"_beaconSender");function gc(xe,Be,gt){var xt=xe,It,Dt,g0,p0=new XMLHttpRequest,xi=we;try{p0[zr]=!0}catch{}return p0.open("POST",xi,!gt),p0[kx]("Content-type","application/json"),Cm(xi)&&p0[kx](oc[6],oc[7]),Jt(gn(J),function(Ut){p0[kx](Ut,J[Ut])}),p0.onreadystatechange=function(){var Ut=xt[dh];rt._xhrReadyStateChange(p0,Ut,Ut[T0]),p0.readyState===4&&Dt&&Dt(!0)},p0.onerror=function(Ut){q0(Be,400,{},$x(p0)),g0&&g0(Ut)},!gt&&pt&&(It=Ff(function(Ut,$o){Dt=Ut,g0=$o})),p0.send(xe[Sn]),It}s(gc,"_xhrSender");function Mm(xe,Be){var gt=s(function(g0,p0,xi){return Fl(xe,g0,p0,xi)},"onComplete");if(G(xe)){for(var xt=xe[T0],It=0;It<xe[T0];It++)xt+=xe[It][T0];var Dt=Ct(xe);rt._buffer[U5](xe),ue+xt<=dW?Ok(Dt,gt,!0):Gs()?Zi(Dt):(Js&&Js(xe,!0),Ot(rt[wn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}s(Mm,"_fetchKeepAliveSender");function Ok(xe,Be,gt){var xt,It=we,Dt=xe,g0=Dt[Sn],p0=new Blob([g0],{type:"application/json"}),xi,Ut,$o,Na=new Headers,j5=g0[T0],Um=!1,Da=!1;Cm(It)&&Na.append(oc[6],oc[7]),Jt(gn(J),function(_i){Na.append(_i,J[_i])});var Ru=(xt={method:"POST",headers:Na,body:p0},xt[zr]=!0,xt);gt&&(Ru.keepalive=!0,Um=!0,ue+=j5);var pc=new Request(It,Ru);try{pc[zr]=!0}catch{}!gt&&pt&&(xi=Ff(function(_i,Qs){Ut=_i,$o=Qs}));try{l5(fetch(pc),function(_i){if(gt&&(ue-=j5,j5=0),!Da)if(Da=!0,_i.rejected)q0(Be,400,{},_i.reason&&_i.reason.message),$o&&$o(_i.reason);else{var Qs=_i.value;Qs.ok?l5(Qs.text(),function(ph){var en=Dt[dh];Wt(Qs.status,en,Qs.url,en[T0],Qs.statusText,ph.value||""),Ut&&Ut(!0)}):(q0(Be,400,{},Qs.statusText),Ut&&Ut(!1))}})}catch(_i){Da||(q0(Be,400,{},kt(_i)),$o&&$o(_i))}return Um&&!Da&&(Da=!0,q0(Be,200,{}),Ut&&Ut(!0)),xi}s(Ok,"_doFetchSender");function Mx(xe){try{if(xe&&xe!==""){var Be=Ks().parse(xe);if(Be&&Be.itemsReceived&&Be.itemsReceived>=Be[Nm]&&Be.itemsReceived-Be.itemsAccepted===Be.errors[T0])return Be}}catch(gt){Ot(rt[wn](),1,43,"Cannot parse the response. "+Kn(gt),{response:xe})}return null}s(Mx,"_parseResponse");function Ux(xe,Be){if(Be===void 0&&(Be=1),!(!xe||xe[T0]===0)){var gt=rt[uc];gt[ah](xe),b++;for(var xt=0,It=xe;xt<It.length;xt++){var Dt=It[xt];gt[bu](Dt)}xW(Be),qx()}}s(Ux,"_resendPayload");function xW(xe){var Be=10,gt;if(b<=1)gt=Be;else{var xt=(Math.pow(2,b)-1)/2,It=Math.floor(Math.random()*xt*Be)+1;It=xe*It,gt=Math.max(Math.min(It,3600),Be)}var Dt=la()+gt*1e3;I=Dt}s(xW,"_setRetryTime");function qx(){if(!F&&!D){var xe=I?Math.max(0,I-la()):0,Be=Math.max(An,xe);F=$s(function(){F=null,rt[ch](!0,null,1)},Be)}}s(qx,"_setupTimer");function jx(){F&&F.cancel(),F=null,I=null}s(jx,"_clearScheduledTimer");function Fk(xe){return xe===401||xe===403||xe===408||xe===429||xe===500||xe===502||xe===503||xe===504}s(Fk,"_isRetriable");function $x(xe,Be){return xe?"XMLHttpRequest,Status:"+xe.status+",Response:"+Lm(xe)||xe.response||"":Be}s($x,"_formatErrorMessageXhr");function _W(xe,Be,gt){var xt=xe,It=wo(),Dt=new XDomainRequest,g0=xt[Sn];Dt.onload=function(){var Ut=xt[dh];rt._xdrOnLoad(Dt,Ut)},Dt.onerror=function(){q0(Be,400,{},Mk(Dt))};var p0=It&&It.location&&It.location.protocol||"";if(we.lastIndexOf(p0,0)!==0){Ot(rt[wn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),rt._buffer[Tu]();return}var xi=we.replace(/^(https?:)/,"");Dt.open("POST",xi),Dt.send(g0)}s(_W,"_xdrSender");function Mk(xe,Be){return xe?"XDomainRequest,Response:"+Lm(xe)||"":Be}s(Mk,"_formatErrorMessageXdr");function bW(){var xe="getNotifyMgr";return rt.core[xe]?rt.core[xe]():rt.core._notificationManager}s(bW,"_getNotifyMgr");function CW(xe,Be){var gt=bW();if(gt&&gt[wk])try{gt[wk](xe,Be)}catch(xt){Ot(rt[wn](),1,74,"send request notification failed: "+Kn(xt),{exception:kt(xt)})}}s(CW,"_notifySendRequest");function TW(xe,Be){var gt=Be.disableInstrumentationKeyValidation,xt=le(gt)?!1:gt;if(xt)return!0;var It="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Dt=new RegExp(It);return Dt.test(xe)}s(TW,"_validateInstrumentationKey");function Uk(){rt[uh]=null,rt[uc]=null,rt._appId=null,rt._sample=null,J={},Fe=null,b=0,I=null,D=!1,F=null,V=null,W=0,ue=0,ke=null,Ne=null,we=null,Ze=null,Ue=0,it=!1,ft=null,t0=!1,Z0=null,Ar=Bl,mr=!1,Qr=null,hc=Bl,Au=!1,mc=!1,q5=!1,Ol=null,Js=null,rr(rt,"_senderConfig",{g:function(){return G1({},Lk)}})}s(Uk,"_initDefaults")}),x}return s(m,"Sender"),m.constructEnvelope=function(x,b,I,D){var F;b!==x.iKey&&!le(b)?F=da(da({},x),{iKey:b}):F=x;var V=gW[F.baseType]||Pk;return V(I,F,D)},m}(G4),Lx="instrumentationKey",Bx="connectionString",pW={diagnosticLogInterval:tu(yW,1e4)};function yW(h){return h&&h>0}s(yW,"_chkDiagLevel");var vW=function(){function h(m){var x=new i0,b;(le(m)||le(m[Lx])&&le(m[Bx]))&&X0("Invalid input configuration"),gi(h,this,function(D){rr(D,"config",{g:function(){return b}}),F(),D.initialize=F,D.track=I,g4(D,x,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function F(){var V=En(m||{},pW);b=V.cfg,x.addUnloadHook(Xf(V,function(){if(b[Bx]){var W=MG(b[Bx]),J=W.ingestionendpoint;b.endpointUrl=J?J+Uo:b.endpointUrl,b[Lx]=W.instrumentationkey||b[Lx]}})),x.initialize(b,[new Bk])}s(F,"_initialize")});function I(D){D&&(D.baseData=D.baseData||{},D.baseType=D.baseType||"EventData"),x.track(D)}s(I,"_track")}return s(h,"ApplicationInsights"),h.__ieDyn=1,h}();e.AppInsightsCore=i0,e.ApplicationInsights=vW,e.Sender=Bk,e.SeverityLevel=GG,e.arrForEach=Jt,e.isNullOrUndefined=le,e.proxyFunctions=g4,e.throwError=X0})});var $$=ae((rye,j$)=>{"use strict";j$.exports=U$;function U$(e,t,r){e instanceof RegExp&&(e=M$(e,r)),t instanceof RegExp&&(t=M$(t,r));var n=q$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}s(U$,"balanced");function M$(e,t){var r=t.match(e);return r?r[0]:null}s(M$,"maybeMatch");U$.range=q$;function q$(e,t,r){var n,i,o,a,l,f=r.indexOf(e),c=r.indexOf(t,f+1),u=f;if(f>=0&&c>0){for(n=[],o=r.length;u>=0&&!l;)u==f?(n.push(u),f=r.indexOf(e,u+1)):n.length==1?l=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,a=c),c=r.indexOf(t,u+1)),u=f<c&&f>=0?f:c;n.length&&(l=[o,a])}return l}s(q$,"range")});var X$=ae((iye,Y$)=>{var H$=$$();Y$.exports=hne;var V$="\0SLASH"+Math.random()+"\0",z$="\0OPEN"+Math.random()+"\0",MI="\0CLOSE"+Math.random()+"\0",K$="\0COMMA"+Math.random()+"\0",G$="\0PERIOD"+Math.random()+"\0";function FI(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}s(FI,"numeric");function une(e){return e.split("\\\\").join(V$).split("\\{").join(z$).split("\\}").join(MI).split("\\,").join(K$).split("\\.").join(G$)}s(une,"escapeBraces");function dne(e){return e.split(V$).join("\\").split(z$).join("{").split(MI).join("}").split(K$).join(",").split(G$).join(".")}s(dne,"unescapeBraces");function W$(e){if(!e)return[""];var t=[],r=H$("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=W$(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}s(W$,"parseCommaParts");function hne(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),F8(une(e),!0).map(dne)):[]}s(hne,"expandTop");function mne(e){return"{"+e+"}"}s(mne,"embrace");function gne(e){return/^-?0\d/.test(e)}s(gne,"isPadded");function pne(e,t){return e<=t}s(pne,"lte");function yne(e,t){return e>=t}s(yne,"gte");function F8(e,t){var r=[],n=H$("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?F8(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var l=i+"{"+n.body+"}"+o[a];r.push(l)}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=f||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+MI+n.post,F8(e)):[e];var g;if(u)g=n.body.split(/\.\./);else if(g=W$(n.body),g.length===1&&(g=F8(g[0],!1).map(mne),g.length===1))return o.map(function(De){return n.pre+g[0]+De});var p;if(u){var y=FI(g[0]),_=FI(g[1]),S=Math.max(g[0].length,g[1].length),E=g.length==3?Math.abs(FI(g[2])):1,A=pne,P=_<y;P&&(E*=-1,A=yne);var U=g.some(gne);p=[];for(var k=y;A(k,_);k+=E){var L;if(c)L=String.fromCharCode(k),L==="\\"&&(L="");else if(L=String(k),U){var Q=S-L.length;if(Q>0){var te=new Array(Q+1).join("0");k<0?L="-"+te+L.slice(1):L=te+L}}p.push(L)}}else{p=[];for(var Ce=0;Ce<g.length;Ce++)p.push.apply(p,F8(g[Ce],!1))}for(var Ce=0;Ce<p.length;Ce++)for(var a=0;a<o.length;a++){var l=i+p[Ce]+o[a];(!t||u||l)&&r.push(l)}}return r}s(F8,"expand")});var Xp=ae(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.ValuePointer=zc.ValuePointerRootDeleteError=zc.ValuePointerRootSetError=void 0;var JI=class JI extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};s(JI,"ValuePointerRootSetError");var Wp=JI;zc.ValuePointerRootSetError=Wp;var QI=class QI extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};s(QI,"ValuePointerRootDeleteError");var Yp=QI;zc.ValuePointerRootDeleteError=Yp;var hH;(function(e){function t(l){return l.indexOf("~")===-1?l:l.replace(/~1/g,"/").replace(/~0/g,"~")}s(t,"Escape");function*r(l){if(l==="")return;let[f,c]=[0,0];for(let u=0;u<l.length;u++)l.charAt(u)==="/"?(u===0||(c=u,yield t(l.slice(f,c))),f=u+1):c=u;yield t(l.slice(f))}s(r,"Format"),e.Format=r;function n(l,f,c){if(f==="")throw new Wp(l,f,c);let[u,d,g]=[null,l,""];for(let p of r(f))d[p]===void 0&&(d[p]={}),u=d,d=d[p],g=p;u[g]=c}s(n,"Set"),e.Set=n;function i(l,f){if(f==="")throw new Yp(l,f);let[c,u,d]=[null,l,""];for(let g of r(f)){if(u[g]===void 0||u[g]===null)return;c=u,u=u[g],d=g}if(Array.isArray(c)){let g=parseInt(d);c.splice(g,1)}else delete c[d]}s(i,"Delete"),e.Delete=i;function o(l,f){if(f==="")return!0;let[c,u,d]=[null,l,""];for(let g of r(f)){if(u[g]===void 0)return!1;c=u,u=u[g],d=g}return Object.getOwnPropertyNames(c).includes(d)}s(o,"Has"),e.Has=o;function a(l,f){if(f==="")return l;let c=l;for(let u of r(f)){if(c[u]===void 0)return;c=c[u]}return c}s(a,"Get"),e.Get=a})(hH||(zc.ValuePointer=hH={}))});var a2=ae(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.Clone=void 0;var $8=ts();function rie(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:ZI(e[n])}),{})}s(rie,"ObjectType");function nie(e){return e.map(t=>ZI(t))}s(nie,"ArrayType");function iie(e){return e.slice()}s(iie,"TypedArrayType");function sie(e){return new Date(e.toISOString())}s(sie,"DateType");function ZI(e){if((0,$8.IsArray)(e))return nie(e);if((0,$8.IsDate)(e))return sie(e);if((0,$8.IsPlainObject)(e))return rie(e);if((0,$8.IsTypedArray)(e))return iie(e);if((0,$8.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}s(ZI,"Clone");Jp.Clone=ZI});var iA=ae(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Patch=Gr.Diff=Gr.ValueDeltaUnableToDiffUnknownValue=Gr.ValueDeltaObjectWithSymbolKeyError=Gr.Edit=Gr.Delete=Gr.Update=Gr.Insert=void 0;var Ai=ts(),mo=es(),eA=Xp(),tA=a2();Gr.Insert=mo.Type.Object({type:mo.Type.Literal("insert"),path:mo.Type.String(),value:mo.Type.Unknown()});Gr.Update=mo.Type.Object({type:mo.Type.Literal("update"),path:mo.Type.String(),value:mo.Type.Unknown()});Gr.Delete=mo.Type.Object({type:mo.Type.Literal("delete"),path:mo.Type.String()});Gr.Edit=mo.Type.Union([Gr.Insert,Gr.Update,Gr.Delete]);var rA=class rA extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};s(rA,"ValueDeltaObjectWithSymbolKeyError");var Cd=rA;Gr.ValueDeltaObjectWithSymbolKeyError=Cd;var nA=class nA extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};s(nA,"ValueDeltaUnableToDiffUnknownValue");var Qp=nA;Gr.ValueDeltaUnableToDiffUnknownValue=Qp;function H8(e,t){return{type:"update",path:e,value:t}}s(H8,"CreateUpdate");function mH(e,t){return{type:"insert",path:e,value:t}}s(mH,"CreateInsert");function gH(e){return{type:"delete",path:e}}s(gH,"CreateDelete");function*oie(e,t,r){if(!(0,Ai.IsPlainObject)(r))return yield H8(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],i=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let o of n){if((0,Ai.IsSymbol)(o))throw new Cd(o);(0,Ai.IsUndefined)(r[o])&&i.includes(o)&&(yield H8(`${e}/${String(o)}`,void 0))}for(let o of i)if(!((0,Ai.IsUndefined)(t[o])||(0,Ai.IsUndefined)(r[o]))){if((0,Ai.IsSymbol)(o))throw new Cd(o);yield*Zp(`${e}/${String(o)}`,t[o],r[o])}for(let o of i){if((0,Ai.IsSymbol)(o))throw new Cd(o);(0,Ai.IsUndefined)(t[o])&&(yield mH(`${e}/${String(o)}`,r[o]))}for(let o of n.reverse()){if((0,Ai.IsSymbol)(o))throw new Cd(o);(0,Ai.IsUndefined)(r[o])&&!i.includes(o)&&(yield gH(`${e}/${String(o)}`))}}s(oie,"ObjectType");function*aie(e,t,r){if(!(0,Ai.IsArray)(r))return yield H8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Zp(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield mH(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield gH(`${e}/${n}`))}s(aie,"ArrayType");function*lie(e,t,r){if(!(0,Ai.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield H8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Zp(`${e}/${n}`,t[n],r[n])}s(lie,"TypedArrayType");function*fie(e,t,r){t!==r&&(yield H8(e,r))}s(fie,"ValueType");function*Zp(e,t,r){if((0,Ai.IsPlainObject)(t))return yield*oie(e,t,r);if((0,Ai.IsArray)(t))return yield*aie(e,t,r);if((0,Ai.IsTypedArray)(t))return yield*lie(e,t,r);if((0,Ai.IsValueType)(t))return yield*fie(e,t,r);throw new Qp(t)}s(Zp,"Visit");function cie(e,t){return[...Zp("",e,t)]}s(cie,"Diff");Gr.Diff=cie;function uie(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}s(uie,"IsRootUpdate");function die(e){return e.length===0}s(die,"IsIdentity");function hie(e,t){if(uie(t))return(0,tA.Clone)(t[0].value);if(die(t))return(0,tA.Clone)(e);let r=(0,tA.Clone)(e);for(let n of t)switch(n.type){case"insert":{eA.ValuePointer.Set(r,n.path,n.value);break}case"update":{eA.ValuePointer.Set(r,n.path,n.value);break}case"delete":{eA.ValuePointer.Delete(r,n.path);break}}return r}s(hie,"Patch");Gr.Patch=hie});var yH=ae(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Mutate=Kc.ValueMutateInvalidRootMutationError=Kc.ValueMutateTypeMismatchError=void 0;var Bs=ts(),ry=Xp(),sA=a2(),aA=class aA extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};s(aA,"ValueMutateTypeMismatchError");var ey=aA;Kc.ValueMutateTypeMismatchError=ey;var lA=class lA extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};s(lA,"ValueMutateInvalidRootMutationError");var ty=lA;Kc.ValueMutateInvalidRootMutationError=ty;function mie(e,t,r,n){if(!(0,Bs.IsPlainObject)(r))ry.ValuePointer.Set(e,t,(0,sA.Clone)(n));else{let i=Object.keys(r),o=Object.keys(n);for(let a of i)o.includes(a)||delete r[a];for(let a of o)i.includes(a)||(r[a]=null);for(let a of o)oA(e,`${t}/${a}`,r[a],n[a])}}s(mie,"ObjectType");function gie(e,t,r,n){if(!(0,Bs.IsArray)(r))ry.ValuePointer.Set(e,t,(0,sA.Clone)(n));else{for(let i=0;i<n.length;i++)oA(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}s(gie,"ArrayType");function pie(e,t,r,n){if((0,Bs.IsTypedArray)(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else ry.ValuePointer.Set(e,t,(0,sA.Clone)(n))}s(pie,"TypedArrayType");function yie(e,t,r,n){r!==n&&ry.ValuePointer.Set(e,t,n)}s(yie,"ValueType");function oA(e,t,r,n){if((0,Bs.IsArray)(n))return gie(e,t,r,n);if((0,Bs.IsTypedArray)(n))return pie(e,t,r,n);if((0,Bs.IsPlainObject)(n))return mie(e,t,r,n);if((0,Bs.IsValueType)(n))return yie(e,t,r,n)}s(oA,"Visit");function pH(e){return(0,Bs.IsTypedArray)(e)||(0,Bs.IsValueType)(e)}s(pH,"IsNonMutableValue");function vie(e,t){return(0,Bs.IsPlainObject)(e)&&(0,Bs.IsArray)(t)||(0,Bs.IsArray)(e)&&(0,Bs.IsPlainObject)(t)}s(vie,"IsMismatchedValue");function xie(e,t){if(pH(e)||pH(t))throw new ty;if(vie(e,t))throw new ey;oA(e,"",e,t)}s(xie,"Mutate");Kc.Mutate=xie});var vH=ae(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.Equal=void 0;var lf=ts();function _ie(e,t){if(!(0,lf.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>ny(e[i],t[i]))}s(_ie,"ObjectType");function bie(e,t){return(0,lf.IsDate)(t)&&e.getTime()===t.getTime()}s(bie,"DateType");function Cie(e,t){return!(0,lf.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>ny(r,t[n]))}s(Cie,"ArrayType");function Tie(e,t){return!(0,lf.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>ny(r,t[n]))}s(Tie,"TypedArrayType");function Eie(e,t){return e===t}s(Eie,"ValueType");function ny(e,t){if((0,lf.IsPlainObject)(e))return _ie(e,t);if((0,lf.IsDate)(e))return bie(e,t);if((0,lf.IsTypedArray)(e))return Tie(e,t);if((0,lf.IsArray)(e))return Cie(e,t);if((0,lf.IsValueType)(e))return Eie(e,t);throw new Error("ValueEquals: Unable to compare value")}s(ny,"Equal");iy.Equal=ny});var gA=ae(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Create=Pi.ValueCreateRecursiveInstantiationError=Pi.ValueCreateTempateLiteralTypeError=Pi.ValueCreateIntersectTypeError=Pi.ValueCreateNotTypeError=Pi.ValueCreateNeverTypeError=Pi.ValueCreateUnknownTypeError=void 0;var V0=ts(),Sie=Q5(),_H=yc(),us=es(),fA=class fA extends us.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(fA,"ValueCreateUnknownTypeError");var sy=fA;Pi.ValueCreateUnknownTypeError=sy;var cA=class cA extends us.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};s(cA,"ValueCreateNeverTypeError");var oy=cA;Pi.ValueCreateNeverTypeError=oy;var uA=class uA extends us.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};s(uA,"ValueCreateNotTypeError");var ay=uA;Pi.ValueCreateNotTypeError=ay;var dA=class dA extends us.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};s(dA,"ValueCreateIntersectTypeError");var ly=dA;Pi.ValueCreateIntersectTypeError=ly;var hA=class hA extends us.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};s(hA,"ValueCreateTempateLiteralTypeError");var fy=hA;Pi.ValueCreateTempateLiteralTypeError=fy;var mA=class mA extends us.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};s(mA,"ValueCreateRecursiveInstantiationError");var cy=mA;Pi.ValueCreateRecursiveInstantiationError=cy;function wie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(wie,"TAny");function Iie(e,t){if(e.uniqueItems===!0&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Os(e.items,t)):[]}s(Iie,"TArray");function Aie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:async function*(){}()}s(Aie,"TAsyncIterator");function Pie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:BigInt(0)}s(Pie,"TBigInt");function Rie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:!1}s(Rie,"TBoolean");function kie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=Os(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let o=this;o[n]=i}}}:class{}}}s(kie,"TConstructor");function Nie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}s(Nie,"TDate");function Die(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:()=>Os(e.returns,t)}s(Die,"TFunction");function Lie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s(Lie,"TInteger");function Bie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,i)=>{let o=Os(i,t);return typeof o=="object"?{...n,...o}:o},{});if(!(0,Sie.Check)(e,t,r))throw new ly(e);return r}}s(Bie,"TIntersect");function Oie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:function*(){}()}s(Oie,"TIterator");function Fie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.const}s(Fie,"TLiteral");function Mie(e,t){throw new oy(e)}s(Mie,"TNever");function Uie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new ay(e)}s(Uie,"TNot");function qie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:null}s(qie,"TNull");function jie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s(jie,"TNumber");function $ie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[i,o])=>r.has(i)?{...n,[i]:Os(o,t)}:{...n},{})}}s($ie,"TObject");function Hie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Promise.resolve(Os(e.item,t))}s(Hie,"TPromise");function Vie(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,V0.HasPropertyKey)(e,"default")?e.default:r===us.PatternStringExact||r===us.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((o,a)=>({...o,[a]:Os(n,t)}),{})}s(Vie,"TRecord");function zie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Os((0,_H.Deref)(e,t),t)}s(zie,"TRef");function Kie(e,t){if(e.pattern!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}s(Kie,"TString");function Gie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}s(Gie,"TSymbol");function Wie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;let r=us.TemplateLiteralParser.ParseExact(e.pattern);if(!us.TemplateLiteralFinite.Check(r))throw new fy(e);return us.TemplateLiteralGenerator.Generate(r).next().value}s(Wie,"TTemplateLiteral");function Yie(e,t){if(bH++>xH)throw new cy(e,xH);return(0,V0.HasPropertyKey)(e,"default")?e.default:Os((0,_H.Deref)(e,t),t)}s(Yie,"TThis");function Xie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Os(e.items[n],t))}s(Xie,"TTuple");function Jie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(Jie,"TUndefined");function Qie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Os(e.anyOf[0],t)}s(Qie,"TUnion");function Zie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}s(Zie,"TUint8Array");function ese(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(ese,"TUnknown");function tse(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(tse,"TVoid");function rse(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}s(rse,"TKind");function Os(e,t){let r=(0,V0.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[us.Kind]){case"Any":return wie(n,r);case"Array":return Iie(n,r);case"AsyncIterator":return Aie(n,r);case"BigInt":return Pie(n,r);case"Boolean":return Rie(n,r);case"Constructor":return kie(n,r);case"Date":return Nie(n,r);case"Function":return Die(n,r);case"Integer":return Lie(n,r);case"Intersect":return Bie(n,r);case"Iterator":return Oie(n,r);case"Literal":return Fie(n,r);case"Never":return Mie(n,r);case"Not":return Uie(n,r);case"Null":return qie(n,r);case"Number":return jie(n,r);case"Object":return $ie(n,r);case"Promise":return Hie(n,r);case"Record":return Vie(n,r);case"Ref":return zie(n,r);case"String":return Kie(n,r);case"Symbol":return Gie(n,r);case"TemplateLiteral":return Wie(n,r);case"This":return Yie(n,r);case"Tuple":return Xie(n,r);case"Undefined":return Jie(n,r);case"Union":return Qie(n,r);case"Uint8Array":return Zie(n,r);case"Unknown":return ese(n,r);case"Void":return tse(n,r);default:if(!us.TypeRegistry.Has(n[us.Kind]))throw new sy(n);return rse(n,r)}}s(Os,"Visit");var xH=512,bH=0;function nse(...e){return bH=0,e.length===2?Os(e[0],e[1]):Os(e[0],[])}s(nse,"Create");Pi.Create=nse});var SH=ae(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Cast=Ri.Default=Ri.DefaultClone=Ri.ValueCastUnknownTypeError=Ri.ValueCastRecursiveTypeError=Ri.ValueCastNeverTypeError=Ri.ValueCastArrayUniqueItemsTypeError=void 0;var Gc=ts(),cf=gA(),go=Q5(),l2=a2(),CH=yc(),ff=es(),xA=class xA extends ff.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};s(xA,"ValueCastArrayUniqueItemsTypeError");var uy=xA;Ri.ValueCastArrayUniqueItemsTypeError=uy;var _A=class _A extends ff.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};s(_A,"ValueCastNeverTypeError");var dy=_A;Ri.ValueCastNeverTypeError=dy;var bA=class bA extends ff.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};s(bA,"ValueCastRecursiveTypeError");var pA=bA;Ri.ValueCastRecursiveTypeError=pA;var CA=class CA extends ff.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(CA,"ValueCastUnknownTypeError");var hy=CA;Ri.ValueCastUnknownTypeError=hy;var yA;(function(e){function t(i,o,a){if(i[ff.Kind]==="Object"&&typeof a=="object"&&!(0,Gc.IsNull)(a)){let l=i,f=Object.getOwnPropertyNames(a),c=Object.entries(l.properties),[u,d]=[1/c.length,c.length];return c.reduce((g,[p,y])=>{let _=y[ff.Kind]==="Literal"&&y.const===a[p]?d:0,S=(0,go.Check)(y,o,a[p])?u:0,E=f.includes(p)?u:0;return g+(_+S+E)},0)}else return(0,go.Check)(i,o,a)?1:0}s(t,"Score");function r(i,o,a){let[l,f]=[i.anyOf[0],0];for(let c of i.anyOf){let u=t(c,o,a);u>f&&(l=c,f=u)}return l}s(r,"Select");function n(i,o,a){if("default"in i)return i.default;{let l=r(i,o,a);return EH(l,o,a)}}s(n,"Create"),e.Create=n})(yA||(yA={}));function TH(e,t,r){return(0,go.Check)(e,t,r)?(0,l2.Clone)(r):(0,cf.Create)(e,t)}s(TH,"DefaultClone");Ri.DefaultClone=TH;function vA(e,t,r){return(0,go.Check)(e,t,r)?r:(0,cf.Create)(e,t)}s(vA,"Default");Ri.Default=vA;function ise(e,t,r){if((0,go.Check)(e,t,r))return(0,l2.Clone)(r);let n=(0,Gc.IsArray)(r)?(0,l2.Clone)(r):(0,cf.Create)(e,t),i=(0,Gc.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,Gc.IsNumber)(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(f=>Ga(e.items,t,f));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!(0,go.Check)(e,t,l))throw new uy(e,l);return l}s(ise,"TArray");function sse(e,t,r){if((0,go.Check)(e,t,r))return(0,cf.Create)(e,t);let n=new Set(e.returns.required||[]),i=s(function(){},"result");for(let[o,a]of Object.entries(e.returns.properties))!n.has(o)&&r.prototype[o]===void 0||(i.prototype[o]=Ga(a,t,r.prototype[o]));return i}s(sse,"TConstructor");function ose(e,t,r){let n=(0,cf.Create)(e,t),i=(0,Gc.IsPlainObject)(n)&&(0,Gc.IsPlainObject)(r)?{...n,...r}:r;return(0,go.Check)(e,t,i)?i:(0,cf.Create)(e,t)}s(ose,"TIntersect");function ase(e,t,r){throw new dy(e)}s(ase,"TNever");function lse(e,t,r){if((0,go.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,cf.Create)(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))!n.has(o)&&r[o]===void 0||(i[o]=Ga(a,t,r[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))o.includes(a)||(i[a]=Ga(e.additionalProperties,t,r[a]))}return i}s(lse,"TObject");function fse(e,t,r){if((0,go.Check)(e,t,r))return(0,l2.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,cf.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Ga(i,t,l);return o}s(fse,"TRecord");function cse(e,t,r){return Ga((0,CH.Deref)(e,t),t,r)}s(cse,"TRef");function use(e,t,r){return Ga((0,CH.Deref)(e,t),t,r)}s(use,"TThis");function dse(e,t,r){return(0,go.Check)(e,t,r)?(0,l2.Clone)(r):(0,Gc.IsArray)(r)?e.items===void 0?[]:e.items.map((n,i)=>Ga(n,t,r[i])):(0,cf.Create)(e,t)}s(dse,"TTuple");function hse(e,t,r){return(0,go.Check)(e,t,r)?(0,l2.Clone)(r):yA.Create(e,t,r)}s(hse,"TUnion");function Ga(e,t,r){let n=(0,Gc.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[ff.Kind]){case"Array":return ise(i,n,r);case"Constructor":return sse(i,n,r);case"Intersect":return ose(i,n,r);case"Never":return ase(i,n,r);case"Object":return lse(i,n,r);case"Record":return fse(i,n,r);case"Ref":return cse(i,n,r);case"This":return use(i,n,r);case"Tuple":return dse(i,n,r);case"Union":return hse(i,n,r);case"Date":case"Symbol":case"Uint8Array":return TH(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return vA(i,n,r);default:if(!ff.TypeRegistry.Has(i[ff.Kind]))throw new hy(i);return vA(i,n,r)}}s(Ga,"Visit");function EH(...e){return e.length===3?Ga(e[0],e[1],e[2]):Ga(e[0],[],e[1])}s(EH,"Cast");Ri.Cast=EH});var RH=ae(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.Convert=Wc.Default=Wc.ValueConvertUnknownTypeError=void 0;var ur=ts(),mse=a2(),gse=Q5(),wH=yc(),f2=es(),TA=class TA extends f2.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(TA,"ValueConvertUnknownTypeError");var my=TA;Wc.ValueConvertUnknownTypeError=my;function gy(e){return(0,ur.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}s(gy,"IsStringNumeric");function pse(e){return(0,ur.IsBigInt)(e)||(0,ur.IsBoolean)(e)||(0,ur.IsNumber)(e)}s(pse,"IsValueToString");function V8(e){return e===!0||(0,ur.IsNumber)(e)&&e===1||(0,ur.IsBigInt)(e)&&e===BigInt("1")||(0,ur.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}s(V8,"IsValueTrue");function z8(e){return e===!1||(0,ur.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,ur.IsBigInt)(e)&&e===BigInt("0")||(0,ur.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}s(z8,"IsValueFalse");function yse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(yse,"IsTimeStringWithTimeZone");function vse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(vse,"IsTimeStringWithoutTimeZone");function xse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(xse,"IsDateTimeStringWithTimeZone");function _se(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(_se,"IsDateTimeStringWithoutTimeZone");function bse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}s(bse,"IsDateString");function Cse(e,t){let r=AH(e);return r===t?r:e}s(Cse,"TryConvertLiteralString");function Tse(e,t){let r=PH(e);return r===t?r:e}s(Tse,"TryConvertLiteralNumber");function Ese(e,t){let r=IH(e);return r===t?r:e}s(Ese,"TryConvertLiteralBoolean");function Sse(e,t){return typeof e.const=="string"?Cse(t,e.const):typeof e.const=="number"?Tse(t,e.const):typeof e.const=="boolean"?Ese(t,e.const):(0,mse.Clone)(t)}s(Sse,"TryConvertLiteral");function IH(e){return V8(e)?!0:z8(e)?!1:e}s(IH,"TryConvertBoolean");function wse(e){return gy(e)?BigInt(parseInt(e)):(0,ur.IsNumber)(e)?BigInt(e|0):z8(e)?BigInt(0):V8(e)?BigInt(1):e}s(wse,"TryConvertBigInt");function AH(e){return pse(e)?e.toString():(0,ur.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}s(AH,"TryConvertString");function PH(e){return gy(e)?parseFloat(e):V8(e)?1:z8(e)?0:e}s(PH,"TryConvertNumber");function Ise(e){return gy(e)?parseInt(e):(0,ur.IsNumber)(e)?e|0:V8(e)?1:z8(e)?0:e}s(Ise,"TryConvertInteger");function Ase(e){return(0,ur.IsString)(e)&&e.toLowerCase()==="null"?null:e}s(Ase,"TryConvertNull");function Pse(e){return(0,ur.IsString)(e)&&e==="undefined"?void 0:e}s(Pse,"TryConvertUndefined");function Rse(e){return(0,ur.IsDate)(e)?e:(0,ur.IsNumber)(e)?new Date(e):V8(e)?new Date(1):z8(e)?new Date(0):gy(e)?new Date(parseInt(e)):vse(e)?new Date(`1970-01-01T${e}.000Z`):yse(e)?new Date(`1970-01-01T${e}`):_se(e)?new Date(`${e}.000Z`):xse(e)?new Date(e):bse(e)?new Date(`${e}T00:00:00.000Z`):e}s(Rse,"TryConvertDate");function kse(e){return e}s(kse,"Default");Wc.Default=kse;function Nse(e,t,r){return(0,ur.IsArray)(r)?r.map(n=>Zo(e.items,t,n)):r}s(Nse,"TArray");function Dse(e,t,r){return wse(r)}s(Dse,"TBigInt");function Lse(e,t,r){return IH(r)}s(Lse,"TBoolean");function Bse(e,t,r){return Rse(r)}s(Bse,"TDate");function Ose(e,t,r){return Ise(r)}s(Ose,"TInteger");function Fse(e,t,r){return e.allOf.every(n=>f2.TypeGuard.TObject(n))?Zo(f2.Type.Composite(e.allOf),t,r):Zo(e.allOf[0],t,r)}s(Fse,"TIntersect");function Mse(e,t,r){return Sse(e,r)}s(Mse,"TLiteral");function Use(e,t,r){return Ase(r)}s(Use,"TNull");function qse(e,t,r){return PH(r)}s(qse,"TNumber");function jse(e,t,r){return(0,ur.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,i)=>r[i]!==void 0?{...n,[i]:Zo(e.properties[i],t,r[i])}:{...n},r):r}s(jse,"TObject");function $se(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Zo(i,t,l);return o}s($se,"TRecord");function Hse(e,t,r){return Zo((0,wH.Deref)(e,t),t,r)}s(Hse,"TRef");function Vse(e,t,r){return AH(r)}s(Vse,"TString");function zse(e,t,r){return(0,ur.IsString)(r)||(0,ur.IsNumber)(r)?Symbol(r):r}s(zse,"TSymbol");function Kse(e,t,r){return Zo((0,wH.Deref)(e,t),t,r)}s(Kse,"TThis");function Gse(e,t,r){return(0,ur.IsArray)(r)&&!(0,ur.IsUndefined)(e.items)?r.map((n,i)=>i<e.items.length?Zo(e.items[i],t,n):n):r}s(Gse,"TTuple");function Wse(e,t,r){return Pse(r)}s(Wse,"TUndefined");function Yse(e,t,r){for(let n of e.anyOf){let i=Zo(n,t,r);if((0,gse.Check)(n,t,i))return i}return r}s(Yse,"TUnion");function Zo(e,t,r){let n=(0,ur.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[f2.Kind]){case"Array":return Nse(i,n,r);case"BigInt":return Dse(i,n,r);case"Boolean":return Lse(i,n,r);case"Date":return Bse(i,n,r);case"Integer":return Ose(i,n,r);case"Intersect":return Fse(i,n,r);case"Literal":return Mse(i,n,r);case"Null":return Use(i,n,r);case"Number":return qse(i,n,r);case"Object":return jse(i,n,r);case"Record":return $se(i,n,r);case"Ref":return Hse(i,n,r);case"String":return Vse(i,n,r);case"Symbol":return zse(i,n,r);case"This":return Kse(i,n,r);case"Tuple":return Gse(i,n,r);case"Undefined":return Wse(i,n,r);case"Union":return Yse(i,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!f2.TypeRegistry.Has(i[f2.Kind]))throw new my(i);return r}}s(Zo,"Visit");function Xse(...e){return e.length===3?Zo(e[0],e[1],e[2]):Zo(e[0],[],e[1])}s(Xse,"Convert");Wc.Convert=Xse});var MH=ae(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});yy.Value=void 0;var kH=ag(),Jse=yH(),Qse=bh(),Zse=vH(),NH=SH(),eoe=a2(),DH=RH(),LH=gA(),BH=Q5(),OH=iA(),py=I_(),FH;(function(e){function t(...y){return NH.Cast.apply(NH,y)}s(t,"Cast"),e.Cast=t;function r(...y){return LH.Create.apply(LH,y)}s(r,"Create"),e.Create=r;function n(...y){return BH.Check.apply(BH,y)}s(n,"Check"),e.Check=n;function i(...y){return DH.Convert.apply(DH,y)}s(i,"Convert"),e.Convert=i;function o(y){return eoe.Clone(y)}s(o,"Clone"),e.Clone=o;function a(...y){let[_,S,E]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]];if(!n(_,S,E))throw new py.TransformDecodeCheckError(_,E,f(_,S,E).First());return py.DecodeTransform.Decode(_,S,E)}s(a,"Decode"),e.Decode=a;function l(...y){let[_,S,E]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]],A=py.EncodeTransform.Encode(_,S,E);if(!n(_,S,A))throw new py.TransformEncodeCheckError(_,E,f(_,S,E).First());return A}s(l,"Encode"),e.Encode=l;function f(...y){return kH.Errors.apply(kH,y)}s(f,"Errors"),e.Errors=f;function c(y,_){return Zse.Equal(y,_)}s(c,"Equal"),e.Equal=c;function u(y,_){return OH.Diff(y,_)}s(u,"Diff"),e.Diff=u;function d(y){return Qse.Hash(y)}s(d,"Hash"),e.Hash=d;function g(y,_){return OH.Patch(y,_)}s(g,"Patch"),e.Patch=g;function p(y,_){Jse.Mutate(y,_)}s(p,"Mutate"),e.Mutate=p})(FH||(yy.Value=FH={}))});var qH=ae(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.Value=Dn.ValuePointer=Dn.Delete=Dn.Update=Dn.Insert=Dn.Edit=Dn.ValueErrorIterator=Dn.ValueErrorType=void 0;var UH=ag();Object.defineProperty(Dn,"ValueErrorType",{enumerable:!0,get:function(){return UH.ValueErrorType}});Object.defineProperty(Dn,"ValueErrorIterator",{enumerable:!0,get:function(){return UH.ValueErrorIterator}});var vy=iA();Object.defineProperty(Dn,"Edit",{enumerable:!0,get:function(){return vy.Edit}});Object.defineProperty(Dn,"Insert",{enumerable:!0,get:function(){return vy.Insert}});Object.defineProperty(Dn,"Update",{enumerable:!0,get:function(){return vy.Update}});Object.defineProperty(Dn,"Delete",{enumerable:!0,get:function(){return vy.Delete}});var toe=Xp();Object.defineProperty(Dn,"ValuePointer",{enumerable:!0,get:function(){return toe.ValuePointer}});var roe=MH();Object.defineProperty(Dn,"Value",{enumerable:!0,get:function(){return roe.Value}})});var _0=ae((jCe,cV)=>{cV.exports={options:{usePureJavaScript:!1}}});var hV=ae(($Ce,dV)=>{var iP={};dV.exports=iP;var uV={};iP.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Coe(e,t);else{var i=0,o=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var f=0,c=e[i];f<l.length;++f)c+=l[f]<<8,l[f]=c%o,c=c/o|0;for(;c>0;)l.push(c%o),c=c/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};iP.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=uV[t];if(!r){r=uV[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var f=0,c=l;f<a.length;++f)c+=a[f]*i,a[f]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;e[u]===o&&u<e.length-1;++u)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Coe(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<o.length;++a)l+=o[a]<<8,o[a]=l%n,l=l/n|0;for(;l>0;)o.push(l%n),l=l/n|0}var f="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=t[o[r]];return f}s(Coe,"_encodeWithByteBuffer")});var W0=ae((VCe,yV)=>{var mV=_0(),gV=hV(),ge=yV.exports=mV.util=mV.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ge.nextTick=process.nextTick,typeof setImmediate=="function"?ge.setImmediate=setImmediate:ge.setImmediate=ge.nextTick;return}if(typeof setImmediate=="function"){ge.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ge.nextTick=function(l){return setImmediate(l)};return}if(ge.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(f){if(f.source===window&&f.data===e){f.stopPropagation();var c=t.slice();t.length=0,c.forEach(function(u){u()})}};var a=l;s(l,"handler");var e="forge.setImmediate",t=[];ge.setImmediate=function(f){t.push(f),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var f=t.slice();t.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=ge.setImmediate;ge.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(t.push(f),t.length===1&&i.setAttribute("a",n=!n))}}ge.nextTick=ge.setImmediate})();ge.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ge.globalScope=function(){return ge.isNodejs?global:typeof self>"u"?window:self}();ge.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};ge.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};ge.isArrayBufferView=function(e){return e&&ge.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Z8(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}s(Z8,"_checkBitsParam");ge.ByteBuffer=sP;function sP(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(ge.isArrayBuffer(e)||ge.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof sP||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}s(sP,"ByteStringBuffer");ge.ByteStringBuffer=sP;var Toe=4096;ge.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Toe&&(this.data.substr(0,1),this._constructedStringLength=0)};ge.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ge.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};ge.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};ge.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};ge.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(ge.encodeUtf8(e))};ge.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};ge.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};ge.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};ge.ByteStringBuffer.prototype.putInt=function(e,t){Z8(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};ge.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};ge.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ge.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt=function(e){Z8(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};ge.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};ge.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};ge.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ge.ByteStringBuffer.prototype.copy=function(){var e=ge.createBuffer(this.data);return e.read=this.read,e};ge.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ge.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ge.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};ge.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.ByteStringBuffer.prototype.toString=function(){return ge.decodeUtf8(this.bytes())};function Eoe(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=ge.isArrayBuffer(e),n=ge.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s(Eoe,"DataBuffer");ge.DataBuffer=Eoe;ge.DataBuffer.prototype.length=function(){return this.write-this.read};ge.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};ge.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};ge.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};ge.DataBuffer.prototype.putBytes=function(e,t){if(ge.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ge.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof ge.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&ge.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof ge.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=ge.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=ge.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};ge.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};ge.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};ge.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};ge.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};ge.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};ge.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};ge.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};ge.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};ge.DataBuffer.prototype.putInt=function(e,t){Z8(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};ge.DataBuffer.prototype.putSignedInt=function(e,t){return Z8(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ge.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};ge.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};ge.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};ge.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};ge.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};ge.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};ge.DataBuffer.prototype.getInt=function(e){Z8(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};ge.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};ge.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};ge.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ge.DataBuffer.prototype.copy=function(){return new ge.DataBuffer(this)};ge.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};ge.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ge.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};ge.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return ge.binary.raw.encode(t);if(e==="hex")return ge.binary.hex.encode(t);if(e==="base64")return ge.binary.base64.encode(t);if(e==="utf8")return ge.text.utf8.decode(t);if(e==="utf16")return ge.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};ge.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=ge.encodeUtf8(e)),new ge.ByteBuffer(e)};ge.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};ge.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=o,o="",l=0),o+=String.fromCharCode(i),++l;return n+=o,n};ge.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};ge.bytesToHex=function(e){return ge.createBuffer(e).toHex()};ge.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Jc=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],pV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ge.encode64=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.length;)i=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=Xc.charAt(i>>2),r+=Xc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Xc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=Jc[e.charCodeAt(a++)-43],n=Jc[e.charCodeAt(a++)-43],i=Jc[e.charCodeAt(a++)-43],o=Jc[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};ge.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};ge.decodeUtf8=function(e){return decodeURIComponent(escape(e))};ge.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:gV.encode,decode:gV.decode}};ge.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};ge.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.binary.hex.encode=ge.bytesToHex;ge.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};ge.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.byteLength;)i=e[l++],o=e[l++],a=e[l++],r+=Xc.charAt(i>>2),r+=Xc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Xc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,l,f=0,c=r;f<e.length;)i=Jc[e.charCodeAt(f++)-43],o=Jc[e.charCodeAt(f++)-43],a=Jc[e.charCodeAt(f++)-43],l=Jc[e.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,a!==64&&(n[c++]=(o&15)<<4|a>>2,l!==64&&(n[c++]=(a&3)<<6|l));return t?c-r:n.subarray(0,c)};ge.binary.base58.encode=function(e,t){return ge.binary.baseN.encode(e,pV,t)};ge.binary.base58.decode=function(e,t){return ge.binary.baseN.decode(e,pV,t)};ge.text={utf8:{},utf16:{}};ge.text.utf8.encode=function(e,t,r){e=ge.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.text.utf8.decode=function(e){return ge.decodeUtf8(String.fromCharCode.apply(null,e))};ge.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),o+=2;return t?o-r:n};ge.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};ge.deflate=function(e,t,r){if(t=ge.decode64(e.deflate(ge.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};ge.inflate=function(e,t,r){var n=e.inflate(ge.encode64(t)).rval;return n===null?null:ge.decode64(n)};var oP=s(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=ge.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),aP=s(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ge.decode64(r))),r},"_getStorageObject"),Soe=s(function(e,t,r,n){var i=aP(e,t);i===null&&(i={}),i[r]=n,oP(e,t,i)},"_setItem"),woe=s(function(e,t,r){var n=aP(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Ioe=s(function(e,t,r){var n=aP(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),oP(e,t,n)}},"_removeItem"),Aoe=s(function(e,t){oP(e,t,null)},"_clearItems"),Ry=s(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n},"_callStorageFunction");ge.setItem=function(e,t,r,n,i){Ry(Soe,arguments,i)};ge.getItem=function(e,t,r,n){return Ry(woe,arguments,n)};ge.removeItem=function(e,t,r,n){Ry(Ioe,arguments,n)};ge.clearItems=function(e,t,r){Ry(Aoe,arguments,r)};ge.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};ge.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+l+"?>")}}return o.push(e.substring(a)),o.join("")};ge.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+l:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")};ge.formatSize=function(e){return e>=1073741824?e=ge.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=ge.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=ge.formatNumber(e/1024,0)+" KiB":e=ge.formatNumber(e,0)+" bytes",e};ge.bytesFromIP=function(e){return e.indexOf(".")!==-1?ge.bytesFromIPv4(e):e.indexOf(":")!==-1?ge.bytesFromIPv6(e):null};ge.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=ge.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};ge.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=ge.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=ge.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};ge.bytesToIP=function(e){return e.length===4?ge.bytesToIPv4(e):e.length===16?ge.bytesToIPv6(e):null};ge.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};ge.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=ge.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(t.splice(f.start,f.end-f.start+1,""),f.start===0&&t.unshift(""),f.end===7&&t.push(""))}return t.join(":")};ge.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in ge&&!e.update)return t(null,ge.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ge.cores=navigator.hardwareConcurrency,t(null,ge.cores);if(typeof Worker>"u")return ge.cores=1,t(null,ge.cores);if(typeof Blob>"u")return ge.cores=2,t(null,ge.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),f=l+4;Date.now()<f;);self.postMessage({st:l,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,f){if(l===0){var c=Math.floor(a.reduce(function(u,d){return u+d},0)/a.length);return ge.cores=Math.max(1,c),URL.revokeObjectURL(r),t(null,ge.cores)}i(f,function(u,d){a.push(o(f,d)),n(a,l-1,f)})}s(n,"sample");function i(a,l){for(var f=[],c=[],u=0;u<a;++u){var d=new Worker(r);d.addEventListener("message",function(g){if(c.push(g.data),c.length===a){for(var p=0;p<a;++p)f[p].terminate();l(null,c)}}),f.push(d)}for(var u=0;u<a;++u)f[u].postMessage(u)}s(i,"map");function o(a,l){for(var f=[],c=0;c<a;++c)for(var u=l[c],d=f[c]=[],g=0;g<a;++g)if(c!==g){var p=l[g];(u.st>p.st&&u.st<p.et||p.st>u.st&&p.st<u.et)&&d.push(g)}return f.reduce(function(y,_){return Math.max(y,_.length)},0)}s(o,"reduce")}});var ky=ae((KCe,vV)=>{var Bn=_0();W0();vV.exports=Bn.cipher=Bn.cipher||{};Bn.cipher.algorithms=Bn.cipher.algorithms||{};Bn.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Bn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Bn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Bn.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Bn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Bn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Bn.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Bn.cipher.algorithms[e]=t};Bn.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Bn.cipher.algorithms?Bn.cipher.algorithms[e]:null};var lP=Bn.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};lP.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Bn.util.createBuffer(),this.output=e.output||Bn.util.createBuffer(),this.mode.start(t)};lP.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};lP.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var cP=ae((GCe,xV)=>{var On=_0();W0();On.cipher=On.cipher||{};var k0=xV.exports=On.cipher.modes=On.cipher.modes||{};k0.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};k0.ecb.prototype.start=function(e){};k0.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};k0.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};k0.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};k0.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};k0.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};k0.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Ny(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};k0.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};k0.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};k0.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};k0.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};k0.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=On.util.createBuffer(),this._partialBytes=0};k0.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ny(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};k0.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};k0.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};k0.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=On.util.createBuffer(),this._partialBytes=0};k0.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ny(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};k0.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};k0.ofb.prototype.decrypt=k0.ofb.prototype.encrypt;k0.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=On.util.createBuffer(),this._partialBytes=0};k0.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ny(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};k0.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Dy(this._inBlock)};k0.ctr.prototype.decrypt=k0.ctr.prototype.encrypt;k0.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=On.util.createBuffer(),this._partialBytes=0,this._R=3774873600};k0.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=On.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=On.util.createBuffer(e.additionalData):r=On.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=On.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(fP(n*8)))}this._inBlock=this._j0.slice(0),Dy(this._inBlock),this._partialBytes=0,r=On.util.createBuffer(r),this._aDataLength=fP(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};k0.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Dy(this._inBlock)};k0.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Dy(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};k0.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=On.util.createBuffer();var n=this._aDataLength.concat(fP(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};k0.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};k0.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};k0.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};k0.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};k0.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],f=a/n|0,c=(n-1-a%n)*t;l[f]=1<<t-1<<c,o[a]=this.generateSubHashTable(this.multiply(l,e),t)}return o};k0.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var l=i[o],f=i[a];i[o+a]=[l[0]^f[0],l[1]^f[1],l[2]^f[2],l[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i};function Ny(e,t){if(typeof e=="string"&&(e=On.util.createBuffer(e)),On.util.isArray(e)&&e.length>4){var r=e;e=On.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!On.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}s(Ny,"transformIV");function Dy(e){e[e.length-1]=e[e.length-1]+1&4294967295}s(Dy,"inc32");function fP(e){return[e/4294967296|0,e&4294967295]}s(fP,"from64To32")});var Qc=ae((YCe,TV)=>{var vr=_0();ky();cP();W0();TV.exports=vr.aes=vr.aes||{};vr.aes.startEncrypting=function(e,t,r,n){var i=Ly({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};vr.aes.createEncryptionCipher=function(e,t){return Ly({key:e,output:null,decrypt:!1,mode:t})};vr.aes.startDecrypting=function(e,t,r,n){var i=Ly({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};vr.aes.createDecryptionCipher=function(e,t){return Ly({key:e,output:null,decrypt:!0,mode:t})};vr.aes.Algorithm=function(e,t){hP||bV();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return dP(r._w,n,i,!1)},decrypt:function(n,i){return dP(r._w,n,i,!0)}}}),r._init=!1};vr.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=vr.util.createBuffer(t);else if(vr.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=vr.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!vr.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!vr.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=CV(t,e.decrypt&&!a),this._init=!0}};vr.aes._expandKey=function(e,t){return hP||bV(),CV(e,t)};vr.aes._updateBlock=dP;v2("AES-ECB",vr.cipher.modes.ecb);v2("AES-CBC",vr.cipher.modes.cbc);v2("AES-CFB",vr.cipher.modes.cfb);v2("AES-OFB",vr.cipher.modes.ofb);v2("AES-CTR",vr.cipher.modes.ctr);v2("AES-GCM",vr.cipher.modes.gcm);function v2(e,t){var r=s(function(){return new vr.aes.Algorithm(e,t)},"factory");vr.cipher.registerAlgorithm(e,r)}s(v2,"registerAlgorithm");var hP=!1,y2=4,qi,uP,_V,Sd,ta;function bV(){hP=!0,_V=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;qi=new Array(256),uP=new Array(256),Sd=new Array(4),ta=new Array(4);for(var t=0;t<4;++t)Sd[t]=new Array(256),ta[t]=new Array(256);for(var r=0,n=0,i,o,a,l,f,c,u,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,qi[r]=l,uP[l]=r,f=e[l],i=e[r],o=e[i],a=e[o],c=f<<24^l<<16^l<<8^(l^f),u=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var d=0;d<4;++d)Sd[d][r]=c,ta[d][l]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}s(bV,"initialize");function CV(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,l=y2*a,f=o;f<l;++f)n=r[f-1],f%o===0?(n=qi[n>>>16&255]<<24^qi[n>>>8&255]<<16^qi[n&255]<<8^qi[n>>>24]^_V[i]<<24,i++):o>6&&f%o===4&&(n=qi[n>>>24]<<24^qi[n>>>16&255]<<16^qi[n>>>8&255]<<8^qi[n&255]),r[f]=r[f-o]^n;if(t){var c,u=ta[0],d=ta[1],g=ta[2],p=ta[3],y=r.slice(0);l=r.length;for(var f=0,_=l-y2;f<l;f+=y2,_-=y2)if(f===0||f===l-y2)y[f]=r[_],y[f+1]=r[_+3],y[f+2]=r[_+2],y[f+3]=r[_+1];else for(var S=0;S<y2;++S)c=r[_+S],y[f+(3&-S)]=u[qi[c>>>24]]^d[qi[c>>>16&255]]^g[qi[c>>>8&255]]^p[qi[c&255]];r=y}return r}s(CV,"_expandKey");function dP(e,t,r,n){var i=e.length/4-1,o,a,l,f,c;n?(o=ta[0],a=ta[1],l=ta[2],f=ta[3],c=uP):(o=Sd[0],a=Sd[1],l=Sd[2],f=Sd[3],c=qi);var u,d,g,p,y,_,S;u=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],p=t[n?1:3]^e[3];for(var E=3,A=1;A<i;++A)y=o[u>>>24]^a[d>>>16&255]^l[g>>>8&255]^f[p&255]^e[++E],_=o[d>>>24]^a[g>>>16&255]^l[p>>>8&255]^f[u&255]^e[++E],S=o[g>>>24]^a[p>>>16&255]^l[u>>>8&255]^f[d&255]^e[++E],p=o[p>>>24]^a[u>>>16&255]^l[d>>>8&255]^f[g&255]^e[++E],u=y,d=_,g=S;r[0]=c[u>>>24]<<24^c[d>>>16&255]<<16^c[g>>>8&255]<<8^c[p&255]^e[++E],r[n?3:1]=c[d>>>24]<<24^c[g>>>16&255]<<16^c[p>>>8&255]<<8^c[u&255]^e[++E],r[2]=c[g>>>24]<<24^c[p>>>16&255]<<16^c[u>>>8&255]<<8^c[d&255]^e[++E],r[n?1:3]=c[p>>>24]<<24^c[u>>>16&255]<<16^c[d>>>8&255]<<8^c[g&255]^e[++E]}s(dP,"_updateBlock");function Ly(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=vr.cipher.createDecipher(r,e.key):n=vr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof vr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(Ly,"_createCipher")});var Zc=ae((JCe,EV)=>{var e6=_0();e6.pki=e6.pki||{};var mP=EV.exports=e6.pki.oids=e6.oids=e6.oids||{};function ot(e,t){mP[e]=t,mP[t]=e}s(ot,"_IN");function ar(e,t){mP[e]=t}s(ar,"_I_");ot("1.2.840.113549.1.1.1","rsaEncryption");ot("1.2.840.113549.1.1.4","md5WithRSAEncryption");ot("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ot("1.2.840.113549.1.1.7","RSAES-OAEP");ot("1.2.840.113549.1.1.8","mgf1");ot("1.2.840.113549.1.1.9","pSpecified");ot("1.2.840.113549.1.1.10","RSASSA-PSS");ot("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ot("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ot("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ot("1.3.101.112","EdDSA25519");ot("1.2.840.10040.4.3","dsa-with-sha1");ot("1.3.14.3.2.7","desCBC");ot("1.3.14.3.2.26","sha1");ot("1.3.14.3.2.29","sha1WithRSASignature");ot("2.16.840.1.101.3.4.2.1","sha256");ot("2.16.840.1.101.3.4.2.2","sha384");ot("2.16.840.1.101.3.4.2.3","sha512");ot("2.16.840.1.101.3.4.2.4","sha224");ot("2.16.840.1.101.3.4.2.5","sha512-224");ot("2.16.840.1.101.3.4.2.6","sha512-256");ot("1.2.840.113549.2.2","md2");ot("1.2.840.113549.2.5","md5");ot("1.2.840.113549.1.7.1","data");ot("1.2.840.113549.1.7.2","signedData");ot("1.2.840.113549.1.7.3","envelopedData");ot("1.2.840.113549.1.7.4","signedAndEnvelopedData");ot("1.2.840.113549.1.7.5","digestedData");ot("1.2.840.113549.1.7.6","encryptedData");ot("1.2.840.113549.1.9.1","emailAddress");ot("1.2.840.113549.1.9.2","unstructuredName");ot("1.2.840.113549.1.9.3","contentType");ot("1.2.840.113549.1.9.4","messageDigest");ot("1.2.840.113549.1.9.5","signingTime");ot("1.2.840.113549.1.9.6","counterSignature");ot("1.2.840.113549.1.9.7","challengePassword");ot("1.2.840.113549.1.9.8","unstructuredAddress");ot("1.2.840.113549.1.9.14","extensionRequest");ot("1.2.840.113549.1.9.20","friendlyName");ot("1.2.840.113549.1.9.21","localKeyId");ot("1.2.840.113549.1.9.22.1","x509Certificate");ot("1.2.840.113549.1.12.10.1.1","keyBag");ot("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ot("1.2.840.113549.1.12.10.1.3","certBag");ot("1.2.840.113549.1.12.10.1.4","crlBag");ot("1.2.840.113549.1.12.10.1.5","secretBag");ot("1.2.840.113549.1.12.10.1.6","safeContentsBag");ot("1.2.840.113549.1.5.13","pkcs5PBES2");ot("1.2.840.113549.1.5.12","pkcs5PBKDF2");ot("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ot("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ot("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ot("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ot("1.2.840.113549.2.7","hmacWithSHA1");ot("1.2.840.113549.2.8","hmacWithSHA224");ot("1.2.840.113549.2.9","hmacWithSHA256");ot("1.2.840.113549.2.10","hmacWithSHA384");ot("1.2.840.113549.2.11","hmacWithSHA512");ot("1.2.840.113549.3.7","des-EDE3-CBC");ot("2.16.840.1.101.3.4.1.2","aes128-CBC");ot("2.16.840.1.101.3.4.1.22","aes192-CBC");ot("2.16.840.1.101.3.4.1.42","aes256-CBC");ot("2.5.4.3","commonName");ot("2.5.4.4","surname");ot("2.5.4.5","serialNumber");ot("2.5.4.6","countryName");ot("2.5.4.7","localityName");ot("2.5.4.8","stateOrProvinceName");ot("2.5.4.9","streetAddress");ot("2.5.4.10","organizationName");ot("2.5.4.11","organizationalUnitName");ot("2.5.4.12","title");ot("2.5.4.13","description");ot("2.5.4.15","businessCategory");ot("2.5.4.17","postalCode");ot("2.5.4.42","givenName");ot("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ot("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ot("2.16.840.1.113730.1.1","nsCertType");ot("2.16.840.1.113730.1.13","nsComment");ar("2.5.29.1","authorityKeyIdentifier");ar("2.5.29.2","keyAttributes");ar("2.5.29.3","certificatePolicies");ar("2.5.29.4","keyUsageRestriction");ar("2.5.29.5","policyMapping");ar("2.5.29.6","subtreesConstraint");ar("2.5.29.7","subjectAltName");ar("2.5.29.8","issuerAltName");ar("2.5.29.9","subjectDirectoryAttributes");ar("2.5.29.10","basicConstraints");ar("2.5.29.11","nameConstraints");ar("2.5.29.12","policyConstraints");ar("2.5.29.13","basicConstraints");ot("2.5.29.14","subjectKeyIdentifier");ot("2.5.29.15","keyUsage");ar("2.5.29.16","privateKeyUsagePeriod");ot("2.5.29.17","subjectAltName");ot("2.5.29.18","issuerAltName");ot("2.5.29.19","basicConstraints");ar("2.5.29.20","cRLNumber");ar("2.5.29.21","cRLReason");ar("2.5.29.22","expirationDate");ar("2.5.29.23","instructionCode");ar("2.5.29.24","invalidityDate");ar("2.5.29.25","cRLDistributionPoints");ar("2.5.29.26","issuingDistributionPoint");ar("2.5.29.27","deltaCRLIndicator");ar("2.5.29.28","issuingDistributionPoint");ar("2.5.29.29","certificateIssuer");ar("2.5.29.30","nameConstraints");ot("2.5.29.31","cRLDistributionPoints");ot("2.5.29.32","certificatePolicies");ar("2.5.29.33","policyMappings");ar("2.5.29.34","policyConstraints");ot("2.5.29.35","authorityKeyIdentifier");ar("2.5.29.36","policyConstraints");ot("2.5.29.37","extKeyUsage");ar("2.5.29.46","freshestCRL");ar("2.5.29.54","inhibitAnyPolicy");ot("1.3.6.1.4.1.11129.2.4.2","timestampList");ot("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ot("1.3.6.1.5.5.7.3.1","serverAuth");ot("1.3.6.1.5.5.7.3.2","clientAuth");ot("1.3.6.1.5.5.7.3.3","codeSigning");ot("1.3.6.1.5.5.7.3.4","emailProtection");ot("1.3.6.1.5.5.7.3.8","timeStamping")});var ra=ae((ZCe,wV)=>{var Er=_0();W0();Zc();var yt=wV.exports=Er.asn1=Er.asn1||{};yt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};yt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};yt.create=function(e,t,r,n,i){if(Er.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var l={tagClass:e,type:t,constructed:r,composed:r||Er.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=yt.copy(l)),l};yt.copy=function(e,t){var r;if(Er.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(yt.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:yt.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};yt.equals=function(e,t,r){if(Er.util.isArray(e)){if(!Er.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!yt.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&yt.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};yt.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function t6(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}s(t6,"_checkBufferLength");var Poe=s(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;t6(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");yt.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Er.util.createBuffer(e));var r=e.length(),n=By(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function By(e,t,r,n){var i;t6(e,t,2);var o=e.getByte();t--;var a=o&192,l=o&31;i=e.length();var f=Poe(e,t);if(t-=i-e.length(),f!==void 0&&f>t){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=e.length(),c.remaining=t,c.requested=f,c}f=t}var u,d,g=(o&32)===32;if(g)if(u=[],f===void 0)for(;;){if(t6(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),u.push(By(e,t,r+1,n)),t-=i-e.length()}else for(;f>0;)i=e.length(),u.push(By(e,f,r+1,n)),t-=i-e.length(),f-=i-e.length();if(u===void 0&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&(d=e.bytes(f)),u===void 0&&n.decodeBitStrings&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&f>1){var p=e.read,y=t,_=0;if(l===yt.Type.BITSTRING&&(t6(e,t,1),_=e.getByte(),t--),_===0)try{i=e.length();var S={strict:!0,decodeBitStrings:!0},E=By(e,t,r+1,S),A=i-e.length();t-=A,l==yt.Type.BITSTRING&&A++;var P=E.tagClass;A===f&&(P===yt.Class.UNIVERSAL||P===yt.Class.CONTEXT_SPECIFIC)&&(u=[E])}catch{}u===void 0&&(e.read=p,t=y)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(l===yt.Type.BMPSTRING)for(u="";f>0;f-=2)t6(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(f),t-=f}var U=d===void 0?null:{bitStringContents:d};return yt.create(a,l,g,u,U)}s(By,"_fromDer");yt.toDer=function(e){var t=Er.util.createBuffer(),r=e.tagClass|e.type,n=Er.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=yt.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(yt.toDer(e.value[o]))}else if(e.type===yt.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===yt.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var o=l.length-1;o>=0;--o)t.putByte(l.charCodeAt(o))}return t.putBuffer(n),t};yt.oidToDer=function(e){var t=e.split("."),r=Er.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,l=2;l<t.length;++l){n=!0,i=[],o=parseInt(t[l],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};yt.derToOid=function(e){var t;typeof e=="string"&&(e=Er.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};yt.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var f=e.charAt(10),c=10;f!=="+"&&f!=="-"&&(l=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,0),c&&(f=e.charAt(c),f==="+"||f==="-")){var u=parseInt(e.substr(c+1,2),10),d=parseInt(e.substr(c+4,2),10),g=u*60+d;g*=6e4,f==="+"?t.setTime(+t-g):t.setTime(+t+g)}return t};yt.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),f=0,c=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var d=e.length-5,g=e.charAt(d);if(g==="+"||g==="-"){var p=parseInt(e.substr(d+1,2),10),y=parseInt(e.substr(d+4,2),10);c=p*60+y,c*=6e4,g==="+"&&(c*=-1),u=!0}return e.charAt(14)==="."&&(f=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,f),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(o,a,l,f)),t};yt.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.integerToDer=function(e){var t=Er.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};yt.derToInteger=function(e){typeof e=="string"&&(e=Er.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};yt.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Er.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=yt.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var f=e.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var SV=/[^\\u0000-\\u00ff]/;yt.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case yt.Class.UNIVERSAL:n+="Universal:";break;case yt.Class.APPLICATION:n+="Application:";break;case yt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case yt.Class.PRIVATE:n+="Private:";break}if(e.tagClass===yt.Class.UNIVERSAL)switch(n+=e.type,e.type){case yt.Type.NONE:n+=" (None)";break;case yt.Type.BOOLEAN:n+=" (Boolean)";break;case yt.Type.INTEGER:n+=" (Integer)";break;case yt.Type.BITSTRING:n+=" (Bit string)";break;case yt.Type.OCTETSTRING:n+=" (Octet string)";break;case yt.Type.NULL:n+=" (Null)";break;case yt.Type.OID:n+=" (Object Identifier)";break;case yt.Type.ODESC:n+=" (Object Descriptor)";break;case yt.Type.EXTERNAL:n+=" (External or Instance of)";break;case yt.Type.REAL:n+=" (Real)";break;case yt.Type.ENUMERATED:n+=" (Enumerated)";break;case yt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case yt.Type.UTF8:n+=" (UTF8)";break;case yt.Type.ROID:n+=" (Relative Object Identifier)";break;case yt.Type.SEQUENCE:n+=" (Sequence)";break;case yt.Type.SET:n+=" (Set)";break;case yt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case yt.Type.IA5String:n+=" (IA5String (ASCII))";break;case yt.Type.UTCTIME:n+=" (UTC time)";break;case yt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case yt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,l+=yt.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===yt.Type.OID){var f=yt.derToOid(e.value);n+=f,Er.pki&&Er.pki.oids&&f in Er.pki.oids&&(n+=" ("+Er.pki.oids[f]+") ")}if(e.type===yt.Type.INTEGER)try{n+=yt.derToInteger(e.value)}catch{n+="0x"+Er.util.bytesToHex(e.value)}else if(e.type===yt.Type.BITSTRING){if(e.value.length>1?n+="0x"+Er.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var c=e.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(e.type===yt.Type.OCTETSTRING)SV.test(e.value)||(n+="("+e.value+") "),n+="0x"+Er.util.bytesToHex(e.value);else if(e.type===yt.Type.UTF8)try{n+=Er.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+Er.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===yt.Type.PRINTABLESTRING||e.type===yt.Type.IA5String?n+=e.value:SV.test(e.value)?n+="0x"+Er.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ya=ae((tTe,IV)=>{var Oy=_0();IV.exports=Oy.md=Oy.md||{};Oy.md.algorithms=Oy.md.algorithms||{}});var x2=ae((rTe,AV)=>{var hf=_0();Ya();W0();var Roe=AV.exports=hf.hmac=hf.hmac||{};Roe.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in hf.md.algorithms)t=hf.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=hf.util.createBuffer(a);else if(hf.util.isArray(a)){var l=a;a=hf.util.createBuffer();for(var f=0;f<l.length;++f)a.putByte(l[f])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=hf.util.createBuffer(),n=hf.util.createBuffer(),c=a.length();for(var f=0;f<c;++f){var l=a.at(f);r.putByte(54^l),n.putByte(92^l)}if(c<t.blockLength)for(var l=t.blockLength-c,f=0;f<l;++f)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var My=ae((nTe,NV)=>{var Xa=_0();Ya();W0();var RV=NV.exports=Xa.md5=Xa.md5||{};Xa.md.md5=Xa.md.algorithms.md5=RV;RV.create=function(){kV||koe();var e=null,t=Xa.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Xa.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Xa.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),PV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Xa.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(gP.substr(0,n.blockLength-a));for(var l,f=0,c=n.fullMessageLength.length-1;c>=0;--c)l=n.fullMessageLength[c]*8+f,f=l/4294967296>>>0,i.putInt32Le(l>>>0);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};PV(u,r,i);var d=Xa.util.createBuffer();return d.putInt32Le(u.h0),d.putInt32Le(u.h1),d.putInt32Le(u.h2),d.putInt32Le(u.h3),d},n};var gP=null,Fy=null,r6=null,_2=null,kV=!1;function koe(){gP="\x80",gP+=Xa.util.fillString("\0",64),Fy=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],r6=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],_2=new Array(64);for(var e=0;e<64;++e)_2[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);kV=!0}s(koe,"_init");function PV(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,u=0;u<16;++u)t[u]=r.getInt32Le(),f=l^o&(a^l),n=i+f+_2[u]+t[u],c=r6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<32;++u)f=a^l&(o^a),n=i+f+_2[u]+t[Fy[u]],c=r6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<48;++u)f=o^a^l,n=i+f+_2[u]+t[Fy[u]],c=r6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<64;++u)f=a^(o|~l),n=i+f+_2[u]+t[Fy[u]],c=r6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,d-=64}}s(PV,"_update")});var wd=ae((sTe,LV)=>{var qy=_0();W0();var DV=LV.exports=qy.pem=qy.pem||{};DV.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Uy(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Uy(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Uy(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Uy(e.headers[i]);return e.procType&&(r+=`\r
`),r+=qy.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};DV.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:qy.util.decode64(o[3])};if(t.push(l),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),d=c+1;d<f.length;++d){var g=f[d];if(!/\s/.test(g[0]))break;u+=g,c=d}if(o=u.match(n),o){for(var p={name:o[1],values:[]},y=o[2].split(","),_=0;_<y.length;++_)p.values.push(Noe(y[_]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=y[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:y[0],parameters:y[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:y[0],type:y[1]}}}++c}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Uy(e){for(var t=e.name+": ",r=[],n=s(function(f,c){return" "+c},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}s(Uy,"foldHeader");function Noe(e){return e.replace(/^\s+/,"")}s(Noe,"ltrim")});var n6=ae((aTe,OV)=>{var kr=_0();ky();cP();W0();OV.exports=kr.des=kr.des||{};kr.des.startEncrypting=function(e,t,r,n){var i=jy({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};kr.des.createEncryptionCipher=function(e,t){return jy({key:e,output:null,decrypt:!1,mode:t})};kr.des.startDecrypting=function(e,t,r,n){var i=jy({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};kr.des.createDecryptionCipher=function(e,t){return jy({key:e,output:null,decrypt:!0,mode:t})};kr.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return BV(r._keys,n,i,!1)},decrypt:function(n,i){return BV(r._keys,n,i,!0)}}}),r._init=!1};kr.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=kr.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=joe(t),this._init=!0}};Ja("DES-ECB",kr.cipher.modes.ecb);Ja("DES-CBC",kr.cipher.modes.cbc);Ja("DES-CFB",kr.cipher.modes.cfb);Ja("DES-OFB",kr.cipher.modes.ofb);Ja("DES-CTR",kr.cipher.modes.ctr);Ja("3DES-ECB",kr.cipher.modes.ecb);Ja("3DES-CBC",kr.cipher.modes.cbc);Ja("3DES-CFB",kr.cipher.modes.cfb);Ja("3DES-OFB",kr.cipher.modes.ofb);Ja("3DES-CTR",kr.cipher.modes.ctr);function Ja(e,t){var r=s(function(){return new kr.des.Algorithm(e,t)},"factory");kr.cipher.registerAlgorithm(e,r)}s(Ja,"registerAlgorithm");var Doe=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Loe=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Boe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Ooe=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Foe=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Moe=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Uoe=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],qoe=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function joe(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],g=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,S=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,P,U=0;U<_;U++){var k=e.getInt32(),L=e.getInt32();P=(k>>>4^L)&252645135,L^=P,k^=P<<4,P=(L>>>-16^k)&65535,k^=P,L^=P<<-16,P=(k>>>2^L)&858993459,L^=P,k^=P<<2,P=(L>>>-16^k)&65535,k^=P,L^=P<<-16,P=(k>>>1^L)&1431655765,L^=P,k^=P<<1,P=(L>>>8^k)&16711935,k^=P,L^=P<<8,P=(k>>>1^L)&1431655765,L^=P,k^=P<<1,P=k<<8|L>>>20&240,k=L<<24|L<<8&16711680|L>>>8&65280|L>>>24&240,L=P;for(var Q=0;Q<E.length;++Q){E[Q]?(k=k<<2|k>>>26,L=L<<2|L>>>26):(k=k<<1|k>>>27,L=L<<1|L>>>27),k&=-15,L&=-15;var te=t[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|o[k>>>12&15]|a[k>>>8&15]|l[k>>>4&15],Ce=f[L>>>28]|c[L>>>24&15]|u[L>>>20&15]|d[L>>>16&15]|g[L>>>12&15]|p[L>>>8&15]|y[L>>>4&15];P=(Ce>>>16^te)&65535,S[A++]=te^P,S[A++]=Ce^P<<16}}return S}s(joe,"_createKeys");function BV(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],f=t[1];a=(l>>>4^f)&252645135,f^=a,l^=a<<4,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,l=l<<1|l>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],d=o[c+2],g=o[c];g!=u;g+=d){var p=f^e[g],y=(f>>>4|f<<28)^e[g+1];a=l,l=f,f=a^(Loe[p>>>24&63]|Ooe[p>>>16&63]|Moe[p>>>8&63]|qoe[p&63]|Doe[y>>>24&63]|Boe[y>>>16&63]|Foe[y>>>8&63]|Uoe[y&63])}a=l,l=f,f=a}l=l>>>1|l<<31,f=f>>>1|f<<31,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(l>>>4^f)&252645135,f^=a,l^=a<<4,r[0]=l,r[1]=f}s(BV,"_updateBlock");function jy(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=kr.cipher.createDecipher(r,e.key):n=kr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof kr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(jy,"_createCipher")});var $y=ae((fTe,FV)=>{var ji=_0();x2();Ya();W0();var $oe=ji.pkcs5=ji.pkcs5||{},mf;ji.util.isNodejs&&!ji.options.usePureJavaScript&&(mf=require("crypto"));FV.exports=ji.pbkdf2=$oe.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),ji.util.isNodejs&&!ji.options.usePureJavaScript&&mf.pbkdf2&&(i===null||typeof i!="object")&&(mf.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?mf.pbkdf2Sync.length===4?mf.pbkdf2(e,t,r,n,function(P,U){if(P)return o(P);o(null,U.toString("binary"))}):mf.pbkdf2(e,t,r,n,i,function(P,U){if(P)return o(P);o(null,U.toString("binary"))}):mf.pbkdf2Sync.length===4?mf.pbkdf2Sync(e,t,r,n).toString("binary"):mf.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in ji.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=ji.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(o)return o(l);throw l}var f=Math.ceil(n/a),c=n-(f-1)*a,u=ji.hmac.create();u.start(i,e);var d="",g,p,y;if(!o){for(var _=1;_<=f;++_){u.start(null,null),u.update(t),u.update(ji.util.int32ToBytes(_)),g=y=u.digest().getBytes();for(var S=2;S<=r;++S)u.start(null,null),u.update(y),p=u.digest().getBytes(),g=ji.util.xorBytes(g,p,a),y=p;d+=_<f?g:g.substr(0,c)}return d}var _=1,S;function E(){if(_>f)return o(null,d);u.start(null,null),u.update(t),u.update(ji.util.int32ToBytes(_)),g=y=u.digest().getBytes(),S=2,A()}s(E,"outer");function A(){if(S<=r)return u.start(null,null),u.update(y),p=u.digest().getBytes(),g=ji.util.xorBytes(g,p,a),y=p,++S,ji.util.setImmediate(A);d+=_<f?g:g.substr(0,c),++_,E()}s(A,"inner"),E()}});var yP=ae((uTe,$V)=>{var Qa=_0();Ya();W0();var UV=$V.exports=Qa.sha256=Qa.sha256||{};Qa.md.sha256=Qa.md.algorithms.sha256=UV;UV.create=function(){qV||Hoe();var e=null,t=Qa.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Qa.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Qa.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),MV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Qa.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(pP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};MV(d,r,i);var g=Qa.util.createBuffer();return g.putInt32(d.h0),g.putInt32(d.h1),g.putInt32(d.h2),g.putInt32(d.h3),g.putInt32(d.h4),g.putInt32(d.h5),g.putInt32(d.h6),g.putInt32(d.h7),g},n};var pP=null,qV=!1,jV=null;function Hoe(){pP="\x80",pP+=Qa.util.fillString("\0",64),jV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],qV=!0}s(Hoe,"_init");function MV(e,t,r){for(var n,i,o,a,l,f,c,u,d,g,p,y,_,S,E,A=r.length();A>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=t[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,d=e.h1,g=e.h2,p=e.h3,y=e.h4,_=e.h5,S=e.h6,E=e.h7,c=0;c<64;++c)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),l=S^y&(_^S),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&d|g&(u^d),n=E+a+l+jV[c]+t[c],i=o+f,E=S,S=_,_=y,y=p+n>>>0,p=g,g=d,d=u,u=n+i>>>0;e.h0=e.h0+u|0,e.h1=e.h1+d|0,e.h2=e.h2+g|0,e.h3=e.h3+p|0,e.h4=e.h4+y|0,e.h5=e.h5+_|0,e.h6=e.h6+S|0,e.h7=e.h7+E|0,A-=64}}s(MV,"_update")});var vP=ae((hTe,HV)=>{var Za=_0();W0();var Hy=null;Za.util.isNodejs&&!Za.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Hy=require("crypto"));var Voe=HV.exports=Za.prng=Za.prng||{};Voe.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(c,u){if(!u)return t.generateSync(c);var d=t.plugin.cipher,g=t.plugin.increment,p=t.plugin.formatKey,y=t.plugin.formatSeed,_=Za.util.createBuffer();t.key=null,S();function S(E){if(E)return u(E);if(_.length()>=c)return u(null,_.getBytes(c));if(t.generated>1048575&&(t.key=null),t.key===null)return Za.util.nextTick(function(){o(S)});var A=d(t.key,t.seed);t.generated+=A.length,_.putBytes(A),t.key=p(d(t.key,g(t.seed))),t.seed=y(d(t.key,t.seed)),Za.util.setImmediate(S)}s(S,"generate")},t.generateSync=function(c){var u=t.plugin.cipher,d=t.plugin.increment,g=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var y=Za.util.createBuffer();y.length()<c;){t.generated>1048575&&(t.key=null),t.key===null&&a();var _=u(t.key,t.seed);t.generated+=_.length,y.putBytes(_),t.key=g(u(t.key,d(t.seed))),t.seed=p(u(t.key,t.seed))}return y.getBytes(c)};function o(c){if(t.pools[0].messageLength>=32)return l(),c();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(d,g){if(d)return c(d);t.collect(g),l(),c()})}s(o,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var c=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(c)),l()}s(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var c=t.plugin.md.create();c.update(t.keyBytes);for(var u=1,d=0;d<32;++d)t.reseeds%u===0&&(c.update(t.pools[d].digest().getBytes()),t.pools[d].start()),u=u<<1;t.keyBytes=c.digest().getBytes(),c.start(),c.update(t.keyBytes);var g=c.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(g),t.generated=0}s(l,"_seed");function f(c){var u=null,d=Za.util.globalScope,g=d.crypto||d.msCrypto;g&&g.getRandomValues&&(u=s(function(k){return g.getRandomValues(k)},"getRandomValues"));var p=Za.util.createBuffer();if(u)for(;p.length()<c;){var y=Math.max(1,Math.min(c-p.length(),65536)/4),_=new Uint32Array(Math.floor(y));try{u(_);for(var S=0;S<_.length;++S)p.putInt32(_[S])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(p.length()<c)for(var E,A,P,U=Math.floor(Math.random()*65536);p.length()<c;){A=16807*(U&65535),E=16807*(U>>16),A+=(E&32767)<<16,A+=E>>15,A=(A&2147483647)+(A>>31),U=A&4294967295;for(var S=0;S<3;++S)P=U>>>(S<<3),P^=Math.floor(Math.random()*256),p.putByte(P&255)}return p.getBytes(c)}return s(f,"defaultSeedFile"),Hy?(t.seedFile=function(c,u){Hy.randomBytes(c,function(d,g){if(d)return u(d);u(null,g.toString())})},t.seedFileSync=function(c){return Hy.randomBytes(c).toString()}):(t.seedFile=function(c,u){try{u(null,f(c))}catch(d){u(d)}},t.seedFileSync=f),t.collect=function(c){for(var u=c.length,d=0;d<u;++d)t.pools[t.pool].update(c.substr(d,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(c,u){for(var d="",g=0;g<u;g+=8)d+=String.fromCharCode(c>>g&255);t.collect(d)},t.registerWorker=function(c){if(c===self)t.seedFile=function(d,g){function p(y){var _=y.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",p),g(_.forge.prng.err,_.forge.prng.bytes))}s(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:d}}})};else{var u=s(function(d){var g=d.data;g.forge&&g.forge.prng&&t.seedFile(g.forge.prng.needed,function(p,y){c.postMessage({forge:{prng:{err:p,bytes:y}}})})},"listener");c.addEventListener("message",u)}},t}});var vo=ae((gTe,xP)=>{var Fn=_0();Qc();yP();vP();W0();(function(){if(Fn.random&&Fn.random.getBytes){xP.exports=Fn.random;return}(function(e){var t={},r=new Array(4),n=Fn.util.createBuffer();t.formatKey=function(d){var g=Fn.util.createBuffer(d);return d=new Array(4),d[0]=g.getInt32(),d[1]=g.getInt32(),d[2]=g.getInt32(),d[3]=g.getInt32(),Fn.aes._expandKey(d,!1)},t.formatSeed=function(d){var g=Fn.util.createBuffer(d);return d=new Array(4),d[0]=g.getInt32(),d[1]=g.getInt32(),d[2]=g.getInt32(),d[3]=g.getInt32(),d},t.cipher=function(d,g){return Fn.aes._updateBlock(d,g,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(d){return++d[3],d},t.md=Fn.md.sha256;function i(){var d=Fn.prng.create(t);return d.getBytes=function(g,p){return d.generate(g,p)},d.getBytesSync=function(g){return d.generate(g)},d}s(i,"spawnPrng");var o=i(),a=null,l=Fn.util.globalScope,f=l.crypto||l.msCrypto;if(f&&f.getRandomValues&&(a=s(function(d){return f.getRandomValues(d)},"getRandomValues")),Fn.options.usePureJavaScript||!Fn.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}e&&(e().mousemove(function(d){o.collectInt(d.clientX,16),o.collectInt(d.clientY,16)}),e().keypress(function(d){o.collectInt(d.charCode,8)}))}if(!Fn.random)Fn.random=o;else for(var u in o)Fn.random[u]=o[u];Fn.random.createInstance=i,xP.exports=Fn.random})(typeof jQuery<"u"?jQuery:null)})()});var bP=ae((yTe,KV)=>{var ds=_0();W0();var _P=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],VV=[1,2,3,5],zoe=s(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Koe=s(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");KV.exports=ds.rc2=ds.rc2||{};ds.rc2.expandKey=function(e,t){typeof e=="string"&&(e=ds.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(_P[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-o,_P[r.at(128-o)&a]),l=127-o;l>=0;l--)r.setAt(l,_P[r.at(l+1)^r.at(l+o)]);return r};var zV=s(function(e,t,r){var n=!1,i=null,o=null,a=null,l,f,c,u,d=[];for(e=ds.rc2.expandKey(e,t),c=0;c<64;c++)d.push(e.getInt16Le());r?(l=s(function(y){for(c=0;c<4;c++)y[c]+=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),y[c]=zoe(y[c],VV[c]),u++},"mixRound"),f=s(function(y){for(c=0;c<4;c++)y[c]+=d[y[(c+3)%4]&63]},"mashRound")):(l=s(function(y){for(c=3;c>=0;c--)y[c]=Koe(y[c],VV[c]),y[c]-=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),u--},"mixRound"),f=s(function(y){for(c=3;c>=0;c--)y[c]-=d[y[(c+3)%4]&63]},"mashRound"));var g=s(function(y){var _=[];for(c=0;c<4;c++){var S=i.getInt16Le();a!==null&&(r?S^=a.getInt16Le():a.putInt16Le(S)),_.push(S&65535)}u=r?0:63;for(var E=0;E<y.length;E++)for(var A=0;A<y[E][0];A++)y[E][1](_);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(_[c]):_[c]^=a.getInt16Le()),o.putInt16Le(_[c])},"runPlan"),p=null;return p={start:function(y,_){y&&typeof y=="string"&&(y=ds.util.createBuffer(y)),n=!1,i=ds.util.createBuffer(),o=_||new ds.util.createBuffer,a=y,p.output=o},update:function(y){for(n||i.putBuffer(y);i.length()>=8;)g([[5,l],[1,f],[6,l],[1,f],[5,l]])},finish:function(y){var _=!0;if(r)if(y)_=y(8,i,!r);else{var S=i.length()===8?8:8-i.length();i.fillWithByte(S,S)}if(_&&(n=!0,p.update()),!r&&(_=i.length()===0,_))if(y)_=y(8,o,!r);else{var E=o.length(),A=o.at(E-1);A>E?_=!1:o.truncate(A)}return _}},p},"createCipher");ds.rc2.startEncrypting=function(e,t,r){var n=ds.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};ds.rc2.createEncryptionCipher=function(e,t){return zV(e,t,!0)};ds.rc2.startDecrypting=function(e,t,r){var n=ds.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};ds.rc2.createDecryptionCipher=function(e,t){return zV(e,t,!1)}});var s6=ae((xTe,ez)=>{var CP=_0();ez.exports=CP.jsbn=CP.jsbn||{};var gf,Goe=0xdeadbeefcafe,GV=(Goe&16777215)==15715070;function et(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}s(et,"BigInteger");CP.jsbn.BigInteger=et;function Y0(){return new et(null)}s(Y0,"nbi");function Woe(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}s(Woe,"am1");function Yoe(e,t,r,n,i,o){for(var a=t&32767,l=t>>15;--o>=0;){var f=this.data[e]&32767,c=this.data[e++]>>15,u=l*f+c*a;f=a*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+l*c+(i>>>30),r.data[n++]=f&1073741823}return i}s(Yoe,"am2");function WV(e,t,r,n,i,o){for(var a=t&16383,l=t>>14;--o>=0;){var f=this.data[e]&16383,c=this.data[e++]>>14,u=l*f+c*a;f=a*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+l*c,r.data[n++]=f&268435455}return i}s(WV,"am3");typeof navigator>"u"?(et.prototype.am=WV,gf=28):GV&&navigator.appName=="Microsoft Internet Explorer"?(et.prototype.am=Yoe,gf=30):GV&&navigator.appName!="Netscape"?(et.prototype.am=Woe,gf=26):(et.prototype.am=WV,gf=28);et.prototype.DB=gf;et.prototype.DM=(1<<gf)-1;et.prototype.DV=1<<gf;var TP=52;et.prototype.FV=Math.pow(2,TP);et.prototype.F1=TP-gf;et.prototype.F2=2*gf-TP;var Xoe="0123456789abcdefghijklmnopqrstuvwxyz",Vy=new Array,b2,xo;b2=48;for(xo=0;xo<=9;++xo)Vy[b2++]=xo;b2=97;for(xo=10;xo<36;++xo)Vy[b2++]=xo;b2=65;for(xo=10;xo<36;++xo)Vy[b2++]=xo;function YV(e){return Xoe.charAt(e)}s(YV,"int2char");function XV(e,t){var r=Vy[e.charCodeAt(t)];return r==null?-1:r}s(XV,"intAt");function Joe(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}s(Joe,"bnpCopyTo");function Qoe(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}s(Qoe,"bnpFromInt");function e1(e){var t=Y0();return t.fromInt(e),t}s(e1,"nbv");function Zoe(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:XV(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&e[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&et.ZERO.subTo(this,this)}s(Zoe,"bnpFromString");function eae(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}s(eae,"bnpClamp");function tae(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,o=YV(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(o+=YV(n));return i?o:"0"}s(tae,"bnToString");function rae(){var e=Y0();return et.ZERO.subTo(this,e),e}s(rae,"bnNegate");function nae(){return this.s<0?this.negate():this}s(nae,"bnAbs");function iae(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}s(iae,"bnCompareTo");function zy(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}s(zy,"nbits");function sae(){return this.t<=0?0:this.DB*(this.t-1)+zy(this.data[this.t-1]^this.s&this.DM)}s(sae,"bnBitLength");function oae(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}s(oae,"bnpDLShiftTo");function aae(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}s(aae,"bnpDRShiftTo");function lae(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+o+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=o-1;l>=0;--l)t.data[l]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}s(lae,"bnpLShiftTo");function fae(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}s(fae,"bnpRShiftTo");function cae(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}s(cae,"bnpSubTo");function uae(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&et.ZERO.subTo(t,t)}s(uae,"bnpMultiplyTo");function dae(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}s(dae,"bnpSquareTo");function hae(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Y0());var o=Y0(),a=this.s,l=e.s,f=this.DB-zy(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var d=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),g=this.FV/d,p=(1<<this.F1)/d,y=1<<this.F2,_=r.t,S=_-c,E=t==null?Y0():t;for(o.dlShiftTo(S,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),et.ONE.dlShiftTo(c,E),E.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--S>=0;){var A=r.data[--_]==u?this.DM:Math.floor(r.data[_]*g+(r.data[_-1]+y)*p);if((r.data[_]+=o.am(0,A,r,S,0,c))<A)for(o.dlShiftTo(S,E),r.subTo(E,r);r.data[_]<--A;)r.subTo(E,r)}t!=null&&(r.drShiftTo(c,t),a!=l&&et.ZERO.subTo(t,t)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&et.ZERO.subTo(r,r)}}}s(hae,"bnpDivRemTo");function mae(e){var t=Y0();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(et.ZERO)>0&&e.subTo(t,t),t}s(mae,"bnMod");function Id(e){this.m=e}s(Id,"Classic");function gae(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}s(gae,"cConvert");function pae(e){return e}s(pae,"cRevert");function yae(e){e.divRemTo(this.m,null,e)}s(yae,"cReduce");function vae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(vae,"cMulTo");function xae(e,t){e.squareTo(t),this.reduce(t)}s(xae,"cSqrTo");Id.prototype.convert=gae;Id.prototype.revert=pae;Id.prototype.reduce=yae;Id.prototype.mulTo=vae;Id.prototype.sqrTo=xae;function _ae(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}s(_ae,"bnpInvDigit");function Ad(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}s(Ad,"Montgomery");function bae(e){var t=Y0();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(et.ZERO)>0&&this.m.subTo(t,t),t}s(bae,"montConvert");function Cae(e){var t=Y0();return e.copyTo(t),this.reduce(t),t}s(Cae,"montRevert");function Tae(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}s(Tae,"montReduce");function Eae(e,t){e.squareTo(t),this.reduce(t)}s(Eae,"montSqrTo");function Sae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(Sae,"montMulTo");Ad.prototype.convert=bae;Ad.prototype.revert=Cae;Ad.prototype.reduce=Tae;Ad.prototype.mulTo=Sae;Ad.prototype.sqrTo=Eae;function wae(){return(this.t>0?this.data[0]&1:this.s)==0}s(wae,"bnpIsEven");function Iae(e,t){if(e>4294967295||e<1)return et.ONE;var r=Y0(),n=Y0(),i=t.convert(this),o=zy(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}s(Iae,"bnpExp");function Aae(e,t){var r;return e<256||t.isEven()?r=new Id(t):r=new Ad(t),this.exp(e,r)}s(Aae,"bnModPowInt");et.prototype.copyTo=Joe;et.prototype.fromInt=Qoe;et.prototype.fromString=Zoe;et.prototype.clamp=eae;et.prototype.dlShiftTo=oae;et.prototype.drShiftTo=aae;et.prototype.lShiftTo=lae;et.prototype.rShiftTo=fae;et.prototype.subTo=cae;et.prototype.multiplyTo=uae;et.prototype.squareTo=dae;et.prototype.divRemTo=hae;et.prototype.invDigit=_ae;et.prototype.isEven=wae;et.prototype.exp=Iae;et.prototype.toString=tae;et.prototype.negate=rae;et.prototype.abs=nae;et.prototype.compareTo=iae;et.prototype.bitLength=sae;et.prototype.mod=mae;et.prototype.modPowInt=Aae;et.ZERO=e1(0);et.ONE=e1(1);function Pae(){var e=Y0();return this.copyTo(e),e}s(Pae,"bnClone");function Rae(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(Rae,"bnIntValue");function kae(){return this.t==0?this.s:this.data[0]<<24>>24}s(kae,"bnByteValue");function Nae(){return this.t==0?this.s:this.data[0]<<16>>16}s(Nae,"bnShortValue");function Dae(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}s(Dae,"bnpChunkSize");function Lae(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(Lae,"bnSigNum");function Bae(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=e1(r),i=Y0(),o=Y0(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}s(Bae,"bnpToRadix");function Oae(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,l=0;l<e.length;++l){var f=XV(e,l);if(f<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&et.ZERO.subTo(this,this)}s(Oae,"bnpFromRadix");function Fae(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(et.ONE.shiftLeft(e-1),EP,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(et.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}s(Fae,"bnpFromNumber");function Mae(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}s(Mae,"bnToByteArray");function Uae(e){return this.compareTo(e)==0}s(Uae,"bnEquals");function qae(e){return this.compareTo(e)<0?this:e}s(qae,"bnMin");function jae(e){return this.compareTo(e)>0?this:e}s(jae,"bnMax");function $ae(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}s($ae,"bnpBitwiseTo");function Hae(e,t){return e&t}s(Hae,"op_and");function Vae(e){var t=Y0();return this.bitwiseTo(e,Hae,t),t}s(Vae,"bnAnd");function EP(e,t){return e|t}s(EP,"op_or");function zae(e){var t=Y0();return this.bitwiseTo(e,EP,t),t}s(zae,"bnOr");function JV(e,t){return e^t}s(JV,"op_xor");function Kae(e){var t=Y0();return this.bitwiseTo(e,JV,t),t}s(Kae,"bnXor");function QV(e,t){return e&~t}s(QV,"op_andnot");function Gae(e){var t=Y0();return this.bitwiseTo(e,QV,t),t}s(Gae,"bnAndNot");function Wae(){for(var e=Y0(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}s(Wae,"bnNot");function Yae(e){var t=Y0();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}s(Yae,"bnShiftLeft");function Xae(e){var t=Y0();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}s(Xae,"bnShiftRight");function Jae(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}s(Jae,"lbit");function Qae(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Jae(this.data[e]);return this.s<0?this.t*this.DB:-1}s(Qae,"bnGetLowestSetBit");function Zae(e){for(var t=0;e!=0;)e&=e-1,++t;return t}s(Zae,"cbit");function ele(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Zae(this.data[r]^t);return e}s(ele,"bnBitCount");function tle(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}s(tle,"bnTestBit");function rle(e,t){var r=et.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}s(rle,"bnpChangeBit");function nle(e){return this.changeBit(e,EP)}s(nle,"bnSetBit");function ile(e){return this.changeBit(e,QV)}s(ile,"bnClearBit");function sle(e){return this.changeBit(e,JV)}s(sle,"bnFlipBit");function ole(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}s(ole,"bnpAddTo");function ale(e){var t=Y0();return this.addTo(e,t),t}s(ale,"bnAdd");function lle(e){var t=Y0();return this.subTo(e,t),t}s(lle,"bnSubtract");function fle(e){var t=Y0();return this.multiplyTo(e,t),t}s(fle,"bnMultiply");function cle(e){var t=Y0();return this.divRemTo(e,t,null),t}s(cle,"bnDivide");function ule(e){var t=Y0();return this.divRemTo(e,null,t),t}s(ule,"bnRemainder");function dle(e){var t=Y0(),r=Y0();return this.divRemTo(e,t,r),new Array(t,r)}s(dle,"bnDivideAndRemainder");function hle(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}s(hle,"bnpDMultiply");function mle(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}s(mle,"bnpDAddOffset");function i6(){}s(i6,"NullExp");function ZV(e){return e}s(ZV,"nNop");function gle(e,t,r){e.multiplyTo(t,r)}s(gle,"nMulTo");function ple(e,t){e.squareTo(t)}s(ple,"nSqrTo");i6.prototype.convert=ZV;i6.prototype.revert=ZV;i6.prototype.mulTo=gle;i6.prototype.sqrTo=ple;function yle(e){return this.exp(e,new i6)}s(yle,"bnPow");function vle(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}s(vle,"bnpMultiplyLowerTo");function xle(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}s(xle,"bnpMultiplyUpperTo");function C2(e){this.r2=Y0(),this.q3=Y0(),et.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}s(C2,"Barrett");function _le(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Y0();return e.copyTo(t),this.reduce(t),t}s(_le,"barrettConvert");function ble(e){return e}s(ble,"barrettRevert");function Cle(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}s(Cle,"barrettReduce");function Tle(e,t){e.squareTo(t),this.reduce(t)}s(Tle,"barrettSqrTo");function Ele(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(Ele,"barrettMulTo");C2.prototype.convert=_le;C2.prototype.revert=ble;C2.prototype.reduce=Cle;C2.prototype.mulTo=Ele;C2.prototype.sqrTo=Tle;function Sle(e,t){var r=e.bitLength(),n,i=e1(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new Id(t):t.isEven()?o=new C2(t):o=new Ad(t);var a=new Array,l=3,f=n-1,c=(1<<n)-1;if(a[1]=o.convert(this),n>1){var u=Y0();for(o.sqrTo(a[1],u);l<=c;)a[l]=Y0(),o.mulTo(u,a[l-2],a[l]),l+=2}var d=e.t-1,g,p=!0,y=Y0(),_;for(r=zy(e.data[d])-1;d>=0;){for(r>=f?g=e.data[d]>>r-f&c:(g=(e.data[d]&(1<<r+1)-1)<<f-r,d>0&&(g|=e.data[d-1]>>this.DB+r-f)),l=n;!(g&1);)g>>=1,--l;if((r-=l)<0&&(r+=this.DB,--d),p)a[g].copyTo(i),p=!1;else{for(;l>1;)o.sqrTo(i,y),o.sqrTo(y,i),l-=2;l>0?o.sqrTo(i,y):(_=i,i=y,y=_),o.mulTo(y,a[g],i)}for(;d>=0&&!(e.data[d]&1<<r);)o.sqrTo(i,y),_=i,i=y,y=_,--r<0&&(r=this.DB-1,--d)}return o.revert(i)}s(Sle,"bnModPow");function wle(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}s(wle,"bnGCD");function Ile(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}s(Ile,"bnpModInt");function Ale(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return et.ZERO;for(var r=e.clone(),n=this.clone(),i=e1(1),o=e1(0),a=e1(0),l=e1(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(l,o)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(o,l))}if(n.compareTo(et.ONE)!=0)return et.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}s(Ale,"bnModInverse");var na=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ple=(1<<26)/na[na.length-1];function Rle(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=na[na.length-1]){for(t=0;t<na.length;++t)if(r.data[0]==na[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<na.length;){for(var n=na[t],i=t+1;i<na.length&&n<Ple;)n*=na[i++];for(n=r.modInt(n);t<i;)if(n%na[t++]==0)return!1}return r.millerRabin(e)}s(Rle,"bnIsProbablePrime");function kle(e){var t=this.subtract(et.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Nle(),o,a=0;a<e;++a){do o=new et(this.bitLength(),i);while(o.compareTo(et.ONE)<=0||o.compareTo(t)>=0);var l=o.modPow(n,this);if(l.compareTo(et.ONE)!=0&&l.compareTo(t)!=0){for(var f=1;f++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(et.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}s(kle,"bnpMillerRabin");function Nle(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}s(Nle,"bnGetPrng");et.prototype.chunkSize=Dae;et.prototype.toRadix=Bae;et.prototype.fromRadix=Oae;et.prototype.fromNumber=Fae;et.prototype.bitwiseTo=$ae;et.prototype.changeBit=rle;et.prototype.addTo=ole;et.prototype.dMultiply=hle;et.prototype.dAddOffset=mle;et.prototype.multiplyLowerTo=vle;et.prototype.multiplyUpperTo=xle;et.prototype.modInt=Ile;et.prototype.millerRabin=kle;et.prototype.clone=Pae;et.prototype.intValue=Rae;et.prototype.byteValue=kae;et.prototype.shortValue=Nae;et.prototype.signum=Lae;et.prototype.toByteArray=Mae;et.prototype.equals=Uae;et.prototype.min=qae;et.prototype.max=jae;et.prototype.and=Vae;et.prototype.or=zae;et.prototype.xor=Kae;et.prototype.andNot=Gae;et.prototype.not=Wae;et.prototype.shiftLeft=Yae;et.prototype.shiftRight=Xae;et.prototype.getLowestSetBit=Qae;et.prototype.bitCount=ele;et.prototype.testBit=tle;et.prototype.setBit=nle;et.prototype.clearBit=ile;et.prototype.flipBit=sle;et.prototype.add=ale;et.prototype.subtract=lle;et.prototype.multiply=fle;et.prototype.divide=cle;et.prototype.remainder=ule;et.prototype.divideAndRemainder=dle;et.prototype.modPow=Sle;et.prototype.modInverse=Ale;et.prototype.pow=yle;et.prototype.gcd=wle;et.prototype.isProbablePrime=Rle});var T2=ae((bTe,iz)=>{var el=_0();Ya();W0();var rz=iz.exports=el.sha1=el.sha1||{};el.md.sha1=el.md.algorithms.sha1=rz;rz.create=function(){nz||Dle();var e=null,t=el.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=el.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=el.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),tz(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=el.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(SP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};tz(d,r,i);var g=el.util.createBuffer();return g.putInt32(d.h0),g.putInt32(d.h1),g.putInt32(d.h2),g.putInt32(d.h3),g.putInt32(d.h4),g},n};var SP=null,nz=!1;function Dle(){SP="\x80",SP+=el.util.fillString("\0",64),nz=!0}s(Dle,"_init");function tz(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,f=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o&a|l&(o^a),n=(i<<5|i>>>27)+c+f+2400959708+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+3395469782+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+f|0,d-=64}}s(tz,"_update")});var wP=ae((TTe,oz)=>{var tl=_0();W0();vo();T2();var sz=oz.exports=tl.pkcs1=tl.pkcs1||{};sz.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=tl.md.sha1.create(),a||(a=o);var l=Math.ceil(e.n.bitLength()/8),f=l-2*o.digestLength-2;if(t.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=t.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),d="",g=f-t.length,p=0;p<g;p++)d+="\0";var y=u.getBytes()+d+""+t;if(!i)i=tl.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var _=Ky(i,l-o.digestLength-1,a),S=tl.util.xorBytes(y,_,y.length),E=Ky(S,o.digestLength,a),A=tl.util.xorBytes(i,E,i.length);return"\0"+A+S};sz.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=a,S}if(i===void 0?i=tl.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),f=t.charAt(0),c=t.substring(1,i.digestLength+1),u=t.substring(1+i.digestLength),d=Ky(u,i.digestLength,o),g=tl.util.xorBytes(c,d,c.length),p=Ky(g,a-i.digestLength-1,o),y=tl.util.xorBytes(u,p,u.length),_=y.substring(0,i.digestLength),S=f!=="\0",E=0;E<i.digestLength;++E)S|=l.charAt(E)!==_.charAt(E);for(var A=1,P=i.digestLength,U=i.digestLength;U<y.length;U++){var k=y.charCodeAt(U),L=k&1^1,Q=A?65534:0;S|=k&Q,A=A&L,P+=A}if(S||y.charCodeAt(P)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(P+1)};function Ky(e,t,r){r||(r=tl.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}s(Ky,"rsa_mgf1")});var AP=ae((STe,IP)=>{var t1=_0();W0();s6();vo();(function(){if(t1.prime){IP.exports=t1.prime;return}var e=IP.exports=t1.prime=t1.prime||{},t=t1.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=s(function(d,g){return d|g},"op_or");e.generateProbablePrime=function(d,g,p){typeof g=="function"&&(p=g,g={}),g=g||{};var y=g.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var _=g.prng||t1.random,S={nextBytes:function(E){for(var A=_.getBytesSync(E.length),P=0;P<E.length;++P)E[P]=A.charCodeAt(P)}};if(y.name==="PRIMEINC")return o(d,S,y.options,p);throw new Error("Invalid prime generation algorithm: "+y.name)};function o(d,g,p,y){return"workers"in p?f(d,g,p,y):a(d,g,p,y)}s(o,"primeincFindPrime");function a(d,g,p,y){var _=c(d,g),S=0,E=u(_.bitLength());"millerRabinTests"in p&&(E=p.millerRabinTests);var A=10;"maxBlockTime"in p&&(A=p.maxBlockTime),l(_,d,g,S,E,A,y)}s(a,"primeincFindPrimeWithoutWorkers");function l(d,g,p,y,_,S,E){var A=+new Date;do{if(d.bitLength()>g&&(d=c(g,p)),d.isProbablePrime(_))return E(null,d);d.dAddOffset(r[y++%8],0)}while(S<0||+new Date-A<S);t1.util.setImmediate(function(){l(d,g,p,y,_,S,E)})}s(l,"_primeinc");function f(d,g,p,y){if(typeof Worker>"u")return a(d,g,p,y);var _=c(d,g),S=p.workers,E=p.workLoad||100,A=E*30/8,P=p.workerScript||"forge/prime.worker.js";if(S===-1)return t1.util.estimateCores(function(k,L){k&&(L=2),S=L-1,U()});U();function U(){S=Math.max(1,S);for(var k=[],L=0;L<S;++L)k[L]=new Worker(P);for(var Q=S,L=0;L<S;++L)k[L].addEventListener("message",Ce);var te=!1;function Ce(De){if(!te){--Q;var pe=De.data;if(pe.found){for(var Ie=0;Ie<k.length;++Ie)k[Ie].terminate();return te=!0,y(null,new t(pe.prime,16))}_.bitLength()>d&&(_=c(d,g));var ie=_.toString(16);De.target.postMessage({hex:ie,workLoad:E}),_.dAddOffset(A,0)}}s(Ce,"workerMessage")}s(U,"generate")}s(f,"primeincFindPrimeWithWorkers");function c(d,g){var p=new t(d,g),y=d-1;return p.testBit(y)||p.bitwiseTo(t.ONE.shiftLeft(y),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}s(c,"generateRandom");function u(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}s(u,"getMillerRabinTests")})()});var o6=ae((ITe,hz)=>{var qt=_0();ra();s6();Zc();wP();AP();vo();W0();typeof z0>"u"&&(z0=qt.jsbn.BigInteger);var z0,PP=qt.util.isNodejs?require("crypto"):null,Pe=qt.asn1,_o=qt.util;qt.pki=qt.pki||{};hz.exports=qt.pki.rsa=qt.rsa=qt.rsa||{};var c0=qt.pki,Lle=[6,4,2,4,2,4,6,2],Ble={name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Ole={name:"RSAPrivateKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Fle={name:"RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Mle=qt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Ule={name:"DigestInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},qle=s(function(e){var t;if(e.algorithm in c0.oids)t=c0.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=Pe.oidToDer(t).getBytes(),i=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]),o=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]);o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,n)),o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,""));var a=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),Pe.toDer(i).getBytes()},"emsaPkcs1v15encode"),uz=s(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(z0.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(z0.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new z0(qt.util.bytesToHex(qt.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(z0.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");c0.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=dz(e,t,r)):(i=qt.util.createBuffer(),i.putBytes(e));for(var a=new z0(i.toHex(),16),l=uz(a,t,n),f=l.toString(16),c=qt.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),c.getBytes()};c0.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new z0(qt.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=uz(a,t,r),f=l.toString(16),c=qt.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),n!==!1?Gy(c.getBytes(),t,r):c.getBytes()};c0.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qt.random,i={nextBytes:function(l){for(var f=n.getBytesSync(l.length),c=0;c<l.length;++c)l[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new z0(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};c0.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new z0(null);r.fromInt(30);for(var n=0,i=s(function(d,g){return d|g},"op_or"),o=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var f=e.p===null?e.pBits:e.qBits,c=f-1;e.pqState===0?(e.num=new z0(f,e.rng),e.num.testBit(c)||e.num.bitwiseTo(z0.ONE.shiftLeft(c),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime($le(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(Lle[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(z0.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-o,o=a}return e.keys!==null};c0.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qt.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(az("generateKeyPair"))return PP.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,f,c){if(l)return n(l);n(null,{privateKey:c0.privateKeyFromPem(c),publicKey:c0.publicKeyFromPem(f)})});if(lz("generateKey")&&lz("exportKey"))return _o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:cz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return _o.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var f=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(l)));n(null,{privateKey:f,publicKey:c0.setRsaPublicKey(f.n,f.e)})}});if(fz("generateKey")&&fz("exportKey")){var i=_o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:cz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var f=l.target.result,c=_o.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var d=u.target.result,g=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(d)));n(null,{privateKey:g,publicKey:c0.setRsaPublicKey(g.n,g.e)})},c.onerror=function(u){n(u)}},i.onerror=function(l){n(l)};return}}else if(az("generateKeyPairSync")){var o=PP.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c0.privateKeyFromPem(o.privateKey),publicKey:c0.publicKeyFromPem(o.publicKey)}}}var a=c0.rsa.createKeyPairGenerationState(e,t,r);if(!n)return c0.rsa.stepKeyPairGenerationState(a,0),a.keys;jle(a,r,n)};c0.setRsaPublicKey=c0.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(l,f,c){return dz(l,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(l,f){return qt.pkcs1.encode_rsa_oaep(f,l,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(l){return l}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return c0.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=Gy(c,r,!0);var u=Pe.fromDer(c,{parseAllBytes:a._parseAllDigestBytes}),d={},g=[];if(!Pe.validate(u,Ule,d,g)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=g,p}var y=Pe.derToOid(d.algorithmIdentifier);if(!(y===qt.oids.md2||y===qt.oids.md5||y===qt.oids.sha1||y===qt.oids.sha224||y===qt.oids.sha256||y===qt.oids.sha384||y===qt.oids.sha512||y===qt.oids["sha512-224"]||y===qt.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=y,p}if((y===qt.oids.md2||y===qt.oids.md5)&&!("parameters"in d))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===d.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=Gy(c,r,!0),f===c}});var l=c0.rsa.decrypt(i,r,!0,!1);return o.verify(n,l,r.n.bitLength())},r};c0.setRsaPrivateKey=c0.rsa.setPrivateKey=function(e,t,r,n,i,o,a,l){var f={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:l};return f.decrypt=function(c,u,d){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var g=c0.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:Gy};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(p,y){return qt.pkcs1.decode_rsa_oaep(y,p,d)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(g,f,!1)},f.sign=function(c,u){var d=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:qle},d=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},d=1);var g=u.encode(c,f.n.bitLength());return c0.rsa.encrypt(g,f,d)},f};c0.wrapRsaPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,Pe.toDer(e).getBytes())])};c0.privateKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Ble,t,r)&&(e=Pe.fromDer(qt.util.createBuffer(t.privateKey))),t={},r=[],!Pe.validate(e,Ole,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,l,f,c,u,d;return i=qt.util.createBuffer(t.privateKeyModulus).toHex(),o=qt.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=qt.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=qt.util.createBuffer(t.privateKeyPrime1).toHex(),f=qt.util.createBuffer(t.privateKeyPrime2).toHex(),c=qt.util.createBuffer(t.privateKeyExponent1).toHex(),u=qt.util.createBuffer(t.privateKeyExponent2).toHex(),d=qt.util.createBuffer(t.privateKeyCoefficient).toHex(),c0.setRsaPrivateKey(new z0(i,16),new z0(o,16),new z0(a,16),new z0(l,16),new z0(f,16),new z0(c,16),new z0(u,16),new z0(d,16))};c0.privateKeyToAsn1=c0.privateKeyToRSAPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.e)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.d)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.p)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.q)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.dP)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.dQ)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.qInv))])};c0.publicKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Mle,t,r)){var n=Pe.derToOid(t.publicKeyOid);if(n!==c0.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!Pe.validate(e,Fle,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=qt.util.createBuffer(t.publicKeyModulus).toHex(),a=qt.util.createBuffer(t.publicKeyExponent).toHex();return c0.setRsaPublicKey(new z0(o,16),new z0(a,16))};c0.publicKeyToAsn1=c0.publicKeyToSubjectPublicKeyInfo=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.BITSTRING,!1,[c0.publicKeyToRSAPublicKey(e)])])};c0.publicKeyToRSAPublicKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,rl(e.e))])};function dz(e,t,r){var n=qt.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var f=0;f<a;++f)n.putByte(l)}else for(;a>0;){for(var c=0,u=qt.random.getBytes(a),f=0;f<a;++f)l=u.charCodeAt(f),l===0?++c:n.putByte(l);a=c}return n.putByte(0),n.putBytes(e),n}s(dz,"_encodePkcs1_v1_5");function Gy(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=qt.util.createBuffer(e),a=o.getByte(),l=o.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(l===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(l===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}s(Gy,"_decodePkcs1_v1_5");function jle(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(l,f){if(l)return r(l);if(e.p=f,e.q!==null)return a(l,e.q);o(e.qBits,a)})}s(i,"generate");function o(l,f){qt.prime.generateProbablePrime(l,n,f)}s(o,"getPrime");function a(l,f){if(l)return r(l);if(e.q=f,e.p.compareTo(e.q)<0){var c=e.p;e.p=e.q,e.q=c}if(e.p.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.p=null,i();return}if(e.q.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(z0.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}s(a,"finish")}s(jle,"_generateKeyPair");function rl(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qt.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(rl,"_bnToBytes");function $le(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}s($le,"_getMillerRabinTests");function az(e){return qt.util.isNodejs&&typeof PP[e]=="function"}s(az,"_detectNodeCrypto");function lz(e){return typeof _o.globalScope<"u"&&typeof _o.globalScope.crypto=="object"&&typeof _o.globalScope.crypto.subtle=="object"&&typeof _o.globalScope.crypto.subtle[e]=="function"}s(lz,"_detectSubtleCrypto");function fz(e){return typeof _o.globalScope<"u"&&typeof _o.globalScope.msCrypto=="object"&&typeof _o.globalScope.msCrypto.subtle=="object"&&typeof _o.globalScope.msCrypto.subtle[e]=="function"}s(fz,"_detectSubtleMsCrypto");function cz(e){for(var t=qt.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}s(cz,"_intToUint8Array")});var RP=ae((PTe,vz)=>{var St=_0();Qc();ra();n6();Ya();Zc();$y();wd();vo();bP();o6();W0();typeof mz>"u"&&(mz=St.jsbn.BigInteger);var mz,Me=St.asn1,y0=St.pki=St.pki||{};vz.exports=y0.pbe=St.pbe=St.pbe||{};var Pd=y0.oids,Hle={name:"EncryptedPrivateKeyInfo",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Vle={name:"PBES2Algorithms",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},zle={name:"pkcs-12PbeParams",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"iterations"}]};y0.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=St.random.getBytesSync(r.saltSize),i=r.count,o=Me.integerToDer(i),a,l,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,d;switch(r.algorithm){case"aes128":a=16,c=16,u=Pd["aes128-CBC"],d=St.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=Pd["aes192-CBC"],d=St.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=Pd["aes256-CBC"],d=St.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=Pd.desCBC,d=St.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),y=yz(p),_=St.pkcs5.pbkdf2(t,n,i,a,y),S=St.random.getBytesSync(c),E=d(_);E.start(S),E.update(Me.toDer(e)),E.finish(),f=E.output.getBytes();var A=Kle(n,o,a,p);l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Pd.pkcs5PBES2).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Pd.pkcs5PBKDF2).getBytes()),A]),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(u).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){a=24;var P=new St.util.ByteBuffer(n),_=y0.pbe.generatePkcs12Key(t,P,1,i,a),S=y0.pbe.generatePkcs12Key(t,P,2,i,a),E=St.des.createEncryptionCipher(_);E.start(S),E.update(Me.toDer(e)),E.finish(),f=E.output.getBytes(),l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Pd["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,n),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,o.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var U=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[l,Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,f)]);return U};y0.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!Me.validate(e,Hle,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=Me.derToOid(n.encryptionOid),l=y0.pbe.getCipher(a,n.encryptionParams,t),f=St.util.createBuffer(n.encryptedData);return l.update(f),l.finish()&&(r=Me.fromDer(l.output)),r};y0.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:Me.toDer(e).getBytes()};return St.pem.encode(r,{maxline:t})};y0.encryptedPrivateKeyFromPem=function(e){var t=St.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Me.fromDer(t.body)};y0.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=y0.wrapRsaPrivateKey(y0.privateKeyToAsn1(e));return n=y0.encryptPrivateKeyInfo(n,t,r),y0.encryptedPrivateKeyToPem(n)}var i,o,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=St.pbe.opensslDeriveBytes(t,o.substr(0,8),a),u=l(c);u.start(o),u.update(Me.toDer(y0.privateKeyToAsn1(e))),u.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:St.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return St.pem.encode(d)};y0.decryptRsaPrivateKey=function(e,t){var r=null,n=St.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=St.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=St.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=St.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=St.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=St.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=s(function(d){return St.rc2.createDecryptionCipher(d,40)},"cipherFn");break;case"RC2-64-CBC":o=8,a=s(function(d){return St.rc2.createDecryptionCipher(d,64)},"cipherFn");break;case"RC2-128-CBC":o=16,a=s(function(d){return St.rc2.createDecryptionCipher(d,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=St.util.hexToBytes(n.dekInfo.parameters),f=St.pbe.opensslDeriveBytes(t,l.substr(0,8),o),c=a(f);if(c.start(l),c.update(St.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=y0.decryptPrivateKeyInfo(Me.fromDer(r),t):r=Me.fromDer(r),r!==null&&(r=y0.privateKeyFromAsn1(r)),r};y0.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,l;if(typeof o>"u"||o===null){if(!("sha1"in St.md))throw new Error('"sha1" hash algorithm unavailable.');o=St.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new St.util.ByteBuffer,d=new St.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)d.putInt16(e.charCodeAt(l));d.putInt16(0)}var g=d.length(),p=t.length(),y=new St.util.ByteBuffer;y.fillWithByte(r,c);var _=c*Math.ceil(p/c),S=new St.util.ByteBuffer;for(l=0;l<_;l++)S.putByte(t.at(l%p));var E=c*Math.ceil(g/c),A=new St.util.ByteBuffer;for(l=0;l<E;l++)A.putByte(d.at(l%g));var P=S;P.putBuffer(A);for(var U=Math.ceil(i/f),k=1;k<=U;k++){var L=new St.util.ByteBuffer;L.putBytes(y.bytes()),L.putBytes(P.bytes());for(var Q=0;Q<n;Q++)o.start(),o.update(L.getBytes()),L=o.digest();var te=new St.util.ByteBuffer;for(l=0;l<c;l++)te.putByte(L.at(l%f));var Ce=Math.ceil(p/c)+Math.ceil(g/c),De=new St.util.ByteBuffer;for(a=0;a<Ce;a++){var pe=new St.util.ByteBuffer(P.getBytes(c)),Ie=511;for(l=te.length()-1;l>=0;l--)Ie=Ie>>8,Ie+=te.at(l)+pe.at(l),pe.setAt(l,Ie&255);De.putBuffer(pe)}P=De,u.putBuffer(L)}return u.truncate(u.length()-i),u};y0.pbe.getCipher=function(e,t,r){switch(e){case y0.oids.pkcs5PBES2:return y0.pbe.getCipherForPBES2(e,t,r);case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:return y0.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};y0.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!Me.validate(t,Vle,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=Me.derToOid(n.kdfOid),e!==y0.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=Me.derToOid(n.encOid),e!==y0.oids["aes128-CBC"]&&e!==y0.oids["aes192-CBC"]&&e!==y0.oids["aes256-CBC"]&&e!==y0.oids["des-EDE3-CBC"]&&e!==y0.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,l=St.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var f,c;switch(y0.oids[e]){case"aes128-CBC":f=16,c=St.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=St.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=St.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=St.des.createDecryptionCipher;break;case"desCBC":f=8,c=St.des.createDecryptionCipher;break}var u=pz(n.prfOid),d=St.pkcs5.pbkdf2(r,a,l,f,u),g=n.encIv,p=c(d);return p.start(g),p};y0.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!Me.validate(t,zle,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=St.util.createBuffer(n.salt),l=St.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var f,c,u;switch(e){case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=St.des.startDecrypting;break;case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=s(function(_,S){var E=St.rc2.createDecryptionCipher(_,40);return E.start(S,null),E},"cipherFn");break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var d=pz(n.prfOid),g=y0.pbe.generatePkcs12Key(r,a,1,l,f,d);d.start();var p=y0.pbe.generatePkcs12Key(r,a,2,l,c,d);return u(g,p)};y0.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in St.md))throw new Error('"md5" hash algorithm unavailable.');n=St.md.md5.create()}t===null&&(t="");for(var i=[gz(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(gz(n,i[a-1]+e+t));return i.join("").substr(0,r)};function gz(e,t){return e.start().update(t).digest().getBytes()}s(gz,"hash");function pz(e){var t;if(!e)t="hmacWithSHA1";else if(t=y0.oids[Me.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return yz(t)}s(pz,"prfOidToMessageDigest");function yz(e){var t=St.md;switch(e){case"hmacWithSHA224":t=St.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s(yz,"prfAlgorithmToMessageDigest");function Kle(e,t,r,n){var i=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,e),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,St.util.hexToBytes(r.toString(16))),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(y0.oids[n]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.NULL,!1,"")])),i}s(Kle,"createPbkdf2Params")});var kP=ae((kTe,bz)=>{var E2=_0();ra();W0();var bt=E2.asn1,S2=bz.exports=E2.pkcs7asn1=E2.pkcs7asn1||{};E2.pkcs7=E2.pkcs7||{};E2.pkcs7.asn1=S2;var xz={name:"ContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};S2.contentInfoValidator=xz;var _z={name:"EncryptedContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};S2.envelopedDataValidator={name:"EnvelopedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(_z)};S2.encryptedDataValidator={name:"EncryptedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"}].concat(_z)};var Gle={name:"SignerInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};S2.signedDataValidator={name:"SignedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},xz,{name:"SignedData.Certificates",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,capture:"signerInfos",optional:!0,value:[Gle]}]};S2.recipientInfoValidator={name:"RecipientInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var NP=ae((NTe,Cz)=>{var Rd=_0();W0();Rd.mgf=Rd.mgf||{};var Wle=Cz.exports=Rd.mgf.mgf1=Rd.mgf1=Rd.mgf1||{};Wle.create=function(e){var t={generate:function(r,n){for(var i=new Rd.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var l=new Rd.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var Ez=ae((DTe,Tz)=>{var Wy=_0();NP();Tz.exports=Wy.mgf=Wy.mgf||{};Wy.mgf.mgf1=Wy.mgf1});var Yy=ae((LTe,Sz)=>{var kd=_0();vo();W0();var Yle=Sz.exports=kd.pss=kd.pss||{};Yle.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=kd.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||kd.random,l={};return l.encode=function(f,c){var u,d=c-1,g=Math.ceil(d/8),p=f.digest().getBytes();if(g<n+o+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=a.getBytesSync(o):y=i.bytes();var _=new kd.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(p),_.putBytes(y),t.start(),t.update(_.getBytes());var S=t.digest().getBytes(),E=new kd.util.ByteBuffer;E.fillWithByte(0,g-o-n-2),E.putByte(1),E.putBytes(y);var A=E.getBytes(),P=g-n-1,U=r.generate(S,P),k="";for(u=0;u<P;u++)k+=String.fromCharCode(A.charCodeAt(u)^U.charCodeAt(u));var L=65280>>8*g-d&255;return k=String.fromCharCode(k.charCodeAt(0)&~L)+k.substr(1),k+S+"\xBC"},l.verify=function(f,c,u){var d,g=u-1,p=Math.ceil(g/8);if(c=c.substr(-p),p<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=p-n-1,_=c.substr(0,y),S=c.substr(y,n),E=65280>>8*p-g&255;if(_.charCodeAt(0)&E)throw new Error("Bits beyond keysize not zero as expected.");var A=r.generate(S,y),P="";for(d=0;d<y;d++)P+=String.fromCharCode(_.charCodeAt(d)^A.charCodeAt(d));P=String.fromCharCode(P.charCodeAt(0)&~E)+P.substr(1);var U=p-n-o-2;for(d=0;d<U;d++)if(P.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(P.charCodeAt(U)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=P.substr(-o),L=new kd.util.ByteBuffer;L.fillWithByte(0,8),L.putBytes(f),L.putBytes(k),t.start(),t.update(L.getBytes());var Q=t.digest().getBytes();return S===Q},l}});var Qy=ae((BTe,Rz)=>{var jt=_0();Qc();ra();n6();Ya();Ez();Zc();wd();Yy();o6();W0();var q=jt.asn1,lt=Rz.exports=jt.pki=jt.pki||{},K0=lt.oids,Hr={};Hr.CN=K0.commonName;Hr.commonName="CN";Hr.C=K0.countryName;Hr.countryName="C";Hr.L=K0.localityName;Hr.localityName="L";Hr.ST=K0.stateOrProvinceName;Hr.stateOrProvinceName="ST";Hr.O=K0.organizationName;Hr.organizationName="O";Hr.OU=K0.organizationalUnitName;Hr.organizationalUnitName="OU";Hr.E=K0.emailAddress;Hr.emailAddress="E";var Iz=jt.pki.rsa.publicKeyValidator,Xle={name:"Certificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},Iz,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},Jle={name:"rsapss",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},Qle={name:"CertificationRequestInfo",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},Iz,{name:"CertificationRequestInfo.attributes",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:q.Class.UNIVERSAL,type:q.Type.SET,constructed:!0}]}]}]},Zle={name:"CertificationRequest",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[Qle,{name:"CertificationRequest.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};lt.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,o,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)o={},i=n.value[l],o.type=q.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in K0&&(o.name=K0[o.type],o.name in Hr&&(o.shortName=Hr[o.name])),t&&(t.update(o.type),t.update(o.value)),r.push(o)}return r};lt.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=q.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var l={};if(l.type=i,l.value=o[a].value,l.valueTagClass=o[a].type,l.type in K0&&(l.name=K0[l.type],l.name in Hr&&(l.shortName=Hr[l.name])),l.type===K0.extensionRequest){l.extensions=[];for(var f=0;f<l.value.length;++f)l.extensions.push(lt.certificateExtensionFromAsn1(l.value[f]))}t.push(l)}return t};function r1(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s(r1,"_getAttribute");var Xy=s(function(e,t,r){var n={};if(e!==K0["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:K0.sha1},mgf:{algorithmOid:K0.mgf1,hash:{algorithmOid:K0.sha1}},saltLength:20});var i={},o=[];if(!q.validate(t,Jle,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=q.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=q.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=q.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Jy=s(function(e){switch(K0[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return jt.md.sha1.create();case"md5WithRSAEncryption":return jt.md.md5.create();case"sha256WithRSAEncryption":return jt.md.sha256.create();case"sha384WithRSAEncryption":return jt.md.sha384.create();case"sha512WithRSAEncryption":return jt.md.sha512.create();case"RSASSA-PSS":return jt.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),Az=s(function(e){var t=e.certificate,r;switch(t.signatureOid){case K0.sha1WithRSAEncryption:case K0.sha1WithRSASignature:break;case K0["RSASSA-PSS"]:var n,i;if(n=K0[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=K0[t.signatureParameters.mgf.algorithmOid],i===void 0||jt.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=jt.mgf[i].create(jt.md[n].create()),n=K0[t.signatureParameters.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=n,o}r=jt.pss.create(jt.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");lt.certificateFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificateFromAsn1(o,t)};lt.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:q.toDer(lt.certificateToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyFromPem=function(e){var t=jt.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return lt.publicKeyFromAsn1(n)};lt.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:q.toDer(lt.publicKeyToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||jt.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=q.toDer(lt.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};lt.certificationRequestFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificationRequestFromAsn1(o,t)};lt.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:q.toDer(lt.certificationRequestToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return r1(e.issuer,t)},e.issuer.addField=function(t){bo([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return r1(e.subject,t)},e.subject.addField=function(t){bo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){bo(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){bo(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Pz(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=lt.getTBSCertificate(e);var o=q.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var a=t.md;if(a===null){a=Jy({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||lt.getTBSCertificate(t),f=q.toDer(l);a.update(f.getBytes())}return a!==null&&(r=Az({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,a,l=0;r&&l<n.attributes.length;++l)o=n.attributes[l],a=i.attributes[l],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return lt.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=K0.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return jt.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};lt.certificateFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,Xle,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=jt.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=jt.asn1.derToOid(r.certSignatureOid),a.signatureParameters=Xy(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=Xy(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var f=[];if(r.certValidity1UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=f[0],a.validity.notAfter=f[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Jy({signatureOid:a.signatureOid,type:"certificate"});var c=q.toDer(a.tbsCertificate);a.md.update(c.getBytes())}var u=jt.md.sha1.create(),d=q.toDer(r.certIssuer);u.update(d.getBytes()),a.issuer.getField=function(y){return r1(a.issuer,y)},a.issuer.addField=function(y){bo([y]),a.issuer.attributes.push(y)},a.issuer.attributes=lt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=u.digest().toHex();var g=jt.md.sha1.create(),p=q.toDer(r.certSubject);return g.update(p.getBytes()),a.subject.getField=function(y){return r1(a.subject,y)},a.subject.addField=function(y){bo([y]),a.subject.attributes.push(y)},a.subject.attributes=lt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=g.digest().toHex(),r.certExtensions?a.extensions=lt.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};lt.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(lt.certificateExtensionFromAsn1(n.value[i]));return t};lt.certificateExtensionFromAsn1=function(e){var t={};if(t.id=q.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===q.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in K0){if(t.name=K0[t.id],t.name==="keyUsage"){var r=q.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=q.fromDer(t.value);r.value.length>0&&r.value[0].type===q.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;r.value.length>0&&r.value[0].type===q.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(t.pathLenConstraint=q.derToInteger(o))}else if(t.name==="extKeyUsage")for(var r=q.fromDer(t.value),a=0;a<r.value.length;++a){var l=q.derToOid(r.value[a].value);l in K0?t[K0[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=q.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var f,r=q.fromDer(t.value),c=0;c<r.value.length;++c){f=r.value[c];var u={type:f.type,value:f.value};switch(t.altNames.push(u),f.type){case 1:case 2:case 6:break;case 7:u.ip=jt.util.bytesToIP(f.value);break;case 8:u.oid=q.derToOid(f.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=q.fromDer(t.value);t.subjectKeyIdentifier=jt.util.bytesToHex(r.value)}}return t};lt.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,Zle,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=jt.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=Xy(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=Xy(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Jy({signatureOid:a.signatureOid,type:"certification request"});var l=q.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var f=jt.md.sha1.create();return a.subject.getField=function(c){return r1(a.subject,c)},a.subject.addField=function(c){bo([c]),a.subject.attributes.push(c)},a.subject.attributes=lt.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),a.subject.hash=f.digest().toHex(),a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(c){return r1(a,c)},a.addAttribute=function(c){bo([c]),a.attributes.push(c)},a.attributes=lt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};lt.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return r1(e.subject,t)},e.subject.addField=function(t){bo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return r1(e,t)},e.addAttribute=function(t){bo([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){bo(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){bo(t),e.attributes=t},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=lt.getCertificationRequestInfo(e);var o=q.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Jy({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||lt.getCertificationRequestInfo(e),i=q.toDer(n);r.update(i.getBytes())}return r!==null&&(t=Az({certificate:e,md:r,signature:e.signature})),t},e};function w2(e){for(var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,o=0;o<i.length;++o){r=i[o];var a=r.value,l=q.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===q.Type.UTF8&&(a=jt.util.encodeUtf8(a))),n=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(r.type).getBytes()),q.create(q.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}s(w2,"_dnToAsn1");function bo(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in lt.oids?t.name=lt.oids[t.type]:t.shortName&&t.shortName in Hr&&(t.name=lt.oids[Hr[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in lt.oids)t.type=lt.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Hr&&(t.shortName=Hr[t.name]),t.type===K0.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=q.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(lt.certificateExtensionToAsn1(Pz(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}s(bo,"_fillMissingFields");function Pz(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in lt.oids&&(e.name=lt.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in lt.oids)e.id=lt.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,o=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(o|=128,n=7);var a=String.fromCharCode(n);o!==0?a+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)e[f]===!0&&(f in K0?l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(K0[f]).getBytes())):f.indexOf(".")!==-1&&l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(f).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));e.value.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=q.create(q.Class.UNIVERSAL,q.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,d.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var g=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var p=[q.create(q.Class.CONTEXT_SPECIFIC,4,!0,[w2(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var y=jt.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(e.name==="cRLDistributionPoints"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var l=e.value.value,_=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),S=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]),c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));S.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}_.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[S])),l.push(_)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}s(Pz,"_fillMissingExtensionFields");function DP(e,t){switch(e){case K0["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(t.saltLength).getBytes())])),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,r);default:return q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")}}s(DP,"_signatureParametersToAsn1");function efe(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,a=q.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===q.Type.UTF8&&(o=jt.util.encodeUtf8(o));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var f=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(i.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,a,l,o)])]);t.value.push(f)}return t}s(efe,"_CRIAttributesToAsn1");var tfe=new Date("1950-01-01T00:00:00Z"),rfe=new Date("2050-01-01T00:00:00Z");function wz(e){return e>=tfe&&e<rfe?q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(e)):q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(e))}s(wz,"_dateToAsn1");lt.getTBSCertificate=function(e){var t=wz(e.validity.notBefore),r=wz(e.validity.notAfter),n=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes())]),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,jt.util.hexToBytes(e.serialNumber)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.siginfo.algorithmOid).getBytes()),DP(e.siginfo.algorithmOid,e.siginfo.parameters)]),w2(e.issuer),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,r]),w2(e.subject),lt.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(lt.certificateExtensionsToAsn1(e.extensions)),n};lt.getCertificationRequestInfo=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),w2(e.subject),lt.publicKeyToAsn1(e.publicKey),efe(e)]);return t};lt.distinguishedNameToAsn1=function(e){return w2(e)};lt.certificateToAsn1=function(e){var t=e.tbsCertificate||lt.getTBSCertificate(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),DP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.certificateExtensionsToAsn1=function(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,3,!0,[]),r=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(lt.certificateExtensionToAsn1(e[n]));return t};lt.certificateExtensionToAsn1=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.id).getBytes())),e.critical&&t.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=q.toDer(r).getBytes()),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,r)),t};lt.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||lt.getCertificationRequestInfo(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),DP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];jt.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=jt.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;jt.util.isArray(l)||(l=[l]);for(var f=q.toDer(lt.certificateToAsn1(a)).getBytes(),c=0;c<l.length;++c){var u=q.toDer(lt.certificateToAsn1(l[c])).getBytes();if(f===u)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var f=t.certs[l];if(!jt.util.isArray(f))a.push(f);else for(var c=0;c<f.length;++c)a.push(f[c])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var f=r(a.subject);if(!jt.util.isArray(f))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var c=q.toDer(lt.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=q.toDer(lt.certificateToAsn1(f[u])).getBytes();c===d&&(l=f[u],f.splice(u,1))}return f.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}s(r,"getBySubject");function n(a){if(!a.hash){var l=jt.md.sha1.create();a.attributes=lt.RDNAttributesAsArray(w2(a),l),a.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};lt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};lt.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,a=null,l=0;do{var f=t.shift(),c=null,u=!1;if(i&&(i<f.validity.notBefore||i>f.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:lt.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:i}),a===null){if(c=t[0]||e.getIssuer(f),c===null&&f.isIssuer(f)&&(u=!0,c=f),c){var d=c;jt.util.isArray(d)||(d=[d]);for(var g=!1;!g&&d.length>0;){c=d.shift();try{g=c.verify(f)}catch{}}g||(a={message:"Certificate signature is invalid.",error:lt.certificateError.bad_certificate})}a===null&&(!c||u)&&!e.hasCertificate(f)&&(a={message:"Certificate is not trusted.",error:lt.certificateError.unknown_ca})}if(a===null&&c&&!f.isIssuer(c)&&(a={message:"Certificate issuer is invalid.",error:lt.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<f.extensions.length;++y){var _=f.extensions[y];_.critical&&!(_.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:lt.certificateError.unsupported_certificate})}if(a===null&&(!o||t.length===0&&(!c||u))){var S=f.getExtension("basicConstraints"),E=f.getExtension("keyUsage");if(E!==null&&(!E.keyCertSign||S===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:lt.certificateError.bad_certificate}),a===null&&S!==null&&!S.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:lt.certificateError.bad_certificate}),a===null&&E!==null&&"pathLenConstraint"in S){var A=l-1;A>S.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:lt.certificateError.bad_certificate})}}var P=a===null?!0:a.error,U=r.verify?r.verify(P,l,n):P;if(U===!0)a=null;else throw P===!0&&(a={message:"The application rejected the certificate.",error:lt.certificateError.bad_certificate}),(U||U===0)&&(typeof U=="object"&&!jt.util.isArray(U)?(U.message&&(a.message=U.message),U.error&&(a.error=U.error)):typeof U=="string"&&(a.error=U)),a;o=!1,++l}while(t.length>0);return!0}});var BP=ae((FTe,Nz)=>{var xr=_0();ra();x2();Zc();kP();RP();vo();o6();T2();W0();Qy();var oe=xr.asn1,N0=xr.pki,l6=Nz.exports=xr.pkcs12=xr.pkcs12||{},kz={name:"ContentInfo",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},nfe={name:"PFX",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,capture:"version"},kz,{name:"PFX.macData",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:oe.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},ife={name:"SafeBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},sfe={name:"Attribute",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,capture:"values"}]},ofe={name:"CertBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:oe.Class.UNIVERSAL,type:oe.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function a6(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var l=e[o].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}s(a6,"_getBagsByAttribute");l6.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!oe.validate(e,nfe,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var E={},A;return"localKeyId"in S?A=S.localKeyId:"localKeyIdHex"in S&&(A=xr.util.hexToBytes(S.localKeyIdHex)),A===void 0&&!("friendlyName"in S)&&"bagType"in S&&(E[S.bagType]=a6(a.safeContents,null,null,S.bagType)),A!==void 0&&(E.localKeyId=a6(a.safeContents,"localKeyId",A,S.bagType)),"friendlyName"in S&&(E.friendlyName=a6(a.safeContents,"friendlyName",S.friendlyName,S.bagType)),E},getBagsByFriendlyName:function(S,E){return a6(a.safeContents,"friendlyName",S,E)},getBagsByLocalKeyId:function(S,E){return a6(a.safeContents,"localKeyId",S,E)}};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(oe.derToOid(n.contentType)!==N0.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=oe.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==oe.Class.UNIVERSAL||l.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=LP(l),n.mac){var f=null,c=0,u=oe.derToOid(n.macAlgorithm);switch(u){case N0.oids.sha1:f=xr.md.sha1.create(),c=20;break;case N0.oids.sha256:f=xr.md.sha256.create(),c=32;break;case N0.oids.sha384:f=xr.md.sha384.create(),c=48;break;case N0.oids.sha512:f=xr.md.sha512.create(),c=64;break;case N0.oids.md5:f=xr.md.md5.create(),c=16;break}if(f===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+u);var d=new xr.util.ByteBuffer(n.macSalt),g="macIterations"in n?parseInt(xr.util.bytesToHex(n.macIterations),16):1,p=l6.generateKey(r,d,3,g,c,f),y=xr.hmac.create();y.start(f,p),y.update(l.value);var _=y.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return afe(a,l.value,t,r),a};function LP(e){if(e.composed||e.constructed){for(var t=xr.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}s(LP,"_decodePkcs7Data");function afe(e,t,r,n){if(t=oe.fromDer(t,r),t.tagClass!==oe.Class.UNIVERSAL||t.type!==oe.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],a={},l=[];if(!oe.validate(o,kz,a,l)){var f=new Error("Cannot read ContentInfo.");throw f.errors=l,f}var c={encrypted:!1},u=null,d=a.content.value[0];switch(oe.derToOid(a.contentType)){case N0.oids.data:if(d.tagClass!==oe.Class.UNIVERSAL||d.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=LP(d).value;break;case N0.oids.encryptedData:u=lfe(d,n),c.encrypted=!0;break;default:var f=new Error("Unsupported PKCS#12 contentType.");throw f.contentType=oe.derToOid(a.contentType),f}c.safeBags=ffe(u,r,n),e.safeContents.push(c)}}s(afe,"_decodeAuthenticatedSafe");function lfe(e,t){var r={},n=[];if(!oe.validate(e,xr.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=oe.derToOid(r.contentType);if(o!==N0.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=oe.derToOid(r.encAlgorithm);var a=N0.pbe.getCipher(o,r.encParameter,t),l=LP(r.encryptedContentAsn1),f=xr.util.createBuffer(l.value);if(a.update(f),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}s(lfe,"_decryptSafeContents");function ffe(e,t,r){if(!t&&e.length===0)return[];if(e=oe.fromDer(e,t),e.tagClass!==oe.Class.UNIVERSAL||e.type!==oe.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],a={},l=[];if(!oe.validate(o,ife,a,l)){var f=new Error("Cannot read SafeBag.");throw f.errors=l,f}var c={type:oe.derToOid(a.bagId),attributes:cfe(a.bagAttributes)};n.push(c);var u,d,g=a.bagValue.value[0];switch(c.type){case N0.oids.pkcs8ShroudedKeyBag:if(g=N0.decryptPrivateKeyInfo(g,r),g===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case N0.oids.keyBag:try{c.key=N0.privateKeyFromAsn1(g)}catch{c.key=null,c.asn1=g}continue;case N0.oids.certBag:u=ofe,d=s(function(){if(oe.derToOid(a.certId)!==N0.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=oe.derToOid(a.certId),y}var _=oe.fromDer(a.cert,t);try{c.cert=N0.certificateFromAsn1(_,!0)}catch{c.cert=null,c.asn1=_}},"decoder");break;default:var f=new Error("Unsupported PKCS#12 SafeBag type.");throw f.oid=c.type,f}if(u!==void 0&&!oe.validate(g,u,a,l)){var f=new Error("Cannot read PKCS#12 "+u.name);throw f.errors=l,f}d()}return n}s(ffe,"_decodeSafeContents");function cfe(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!oe.validate(e[r],sfe,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=oe.derToOid(n.oid);if(N0.oids[a]!==void 0){t[N0.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[N0.oids[a]].push(n.values[l].value)}}return t}s(cfe,"_decodeBagAttributes");l6.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=xr.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=xr.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=N0.certificateFromPem(a));var l=xr.md.sha1.create();l.update(oe.toDer(N0.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=xr.random.getBytes(20);var f=[];i!==null&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.localKeyId).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.friendlyName).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.BMPSTRING,!1,n.friendlyName)])])),f.length>0&&(o=oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,f));var c=[],u=[];t!==null&&(xr.util.isArray(t)?u=t:u=[t]);for(var d=[],g=0;g<u.length;++g){t=u[g],typeof t=="string"&&(t=N0.certificateFromPem(t));var p=g===0?o:void 0,y=N0.certificateToAsn1(t),_=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.certBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.x509Certificate).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(y).getBytes())])])]),p]);d.push(_)}if(d.length>0){var S=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,d),E=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(S).getBytes())])]);c.push(E)}var A=null;if(e!==null){var P=N0.wrapRsaPrivateKey(N0.privateKeyToAsn1(e));r===null?A=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.keyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[P]),o]):A=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.pkcs8ShroudedKeyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[N0.encryptPrivateKeyInfo(P,r,n)]),o]);var U=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[A]),k=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(U).getBytes())])]);c.push(k)}var L=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,c),Q;if(n.useMac){var l=xr.md.sha1.create(),te=new xr.util.ByteBuffer(xr.random.getBytes(n.saltSize)),Ce=n.count,e=l6.generateKey(r,te,3,Ce,20),De=xr.hmac.create();De.start(l,e),De.update(oe.toDer(L).getBytes());var pe=De.getMac();Q=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.sha1).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.NULL,!1,"")]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,pe.getBytes())]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,te.getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(Ce).getBytes())])}return oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(3).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(N0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(L).getBytes())])]),Q])};l6.generateKey=xr.pbe.generatePkcs12Key});var FP=ae((UTe,Dz)=>{var n1=_0();ra();Zc();RP();wd();$y();BP();Yy();o6();W0();Qy();var OP=n1.asn1,I2=Dz.exports=n1.pki=n1.pki||{};I2.pemToDer=function(e){var t=n1.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n1.util.createBuffer(t.body)};I2.privateKeyFromPem=function(e){var t=n1.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=OP.fromDer(t.body);return I2.privateKeyFromAsn1(n)};I2.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:OP.toDer(I2.privateKeyToAsn1(e)).getBytes()};return n1.pem.encode(r,{maxline:t})};I2.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:OP.toDer(e).getBytes()};return n1.pem.encode(r,{maxline:t})}});var HP=ae((qTe,jz)=>{var tt=_0();ra();x2();My();wd();FP();vo();T2();W0();var rv=s(function(e,t,r,n){var i=tt.util.createBuffer(),o=e.length>>1,a=o+(e.length&1),l=e.substr(0,a),f=e.substr(o,a),c=tt.util.createBuffer(),u=tt.hmac.create();r=t+r;var d=Math.ceil(n/16),g=Math.ceil(n/20);u.start("MD5",l);var p=tt.util.createBuffer();c.putBytes(r);for(var y=0;y<d;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),p.putBuffer(u.digest());u.start("SHA1",f);var _=tt.util.createBuffer();c.clear(),c.putBytes(r);for(var y=0;y<g;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),_.putBuffer(u.digest());return i.putBytes(tt.util.xorBytes(p.getBytes(),_.getBytes(),n)),i},"prf_TLS1"),ufe=s(function(e,t,r){var n=tt.hmac.create();n.start("SHA1",e);var i=tt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),dfe=s(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),hfe=s(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),Fs=s(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return tt.util.createBuffer(e.getBytes(r))},"readVector"),Co=s(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),$={};$.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};$.SupportedVersions=[$.Versions.TLS_1_1,$.Versions.TLS_1_0];$.Version=$.SupportedVersions[0];$.MaxFragment=15360;$.ConnectionEnd={server:0,client:1};$.PRFAlgorithm={tls_prf_sha256:0};$.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};$.CipherType={stream:0,block:1,aead:2};$.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};$.CompressionMethod={none:0,deflate:1};$.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};$.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};$.Alert={};$.Alert.Level={warning:1,fatal:2};$.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};$.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};$.CipherSuites={};$.getCipherSuite=function(e){var t=null;for(var r in $.CipherSuites){var n=$.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};$.handleUnexpected=function(e,t){var r=!e.open&&e.entity===$.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})};$.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&($.queue(e,$.createAlert(e,{level:$.Alert.Level.warning,description:$.Alert.Description.no_renegotiation})),$.flush(e)),e.process()};$.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===$.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:tt.util.createBuffer(o.getBytes(32)),session_id:Fs(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Fs(o,2),n.compression_methods=Fs(o,1)),a=r-(a-o.length()),a>0){for(var l=Fs(o,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Fs(l,2)});if(!i)for(var f=0;f<n.extensions.length;++f){var c=n.extensions[f];if(c.type[0]===0&&c.type[1]===0)for(var u=Fs(c.data,2);u.length()>0;){var d=u.getByte();if(d!==0)break;e.session.extensions.server_name.serverNameList.push(Fs(u,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=$.getCipherSuite(n.cipher_suite);else for(var g=tt.util.createBuffer(n.cipher_suites.bytes());g.length()>0&&(e.session.cipherSuite=$.getCipherSuite(g.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure},cipherSuite:tt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=$.CompressionMethod.none}return n};$.createSecurityParameters=function(e,t){var r=e.entity===$.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:$.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:$.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};$.handleServerHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=Oz,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=gfe,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.session.id=i,e.process()}};$.handleClientHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=tt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,l=1;l<$.SupportedVersions.length&&(a=$.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}o!==null?(e.expect=jP,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?Cfe:qP,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.open=!0,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHello(e)})),e.session.resuming?($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.pending=$.createConnectionState(e),e.state.current.write=e.state.pending.write,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))):($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)})),e.fail||($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerKeyExchange(e)})),e.verifyClient!==!1&&$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificateRequest(e)})),$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHelloDone(e)})))),$.flush(e),e.process()}};$.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Fs(n,3)},o,a,l=[];try{for(;i.certificate_list.length()>0;)o=Fs(i.certificate_list,3),a=tt.asn1.fromDer(o),o=tt.pki.certificateFromAsn1(a,!0),l.push(o)}catch(c){return e.error(e,{message:"Could not parse certificate list.",cause:c,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var f=e.entity===$.ConnectionEnd.client;(f||e.verifyClient===!0)&&l.length===0?e.error(e,{message:f?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}}):l.length===0?e.expect=f?Lz:qP:(f?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],$.verifyCertificateChain(e,l)&&(e.expect=f?Lz:qP)),e.process()};$.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});e.expect=pfe,e.process()};$.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Fs(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=tt.pki.privateKeyFromPem(o)}catch(f){e.error(e,{message:"Could not get private key.",cause:f,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=tt.random.getBytes(48)}e.expect=jP,e.session.clientCertificate!==null&&(e.expect=Tfe),e.process()};$.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Fs(n,1),certificate_authorities:Fs(n,2)};e.session.certificateRequest=i,e.expect=yfe,e.process()};$.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Fs(n,2).getBytes()},a=tt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure}})}e.expect=jP,e.process()};$.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.insufficient_security}},i=0,o=e.verify(e,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!tt.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),e.error(e,n)}e.session.certificateRequest!==null&&(t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)}),$.queue(e,t)),t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createClientKeyExchange(e)}),$.queue(e,t),e.expect=_fe;var a=s(function(l,f){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createCertificateVerify(l,f)})),$.queue(l,$.createRecord(l,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),l.state.pending=$.createConnectionState(l),l.state.current.write=l.state.pending.write,$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createFinished(l)})),l.expect=Oz,$.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);$.getClientSignature(e,a)};$.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var r=e.entity===$.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=$.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?vfe:Efe,e.process()};$.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();n=tt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===$.ConnectionEnd.client,l=a?"server finished":"client finished",f=e.session.sp,c=12,u=rv;if(n=u(f.master_secret,l,n.getBytes(),c),n.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))),e.expect=a?xfe:Sfe,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,$.flush(e),e.isConnected=!0,e.connected(e),e.process()};$.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case $.Alert.Description.close_notify:i="Connection closed.";break;case $.Alert.Description.unexpected_message:i="Unexpected message.";break;case $.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case $.Alert.Description.decryption_failed:i="Decryption failed.";break;case $.Alert.Description.record_overflow:i="Record overflow.";break;case $.Alert.Description.decompression_failure:i="Decompression failed.";break;case $.Alert.Description.handshake_failure:i="Handshake failure.";break;case $.Alert.Description.bad_certificate:i="Bad certificate.";break;case $.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case $.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case $.Alert.Description.certificate_expired:i="Certificate expired.";break;case $.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case $.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case $.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case $.Alert.Description.access_denied:i="Access denied.";break;case $.Alert.Description.decode_error:i="Decode error.";break;case $.Alert.Description.decrypt_error:i="Decrypt error.";break;case $.Alert.Description.export_restriction:i="Export restriction.";break;case $.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case $.Alert.Description.insufficient_security:i="Insufficient security.";break;case $.Alert.Description.internal_error:i="Internal error.";break;case $.Alert.Description.user_canceled:i="User canceled.";break;case $.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===$.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===$.ConnectionEnd.client?"server":"client",alert:n}),e.process()};$.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=tt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in tv[e.entity][e.expect]?(e.entity===$.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:tt.md.md5.create(),sha1:tt.md.sha1.create()}),n!==$.HandshakeType.hello_request&&n!==$.HandshakeType.certificate_verify&&n!==$.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),tv[e.entity][e.expect][n](e,t,i)):$.handleUnexpected(e,t)};$.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};$.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===$.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();$.queue(e,$.createRecord(e,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_response,o)})),$.flush(e)}else if(n===$.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,tt.util.createBuffer(o))}e.process()};var mfe=0,gfe=1,Lz=2,pfe=3,yfe=4,Oz=5,vfe=6,xfe=7,_fe=8,bfe=0,Cfe=1,qP=2,Tfe=3,jP=4,Efe=5,Sfe=6,j=$.handleUnexpected,Fz=$.handleChangeCipherSpec,ai=$.handleAlert,$i=$.handleHandshake,Mz=$.handleApplicationData,li=$.handleHeartbeat,$P=[];$P[$.ConnectionEnd.client]=[[j,ai,$i,j,li],[j,ai,$i,j,li],[j,ai,$i,j,li],[j,ai,$i,j,li],[j,ai,$i,j,li],[Fz,ai,j,j,li],[j,ai,$i,j,li],[j,ai,$i,Mz,li],[j,ai,$i,j,li]];$P[$.ConnectionEnd.server]=[[j,ai,$i,j,li],[j,ai,$i,j,li],[j,ai,$i,j,li],[j,ai,$i,j,li],[Fz,ai,j,j,li],[j,ai,$i,j,li],[j,ai,$i,Mz,li],[j,ai,$i,j,li]];var i1=$.handleHelloRequest,wfe=$.handleServerHello,Uz=$.handleCertificate,Bz=$.handleServerKeyExchange,MP=$.handleCertificateRequest,Zy=$.handleServerHelloDone,qz=$.handleFinished,tv=[];tv[$.ConnectionEnd.client]=[[j,j,wfe,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,Uz,Bz,MP,Zy,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,Bz,MP,Zy,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,j,MP,Zy,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,j,j,Zy,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,qz],[i1,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[i1,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];var Ife=$.handleClientHello,Afe=$.handleClientKeyExchange,Pfe=$.handleCertificateVerify;tv[$.ConnectionEnd.server]=[[j,Ife,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,Uz,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Afe,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Pfe,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,qz],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];$.generateKeys=function(e,t){var r=rv,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===$.Versions.TLS_1_0.major&&e.version.minor===$.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};$.createConnectionState=function(e){var t=e.entity===$.ConnectionEnd.client,r=s(function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},"createMode"),n={read:r(),write:r()};if(n.read.update=function(o,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(o,a,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,a){return n.write.compressFunction(o,a,n.write)?n.write.cipherFunction(a,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=$.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case $.CompressionMethod.none:break;case $.CompressionMethod.deflate:n.read.compressFunction=hfe,n.write.compressFunction=dfe;break;default:throw new Error("Unsupported compression algorithm.")}}return n};$.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=tt.util.createBuffer();return r.putInt32(t),r.putBytes(tt.random.getBytes(28)),r};$.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};$.createAlert=function(e,t){var r=tt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),$.createRecord(e,{type:$.ContentType.alert,data:r})};$.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=tt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=tt.util.createBuffer();o.putByte($.CompressionMethod.none);var a=o.length(),l=tt.util.createBuffer();if(e.virtualHost){var f=tt.util.createBuffer();f.putByte(0),f.putByte(0);var c=tt.util.createBuffer();c.putByte(0),Co(c,2,tt.util.createBuffer(e.virtualHost));var u=tt.util.createBuffer();Co(u,2,c),Co(f,2,u),l.putBuffer(f)}var d=l.length();d>0&&(d+=2);var g=e.session.id,p=g.length+1+2+4+28+2+i+1+a+d,y=tt.util.createBuffer();return y.putByte($.HandshakeType.client_hello),y.putInt24(p),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),Co(y,1,tt.util.createBuffer(g)),Co(y,2,t),Co(y,1,o),d>0&&Co(y,2,l),y};$.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=tt.util.createBuffer();return n.putByte($.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Co(n,1,tt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};$.createCertificate=function(e){var t=e.entity===$.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=tt.util.createBuffer();if(r!==null)try{tt.util.isArray(r)||(r=[r]);for(var o=null,a=0;a<r.length;++a){var l=tt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=tt.util.createBuffer(l.body);o===null&&(o=tt.asn1.fromDer(c.bytes(),!1));var u=tt.util.createBuffer();Co(u,3,c),i.putBuffer(u)}r=tt.pki.certificateFromAsn1(o),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var d=3+i.length(),g=tt.util.createBuffer();return g.putByte($.HandshakeType.certificate),g.putInt24(d),Co(g,3,i),g};$.createClientKeyExchange=function(e){var t=tt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(tt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,o=tt.util.createBuffer();return o.putByte($.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};$.createServerKeyExchange=function(e){var t=0,r=tt.util.createBuffer();return t>0&&(r.putByte($.HandshakeType.server_key_exchange),r.putInt24(t)),r};$.getClientSignature=function(e,t){var r=tt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,o){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=tt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):i=a.sign(i,null),o(n,i)},e.getSignature(e,r,t)};$.createCertificateVerify=function(e,t){var r=t.length+2,n=tt.util.createBuffer();return n.putByte($.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};$.createCertificateRequest=function(e){var t=tt.util.createBuffer();t.putByte(1);var r=tt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=tt.pki.distinguishedNameToAsn1(i.subject),a=tt.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),f=tt.util.createBuffer();return f.putByte($.HandshakeType.certificate_request),f.putInt24(l),Co(f,1,t),Co(f,2,r),f};$.createServerHelloDone=function(e){var t=tt.util.createBuffer();return t.putByte($.HandshakeType.server_hello_done),t.putInt24(0),t};$.createChangeCipherSpec=function(){var e=tt.util.createBuffer();return e.putByte(1),e};$.createFinished=function(e){var t=tt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===$.ConnectionEnd.client,n=e.session.sp,i=12,o=rv,a=r?"client finished":"server finished";t=o(n.master_secret,a,t.getBytes(),i);var l=tt.util.createBuffer();return l.putByte($.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};$.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=tt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(tt.random.getBytes(o)),n};$.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===$.ContentType.handshake||t.type===$.ContentType.alert||t.type===$.ContentType.change_cipher_spec))){if(t.type===$.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=$.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>$.MaxFragment;)n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i.slice(0,$.MaxFragment))})),i=i.slice($.MaxFragment);i.length>0&&n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};$.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var UP=s(function(e){switch(e){case!0:return!0;case tt.pki.certificateError.bad_certificate:return $.Alert.Description.bad_certificate;case tt.pki.certificateError.unsupported_certificate:return $.Alert.Description.unsupported_certificate;case tt.pki.certificateError.certificate_revoked:return $.Alert.Description.certificate_revoked;case tt.pki.certificateError.certificate_expired:return $.Alert.Description.certificate_expired;case tt.pki.certificateError.certificate_unknown:return $.Alert.Description.certificate_unknown;case tt.pki.certificateError.unknown_ca:return $.Alert.Description.unknown_ca;default:return $.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Rfe=s(function(e){switch(e){case!0:return!0;case $.Alert.Description.bad_certificate:return tt.pki.certificateError.bad_certificate;case $.Alert.Description.unsupported_certificate:return tt.pki.certificateError.unsupported_certificate;case $.Alert.Description.certificate_revoked:return tt.pki.certificateError.certificate_revoked;case $.Alert.Description.certificate_expired:return tt.pki.certificateError.certificate_expired;case $.Alert.Description.certificate_unknown:return tt.pki.certificateError.certificate_unknown;case $.Alert.Description.unknown_ca:return tt.pki.certificateError.unknown_ca;default:return tt.pki.certificateError.bad_certificate}},"_alertDescToCertError");$.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(o,a,l){var f=UP(o),c=e.verify(e,o,a,l);if(c!==!0){if(typeof c=="object"&&!tt.util.isArray(c)){var u=new Error("The application rejected the certificate.");throw u.send=!0,u.alert={level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate},c.message&&(u.message=c.message),c.alert&&(u.alert.description=c.alert),u}c!==o&&(c=Rfe(c))}return c},tt.pki.verifyCertificateChain(e.caStore,t,r)}catch(o){var i=o;(typeof i!="object"||tt.util.isArray(i))&&(i={send:!0,alert:{level:$.Alert.Level.fatal,description:UP(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:$.Alert.Level.fatal,description:UP(i.error)}),e.error(e,i)}return!e.fail};$.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var o=null,a=null;if(i?a=tt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){o=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=tt.util.bytesToHex(i);r.order.push(a),r.cache[a]=o}}return r};$.createConnection=function(e){var t=null;e.caStore?tt.util.isArray(e.caStore)?t=tt.pki.createCaStore(e.caStore):t=e.caStore:t=tt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in $.CipherSuites)r.push($.CipherSuites[n])}var i=e.server?$.ConnectionEnd.server:$.ConnectionEnd.client,o=e.sessionCache?$.createSessionCache(e.sessionCache):null,a={version:{major:$.Version.major,minor:$.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(u,d,g,p){return d},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:tt.util.createBuffer(),tlsData:tt.util.createBuffer(),data:tt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(u,d){d.origin=d.origin||(u.entity===$.ConnectionEnd.client?"client":"server"),d.send&&($.queue(u,$.createAlert(u,d.alert)),$.flush(u));var g=d.fatal!==!1;g&&(u.fail=!0),e.error(u,d),g&&u.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(u){a.version={major:$.Version.major,minor:$.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===$.ConnectionEnd.client?mfe:bfe,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(u||typeof u>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=$.createConnectionState(a)},a.reset();var l=s(function(u,d){var g=d.type-$.ContentType.change_cipher_spec,p=$P[u.entity][u.expect];g in p?p[g](u,d):$.handleUnexpected(u,d)},"_update"),f=s(function(u){var d=0,g=u.input,p=g.length();if(p<5)d=5-p;else{u.record={type:g.getByte(),version:{major:g.getByte(),minor:g.getByte()},length:g.getInt16(),fragment:tt.util.createBuffer(),ready:!1};var y=u.record.version.major===u.version.major;y&&u.session&&u.session.version&&(y=u.record.version.minor===u.version.minor),y||u.error(u,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}})}return d},"_readRecordHeader"),c=s(function(u){var d=0,g=u.input,p=g.length();if(p<u.record.length)d=u.record.length-p;else{u.record.fragment.putBytes(g.getBytes(u.record.length)),g.compact();var y=u.state.current.read;y.update(u,u.record)&&(u.fragmented!==null&&(u.fragmented.type===u.record.type?(u.fragmented.fragment.putBuffer(u.record.fragment),u.record=u.fragmented):u.error(u,{message:"Invalid fragmented record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})),u.record.ready=!0)}return d},"_readRecord");return a.handshake=function(u){if(a.entity!==$.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,u=u||"";var d=null;u.length>0&&(a.sessionCache&&(d=a.sessionCache.getSession(u)),d===null&&(u="")),u.length===0&&a.sessionCache&&(d=a.sessionCache.getSession(),d!==null&&(u=d.id)),a.session={id:u,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:tt.md.md5.create(),sha1:tt.md.sha1.create()},d&&(a.version=d.version,a.session.sp=d.sp),a.session.sp.client_random=$.createRandom().getBytes(),a.open=!0,$.queue(a,$.createRecord(a,{type:$.ContentType.handshake,data:$.createClientHello(a)})),$.flush(a)}},a.process=function(u){var d=0;return u&&a.input.putBytes(u),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(d=f(a)),!a.fail&&a.record!==null&&!a.record.ready&&(d=c(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),d},a.prepare=function(u){return $.queue(a,$.createRecord(a,{type:$.ContentType.application_data,data:tt.util.createBuffer(u)})),$.flush(a)},a.prepareHeartbeatRequest=function(u,d){return u instanceof tt.util.ByteBuffer&&(u=u.bytes()),typeof d>"u"&&(d=u.length),a.expectedHeartbeatPayload=u,$.queue(a,$.createRecord(a,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_request,u,d)})),$.flush(a)},a.close=function(u){if(!a.fail&&a.sessionCache&&a.session){var d={id:a.session.id,version:a.session.version,sp:a.session.sp};d.sp.keys=null,a.sessionCache.setSession(d.id,d)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,$.queue(a,$.createAlert(a,{level:$.Alert.Level.warning,description:$.Alert.Description.close_notify})),$.flush(a)),a.closed(a)),a.reset(u)},a};jz.exports=tt.tls=tt.tls||{};for(ev in $)typeof $[ev]!="function"&&(tt.tls[ev]=$[ev]);var ev;tt.tls.prf_tls1=rv;tt.tls.hmac_sha1=ufe;tt.tls.createSessionCache=$.createSessionCache;tt.tls.createConnection=$.createConnection});var Vz=ae(($Te,Hz)=>{var s1=_0();Qc();HP();var To=Hz.exports=s1.tls;To.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=To.BulkCipherAlgorithm.aes,e.cipher_type=To.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=To.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:$z};To.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=To.BulkCipherAlgorithm.aes,e.cipher_type=To.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=To.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:$z};function $z(e,t,r){var n=t.entity===s1.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:s1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:s1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Lfe,e.write.cipherFunction=kfe,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=To.hmac_sha1}s($z,"initConnectionState");function kfe(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===To.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=s1.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=To.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(Nfe)&&(e.fragment=o.output,e.length=e.fragment.length(),r=!0),r}s(kfe,"encrypt_aes_cbc_sha1");function Nfe(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}s(Nfe,"encrypt_aes_cbc_sha1_padding");function Dfe(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}s(Dfe,"decrypt_aes_cbc_sha1_padding");function Lfe(e,t){var r=!1,n;e.version.minor===To.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Dfe);var o=t.macLength,a=s1.random.getBytesSync(o),l=i.output.length();l>=o?(e.fragment=i.output.getBytes(l-o),a=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=s1.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Bfe(t.macKey,a,f)&&r,r}s(Lfe,"decrypt_aes_cbc_sha1");function Bfe(e,t,r){var n=s1.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}s(Bfe,"compareMacs")});var KP=ae((VTe,Wz)=>{var Sr=_0();Ya();W0();var f6=Wz.exports=Sr.sha512=Sr.sha512||{};Sr.md.sha512=Sr.md.algorithms.sha512=f6;var Kz=Sr.sha384=Sr.sha512.sha384=Sr.sha512.sha384||{};Kz.create=function(){return f6.create("SHA-384")};Sr.md.sha384=Sr.md.algorithms.sha384=Kz;Sr.sha512.sha256=Sr.sha512.sha256||{create:function(){return f6.create("SHA-512/256")}};Sr.md["sha512/256"]=Sr.md.algorithms["sha512/256"]=Sr.sha512.sha256;Sr.sha512.sha224=Sr.sha512.sha224||{create:function(){return f6.create("SHA-512/224")}};Sr.md["sha512/224"]=Sr.md.algorithms["sha512/224"]=Sr.sha512.sha224;f6.create=function(e){if(Gz||Ofe(),typeof e>"u"&&(e="SHA-512"),!(e in Nd))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Nd[e],r=null,n=Sr.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var f=l.messageLengthSize/4,c=0;c<f;++c)l.fullMessageLength.push(0);n=Sr.util.createBuffer(),r=new Array(t.length);for(var c=0;c<t.length;++c)r[c]=t[c].slice(0);return l},l.start(),l.update=function(f,c){c==="utf8"&&(f=Sr.util.encodeUtf8(f));var u=f.length;l.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=l.fullMessageLength.length-1;d>=0;--d)l.fullMessageLength[d]+=u[1],u[1]=u[0]+(l.fullMessageLength[d]/4294967296>>>0),l.fullMessageLength[d]=l.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),zz(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var f=Sr.util.createBuffer();f.putBytes(n.bytes());var c=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,u=c&l.blockLength-1;f.putBytes(VP.substr(0,l.blockLength-u));for(var d,g,p=l.fullMessageLength[0]*8,y=0;y<l.fullMessageLength.length-1;++y)d=l.fullMessageLength[y+1]*8,g=d/4294967296>>>0,p+=g,f.putInt32(p>>>0),p=d>>>0;f.putInt32(p);for(var _=new Array(r.length),y=0;y<r.length;++y)_[y]=r[y].slice(0);zz(_,i,f);var S=Sr.util.createBuffer(),E;e==="SHA-512"?E=_.length:e==="SHA-384"?E=_.length-2:E=_.length-4;for(var y=0;y<E;++y)S.putInt32(_[y][0]),(y!==E-1||e!=="SHA-512/224")&&S.putInt32(_[y][1]);return S},l};var VP=null,Gz=!1,zP=null,Nd=null;function Ofe(){VP="\x80",VP+=Sr.util.fillString("\0",128),zP=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Nd={},Nd["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Nd["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Nd["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Nd["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Gz=!0}s(Ofe,"_init");function zz(e,t,r){for(var n,i,o,a,l,f,c,u,d,g,p,y,_,S,E,A,P,U,k,L,Q,te,Ce,De,pe,Ie,ie,Z,_e,Ae,be,Ke,ce,ve,le,Ee=r.length();Ee>=128;){for(_e=0;_e<16;++_e)t[_e][0]=r.getInt32()>>>0,t[_e][1]=r.getInt32()>>>0;for(;_e<80;++_e)Ke=t[_e-2],Ae=Ke[0],be=Ke[1],n=((Ae>>>19|be<<13)^(be>>>29|Ae<<3)^Ae>>>6)>>>0,i=((Ae<<13|be>>>19)^(be<<3|Ae>>>29)^(Ae<<26|be>>>6))>>>0,ve=t[_e-15],Ae=ve[0],be=ve[1],o=((Ae>>>1|be<<31)^(Ae>>>8|be<<24)^Ae>>>7)>>>0,a=((Ae<<31|be>>>1)^(Ae<<24|be>>>8)^(Ae<<25|be>>>7))>>>0,ce=t[_e-7],le=t[_e-16],be=i+ce[1]+a+le[1],t[_e][0]=n+ce[0]+o+le[0]+(be/4294967296>>>0)>>>0,t[_e][1]=be>>>0;for(_=e[0][0],S=e[0][1],E=e[1][0],A=e[1][1],P=e[2][0],U=e[2][1],k=e[3][0],L=e[3][1],Q=e[4][0],te=e[4][1],Ce=e[5][0],De=e[5][1],pe=e[6][0],Ie=e[6][1],ie=e[7][0],Z=e[7][1],_e=0;_e<80;++_e)c=((Q>>>14|te<<18)^(Q>>>18|te<<14)^(te>>>9|Q<<23))>>>0,u=((Q<<18|te>>>14)^(Q<<14|te>>>18)^(te<<23|Q>>>9))>>>0,d=(pe^Q&(Ce^pe))>>>0,g=(Ie^te&(De^Ie))>>>0,l=((_>>>28|S<<4)^(S>>>2|_<<30)^(S>>>7|_<<25))>>>0,f=((_<<4|S>>>28)^(S<<30|_>>>2)^(S<<25|_>>>7))>>>0,p=(_&E|P&(_^E))>>>0,y=(S&A|U&(S^A))>>>0,be=Z+u+g+zP[_e][1]+t[_e][1],n=ie+c+d+zP[_e][0]+t[_e][0]+(be/4294967296>>>0)>>>0,i=be>>>0,be=f+y,o=l+p+(be/4294967296>>>0)>>>0,a=be>>>0,ie=pe,Z=Ie,pe=Ce,Ie=De,Ce=Q,De=te,be=L+i,Q=k+n+(be/4294967296>>>0)>>>0,te=be>>>0,k=P,L=U,P=E,U=A,E=_,A=S,be=i+a,_=n+o+(be/4294967296>>>0)>>>0,S=be>>>0;be=e[0][1]+S,e[0][0]=e[0][0]+_+(be/4294967296>>>0)>>>0,e[0][1]=be>>>0,be=e[1][1]+A,e[1][0]=e[1][0]+E+(be/4294967296>>>0)>>>0,e[1][1]=be>>>0,be=e[2][1]+U,e[2][0]=e[2][0]+P+(be/4294967296>>>0)>>>0,e[2][1]=be>>>0,be=e[3][1]+L,e[3][0]=e[3][0]+k+(be/4294967296>>>0)>>>0,e[3][1]=be>>>0,be=e[4][1]+te,e[4][0]=e[4][0]+Q+(be/4294967296>>>0)>>>0,e[4][1]=be>>>0,be=e[5][1]+De,e[5][0]=e[5][0]+Ce+(be/4294967296>>>0)>>>0,e[5][1]=be>>>0,be=e[6][1]+Ie,e[6][0]=e[6][0]+pe+(be/4294967296>>>0)>>>0,e[6][1]=be>>>0,be=e[7][1]+Z,e[7][0]=e[7][0]+ie+(be/4294967296>>>0)>>>0,e[7][1]=be>>>0,Ee-=128}}s(zz,"_update")});var Yz=ae(GP=>{var Ffe=_0();ra();var Mn=Ffe.asn1;GP.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};GP.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Mn.Class.UNIVERSAL,type:Mn.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var lK=ae((GTe,aK)=>{var fi=_0();s6();vo();KP();W0();var tK=Yz(),Mfe=tK.publicKeyValidator,Ufe=tK.privateKeyValidator;typeof Xz>"u"&&(Xz=fi.jsbn.BigInteger);var Xz,XP=fi.util.ByteBuffer,hs=typeof Buffer>"u"?Uint8Array:Buffer;fi.pki=fi.pki||{};aK.exports=fi.pki.ed25519=fi.ed25519=fi.ed25519||{};var D0=fi.ed25519;D0.constants={};D0.constants.PUBLIC_KEY_BYTE_LENGTH=32;D0.constants.PRIVATE_KEY_BYTE_LENGTH=64;D0.constants.SEED_BYTE_LENGTH=32;D0.constants.SIGN_BYTE_LENGTH=64;D0.constants.HASH_BYTE_LENGTH=64;D0.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=fi.random.getBytesSync(D0.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==D0.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+D0.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=pf({message:t,encoding:"binary"});for(var r=new hs(D0.constants.PUBLIC_KEY_BYTE_LENGTH),n=new hs(D0.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return Hfe(r,n),{publicKey:r,privateKey:n}};D0.privateKeyFromAsn1=function(e){var t={},r=[],n=fi.asn1.validate(e,Ufe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=fi.asn1.derToOid(t.privateKeyOid),a=fi.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.privateKey,f=pf({message:fi.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:f}};D0.publicKeyFromAsn1=function(e){var t={},r=[],n=fi.asn1.validate(e,Mfe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=fi.asn1.derToOid(t.publicKeyOid),a=fi.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==D0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return pf({message:l,encoding:"binary"})};D0.publicKeyFromPrivateKey=function(e){e=e||{};var t=pf({message:e.privateKey,encoding:"binary"});if(t.length!==D0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D0.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new hs(D0.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};D0.sign=function(e){e=e||{};var t=pf(e),r=pf({message:e.privateKey,encoding:"binary"});if(r.length===D0.constants.SEED_BYTE_LENGTH){var n=D0.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==D0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D0.constants.SEED_BYTE_LENGTH+" or "+D0.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new hs(D0.constants.SIGN_BYTE_LENGTH+t.length);Vfe(i,t,t.length,r);for(var o=new hs(D0.constants.SIGN_BYTE_LENGTH),a=0;a<o.length;++a)o[a]=i[a];return o};D0.verify=function(e){e=e||{};var t=pf(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=pf({message:e.signature,encoding:"binary"});if(r.length!==D0.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+D0.constants.SIGN_BYTE_LENGTH);var n=pf({message:e.publicKey,encoding:"binary"});if(n.length!==D0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+D0.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new hs(D0.constants.SIGN_BYTE_LENGTH+t.length),o=new hs(D0.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<D0.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+D0.constants.SIGN_BYTE_LENGTH]=t[a];return zfe(o,i,i.length,n)>=0};function pf(e){var t=e.message;if(t instanceof Uint8Array||t instanceof hs)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new XP(t,r)}else if(!(t instanceof XP))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new hs(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}s(pf,"messageToNativeBuffer");var JP=Yt(),nv=Yt([1]),qfe=Yt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),jfe=Yt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Jz=Yt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Qz=Yt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),WP=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),$fe=Yt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function c6(e,t){var r=fi.md.sha512.create(),n=new XP(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new hs(D0.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}s(c6,"sha512");function Hfe(e,t){var r=[Yt(),Yt(),Yt(),Yt()],n,i=c6(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,tR(r,i),eR(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}s(Hfe,"crypto_sign_keypair");function Vfe(e,t,r,n){var i,o,a=new Float64Array(64),l=[Yt(),Yt(),Yt(),Yt()],f=c6(n,32);f[0]&=248,f[31]&=127,f[31]|=64;var c=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=f[32+i];var u=c6(e.subarray(32),r+32);for(QP(u),tR(l,u),eR(e,l),i=32;i<64;++i)e[i]=n[i];var d=c6(e,r+64);for(QP(d),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=u[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=d[i]*f[o];return rK(e.subarray(32),a),c}s(Vfe,"crypto_sign");function zfe(e,t,r,n){var i,o,a=new hs(32),l=[Yt(),Yt(),Yt(),Yt()],f=[Yt(),Yt(),Yt(),Yt()];if(o=-1,r<64||Kfe(f,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var c=c6(e,r);if(QP(c),sK(l,f,c),tR(f,t.subarray(32)),ZP(l,f),eR(a,l),r-=64,nK(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return o=r,o}s(zfe,"crypto_sign_open");function rK(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*WP[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*WP[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*WP[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}s(rK,"modL");function QP(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;rK(e,t)}s(QP,"reduce");function ZP(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt(),c=Yt(),u=Yt();P2(r,e[1],e[0]),P2(u,t[1],t[0]),gr(r,r,u),A2(n,e[0],e[1]),A2(u,t[0],t[1]),gr(n,n,u),gr(i,e[3],t[3]),gr(i,i,jfe),gr(o,e[2],t[2]),A2(o,o,o),P2(a,n,r),P2(l,o,i),A2(f,o,i),A2(c,n,r),gr(e[0],a,l),gr(e[1],c,f),gr(e[2],f,l),gr(e[3],a,c)}s(ZP,"add");function Zz(e,t,r){for(var n=0;n<4;++n)oK(e[n],t[n],r)}s(Zz,"cswap");function eR(e,t){var r=Yt(),n=Yt(),i=Yt();Xfe(i,t[2]),gr(r,t[0],i),gr(n,t[1],i),iv(e,n),e[31]^=iK(r)<<7}s(eR,"pack");function iv(e,t){var r,n,i,o=Yt(),a=Yt();for(r=0;r<16;++r)a[r]=t[r];for(YP(a),YP(a),YP(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,oK(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}s(iv,"pack25519");function Kfe(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt();return o1(e[2],nv),Gfe(e[1],t),Dd(i,e[1]),gr(o,i,qfe),P2(i,i,e[2]),A2(o,e[2],o),Dd(a,o),Dd(l,a),gr(f,l,a),gr(r,f,i),gr(r,r,o),Wfe(r,r),gr(r,r,i),gr(r,r,o),gr(r,r,o),gr(e[0],r,o),Dd(n,e[0]),gr(n,n,o),eK(n,i)&&gr(e[0],e[0],$fe),Dd(n,e[0]),gr(n,n,o),eK(n,i)?-1:(iK(e[0])===t[31]>>7&&P2(e[0],JP,e[0]),gr(e[3],e[0],e[1]),0)}s(Kfe,"unpackneg");function Gfe(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}s(Gfe,"unpack25519");function Wfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Dd(r,r),n!==1&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(Wfe,"pow2523");function eK(e,t){var r=new hs(32),n=new hs(32);return iv(r,e),iv(n,t),nK(r,0,n,0)}s(eK,"neq25519");function nK(e,t,r,n){return Yfe(e,t,r,n,32)}s(nK,"crypto_verify_32");function Yfe(e,t,r,n,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}s(Yfe,"vn");function iK(e){var t=new hs(32);return iv(t,e),t[0]&1}s(iK,"par25519");function sK(e,t,r){var n,i;for(o1(e[0],JP),o1(e[1],nv),o1(e[2],nv),o1(e[3],JP),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Zz(e,t,n),ZP(t,e),ZP(e,e),Zz(e,t,n)}s(sK,"scalarmult");function tR(e,t){var r=[Yt(),Yt(),Yt(),Yt()];o1(r[0],Jz),o1(r[1],Qz),o1(r[2],nv),gr(r[3],Jz,Qz),sK(e,r,t)}s(tR,"scalarbase");function o1(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}s(o1,"set25519");function Xfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Dd(r,r),n!==2&&n!==4&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(Xfe,"inv25519");function YP(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}s(YP,"car25519");function oK(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}s(oK,"sel25519");function Yt(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}s(Yt,"gf");function A2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}s(A2,"A");function P2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}s(P2,"Z");function Dd(e,t){gr(e,t,t)}s(Dd,"S");function gr(e,t,r){var n,i,o=0,a=0,l=0,f=0,c=0,u=0,d=0,g=0,p=0,y=0,_=0,S=0,E=0,A=0,P=0,U=0,k=0,L=0,Q=0,te=0,Ce=0,De=0,pe=0,Ie=0,ie=0,Z=0,_e=0,Ae=0,be=0,Ke=0,ce=0,ve=r[0],le=r[1],Ee=r[2],mt=r[3],Et=r[4],dt=r[5],ze=r[6],n0=r[7],G=r[8],Je=r[9],he=r[10],Xe=r[11],Ve=r[12],nt=r[13],wt=r[14],Mt=r[15];n=t[0],o+=n*ve,a+=n*le,l+=n*Ee,f+=n*mt,c+=n*Et,u+=n*dt,d+=n*ze,g+=n*n0,p+=n*G,y+=n*Je,_+=n*he,S+=n*Xe,E+=n*Ve,A+=n*nt,P+=n*wt,U+=n*Mt,n=t[1],a+=n*ve,l+=n*le,f+=n*Ee,c+=n*mt,u+=n*Et,d+=n*dt,g+=n*ze,p+=n*n0,y+=n*G,_+=n*Je,S+=n*he,E+=n*Xe,A+=n*Ve,P+=n*nt,U+=n*wt,k+=n*Mt,n=t[2],l+=n*ve,f+=n*le,c+=n*Ee,u+=n*mt,d+=n*Et,g+=n*dt,p+=n*ze,y+=n*n0,_+=n*G,S+=n*Je,E+=n*he,A+=n*Xe,P+=n*Ve,U+=n*nt,k+=n*wt,L+=n*Mt,n=t[3],f+=n*ve,c+=n*le,u+=n*Ee,d+=n*mt,g+=n*Et,p+=n*dt,y+=n*ze,_+=n*n0,S+=n*G,E+=n*Je,A+=n*he,P+=n*Xe,U+=n*Ve,k+=n*nt,L+=n*wt,Q+=n*Mt,n=t[4],c+=n*ve,u+=n*le,d+=n*Ee,g+=n*mt,p+=n*Et,y+=n*dt,_+=n*ze,S+=n*n0,E+=n*G,A+=n*Je,P+=n*he,U+=n*Xe,k+=n*Ve,L+=n*nt,Q+=n*wt,te+=n*Mt,n=t[5],u+=n*ve,d+=n*le,g+=n*Ee,p+=n*mt,y+=n*Et,_+=n*dt,S+=n*ze,E+=n*n0,A+=n*G,P+=n*Je,U+=n*he,k+=n*Xe,L+=n*Ve,Q+=n*nt,te+=n*wt,Ce+=n*Mt,n=t[6],d+=n*ve,g+=n*le,p+=n*Ee,y+=n*mt,_+=n*Et,S+=n*dt,E+=n*ze,A+=n*n0,P+=n*G,U+=n*Je,k+=n*he,L+=n*Xe,Q+=n*Ve,te+=n*nt,Ce+=n*wt,De+=n*Mt,n=t[7],g+=n*ve,p+=n*le,y+=n*Ee,_+=n*mt,S+=n*Et,E+=n*dt,A+=n*ze,P+=n*n0,U+=n*G,k+=n*Je,L+=n*he,Q+=n*Xe,te+=n*Ve,Ce+=n*nt,De+=n*wt,pe+=n*Mt,n=t[8],p+=n*ve,y+=n*le,_+=n*Ee,S+=n*mt,E+=n*Et,A+=n*dt,P+=n*ze,U+=n*n0,k+=n*G,L+=n*Je,Q+=n*he,te+=n*Xe,Ce+=n*Ve,De+=n*nt,pe+=n*wt,Ie+=n*Mt,n=t[9],y+=n*ve,_+=n*le,S+=n*Ee,E+=n*mt,A+=n*Et,P+=n*dt,U+=n*ze,k+=n*n0,L+=n*G,Q+=n*Je,te+=n*he,Ce+=n*Xe,De+=n*Ve,pe+=n*nt,Ie+=n*wt,ie+=n*Mt,n=t[10],_+=n*ve,S+=n*le,E+=n*Ee,A+=n*mt,P+=n*Et,U+=n*dt,k+=n*ze,L+=n*n0,Q+=n*G,te+=n*Je,Ce+=n*he,De+=n*Xe,pe+=n*Ve,Ie+=n*nt,ie+=n*wt,Z+=n*Mt,n=t[11],S+=n*ve,E+=n*le,A+=n*Ee,P+=n*mt,U+=n*Et,k+=n*dt,L+=n*ze,Q+=n*n0,te+=n*G,Ce+=n*Je,De+=n*he,pe+=n*Xe,Ie+=n*Ve,ie+=n*nt,Z+=n*wt,_e+=n*Mt,n=t[12],E+=n*ve,A+=n*le,P+=n*Ee,U+=n*mt,k+=n*Et,L+=n*dt,Q+=n*ze,te+=n*n0,Ce+=n*G,De+=n*Je,pe+=n*he,Ie+=n*Xe,ie+=n*Ve,Z+=n*nt,_e+=n*wt,Ae+=n*Mt,n=t[13],A+=n*ve,P+=n*le,U+=n*Ee,k+=n*mt,L+=n*Et,Q+=n*dt,te+=n*ze,Ce+=n*n0,De+=n*G,pe+=n*Je,Ie+=n*he,ie+=n*Xe,Z+=n*Ve,_e+=n*nt,Ae+=n*wt,be+=n*Mt,n=t[14],P+=n*ve,U+=n*le,k+=n*Ee,L+=n*mt,Q+=n*Et,te+=n*dt,Ce+=n*ze,De+=n*n0,pe+=n*G,Ie+=n*Je,ie+=n*he,Z+=n*Xe,_e+=n*Ve,Ae+=n*nt,be+=n*wt,Ke+=n*Mt,n=t[15],U+=n*ve,k+=n*le,L+=n*Ee,Q+=n*mt,te+=n*Et,Ce+=n*dt,De+=n*ze,pe+=n*n0,Ie+=n*G,ie+=n*Je,Z+=n*he,_e+=n*Xe,Ae+=n*Ve,be+=n*nt,Ke+=n*wt,ce+=n*Mt,o+=38*k,a+=38*L,l+=38*Q,f+=38*te,c+=38*Ce,u+=38*De,d+=38*pe,g+=38*Ie,p+=38*ie,y+=38*Z,_+=38*_e,S+=38*Ae,E+=38*be,A+=38*Ke,P+=38*ce,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=l,e[3]=f,e[4]=c,e[5]=u,e[6]=d,e[7]=g,e[8]=p,e[9]=y,e[10]=_,e[11]=S,e[12]=E,e[13]=A,e[14]=P,e[15]=U}s(gr,"M")});var dK=ae((YTe,uK)=>{var Ms=_0();W0();vo();s6();uK.exports=Ms.kem=Ms.kem||{};var fK=Ms.jsbn.BigInteger;Ms.kem.rsa={};Ms.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Ms.random,n={};return n.encrypt=function(i,o){var a=Math.ceil(i.n.bitLength()/8),l;do l=new fK(Ms.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(fK.ONE)<=0);l=Ms.util.hexToBytes(l.toString(16));var f=a-l.length;f>0&&(l=Ms.util.fillString("\0",f)+l);var c=i.encrypt(l,"NONE"),u=e.generate(l,o);return{encapsulation:c,key:u}},n.decrypt=function(i,o,a){var l=i.decrypt(o,"NONE");return e.generate(l,a)},n};Ms.kem.kdf1=function(e,t){cK(this,e,0,t||e.digestLength)};Ms.kem.kdf2=function(e,t){cK(this,e,1,t||e.digestLength)};function cK(e,t,r,n){e.generate=function(i,o){for(var a=new Ms.util.ByteBuffer,l=Math.ceil(o/n)+r,f=new Ms.util.ByteBuffer,c=r;c<l;++c){f.putInt32(c),t.start(),t.update(i+f.getBytes());var u=t.digest();a.putBytes(u.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}s(cK,"_createKDF")});var pK=ae((JTe,gK)=>{var M0=_0();W0();gK.exports=M0.log=M0.log||{};M0.log.levels=["none","error","warning","info","debug","verbose","max"];var sv={},iR=[],d6=null;M0.log.LEVEL_LOCKED=2;M0.log.NO_LEVEL_CHECK=4;M0.log.INTERPOLATE=8;for(nl=0;nl<M0.log.levels.length;++nl)rR=M0.log.levels[nl],sv[rR]={index:nl,name:rR.toUpperCase()};var rR,nl;M0.log.logMessage=function(e){for(var t=sv[e.level].index,r=0;r<iR.length;++r){var n=iR[r];if(n.flags&M0.log.NO_LEVEL_CHECK)n.f(e);else{var i=sv[n.level].index;t<=i&&n.f(n,e)}}};M0.log.prepareStandard=function(e){"standard"in e||(e.standard=sv[e.level].name+" ["+e.category+"] "+e.message)};M0.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=M0.util.format.apply(this,t)}};M0.log.prepareStandardFull=function(e){"standardFull"in e||(M0.log.prepareStandard(e),e.standardFull=e.standard)};for(nR=["error","warning","info","debug","verbose"],nl=0;nl<nR.length;++nl)(function(t){M0.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};M0.log.logMessage(o)}})(nR[nl]);var nR,nl;M0.log.makeLogger=function(e){var t={flags:0,f:e};return M0.log.setLevel(t,"none"),t};M0.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&M0.log.LEVEL_LOCKED))for(var n=0;n<M0.log.levels.length;++n){var i=M0.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};M0.log.lock=function(e,t){typeof t>"u"||t?e.flags|=M0.log.LEVEL_LOCKED:e.flags&=~M0.log.LEVEL_LOCKED};M0.log.addLogger=function(e){iR.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(hK={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h6=s(function(e,t){M0.log.prepareStandard(t);var r=hK[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),R2=M0.log.makeLogger(h6)):(h6=s(function(t,r){M0.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),R2=M0.log.makeLogger(h6)),M0.log.setLevel(R2,"debug"),M0.log.addLogger(R2),d6=R2):console={log:function(){}};var R2,hK,h6;d6!==null&&typeof window<"u"&&window.location&&(u6=new URL(window.location.href).searchParams,u6.has("console.level")&&M0.log.setLevel(d6,u6.get("console.level").slice(-1)[0]),u6.has("console.lock")&&(mK=u6.get("console.lock").slice(-1)[0],mK=="true"&&M0.log.lock(d6)));var u6,mK;M0.log.consoleLogger=d6});var vK=ae((ZTe,yK)=>{yK.exports=Ya();My();T2();yP();KP()});var bK=ae((eEe,_K)=>{var ut=_0();Qc();ra();n6();Zc();wd();kP();vo();W0();Qy();var de=ut.asn1,Hi=_K.exports=ut.pkcs7=ut.pkcs7||{};Hi.messageFromPem=function(e){var t=ut.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=de.fromDer(t.body);return Hi.messageFromAsn1(n)};Hi.messageToPem=function(e,t){var r={type:"PKCS7",body:de.toDer(e.toAsn1()).getBytes()};return ut.pem.encode(r,{maxline:t})};Hi.messageFromAsn1=function(e){var t={},r=[];if(!de.validate(e,Hi.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=de.derToOid(t.contentType),o;switch(i){case ut.pki.oids.envelopedData:o=Hi.createEnvelopedData();break;case ut.pki.oids.encryptedData:o=Hi.createEncryptedData();break;case ut.pki.oids.signedData:o=Hi.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};Hi.createSignedData=function(){var e=null;return e={type:ut.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(oR(e,n,Hi.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(ut.pki.certificateFromAsn1(i[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(ut.pki.certificateToAsn1(e.certificates[i]));var o=[],a=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.signerInfos)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=ut.pki.certificateFromPem(a)),i=a.issuer.attributes,o=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=ut.pki.privateKeyFromPem(l));var f=n.digestAlgorithm||ut.pki.oids.sha1;switch(f){case ut.pki.oids.sha1:case ut.pki.oids.sha256:case ut.pki.oids.sha384:case ut.pki.oids.sha512:case ut.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+f)}var c=n.authenticatedAttributes||[];if(c.length>0){for(var u=!1,d=!1,g=0;g<c.length;++g){var p=c[g];if(!u&&p.type===ut.pki.oids.contentType){if(u=!0,d)break;continue}if(!d&&p.type===ut.pki.oids.messageDigest){if(d=!0,u)break;continue}}if(!u||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:o,digestAlgorithm:f,signatureAlgorithm:ut.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof ut.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=ut.util.encodeUtf8(e.content)),n.detached?e.detachedContent=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();r(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=ut.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var o=e.signers[i],a=o.digestAlgorithm;a in n||(n[a]=ut.md[ut.pki.oids[a]].create()),o.authenticatedAttributes.length===0?o.md=n[a]:o.md=ut.md[ut.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(a).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]));return n}s(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=de.derToOid(e.contentInfo.value[0].value),a=de.toDer(i);a.getByte(),de.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var f=new Date,c=0;c<e.signers.length;++c){var u=e.signers[c];if(u.authenticatedAttributes.length===0){if(o!==ut.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{u.authenticatedAttributesAsn1=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[]),g=0;g<u.authenticatedAttributes.length;++g){var p=u.authenticatedAttributes[g];p.type===ut.pki.oids.messageDigest?p.value=n[u.digestAlgorithm].digest():p.type===ut.pki.oids.signingTime&&(p.value||(p.value=f)),d.value.push(sR(p)),u.authenticatedAttributesAsn1.value.push(sR(p))}a=de.toDer(d).getBytes(),u.md.start().update(a)}u.signature=u.key.sign(u.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=rce(e.signers)}s(r,"addSignerInfos")};Hi.createEncryptedData=function(){var e=null;return e={type:ut.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){oR(e,t,Hi.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),xK(e)}},e};Hi.createEnvelopedData=function(){var e=null;return e={type:ut.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=oR(e,t,Hi.asn1.envelopedDataValidator);e.recipients=Zfe(r.recipientInfos.value)},toAsn1:function(){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,ece(e.recipients)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,nce(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(o[l].type!==r[l].type||o[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:case ut.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=ut.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}xK(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:ut.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,o;switch(r){case ut.pki.oids["aes128-CBC"]:n=16,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes192-CBC"]:n=24,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes256-CBC"]:n=32,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=ut.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=ut.util.createBuffer(ut.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=ut.util.createBuffer(ut.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var f=e.recipients[l];if(f.encryptedContent.content===void 0)switch(f.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:f.encryptedContent.content=f.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm)}}}},e};function Jfe(e){var t={},r=[];if(!de.validate(e,Hi.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:ut.pki.RDNAttributesAsArray(t.issuer),serialNumber:ut.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:de.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}s(Jfe,"_recipientFromAsn1");function Qfe(e){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.encryptedContent.algorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.encryptedContent.content)])}s(Qfe,"_recipientToAsn1");function Zfe(e){for(var t=[],r=0;r<e.length;++r)t.push(Jfe(e[r]));return t}s(Zfe,"_recipientsFromAsn1");function ece(e){for(var t=[],r=0;r<e.length;++r)t.push(Qfe(e[r]));return t}s(ece,"_recipientsToAsn1");function tce(e){var t=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.digestAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.signatureAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=de.create(de.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(sR(i))}t.value.push(r)}return t}s(tce,"_signerToAsn1");function rce(e){for(var t=[],r=0;r<e.length;++r)t.push(tce(e[r]));return t}s(rce,"_signersToAsn1");function sR(e){var t;if(e.type===ut.pki.oids.contentType)t=de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.value).getBytes());else if(e.type===ut.pki.oids.messageDigest)t=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===ut.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=de.utcTimeToDate(i):i=de.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?t=de.create(de.Class.UNIVERSAL,de.Type.UTCTIME,!1,de.dateToUtcTime(i)):t=de.create(de.Class.UNIVERSAL,de.Type.GENERALIZEDTIME,!1,de.dateToGeneralizedTime(i))}return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[t])])}s(sR,"_attributeToAsn1");function nce(e){return[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.algorithm).getBytes()),e.parameter?de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.content.getBytes())])]}s(nce,"_encryptedContentToAsn1");function oR(e,t,r){var n={},i=[];if(!de.validate(t,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var a=de.derToOid(n.contentType);if(a!==ut.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(ut.util.isArray(n.encryptedContent))for(var f=0;f<n.encryptedContent.length;++f){if(n.encryptedContent[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[f].value}else l=n.encryptedContent;e.encryptedContent={algorithm:de.derToOid(n.encAlgorithm),parameter:ut.util.createBuffer(n.encParameter.value),content:ut.util.createBuffer(l)}}if(n.content){var l="";if(ut.util.isArray(n.content))for(var f=0;f<n.content.length;++f){if(n.content[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[f].value}else l=n.content;e.content=ut.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}s(oR,"_fromAsn1");function xK(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case ut.pki.oids["aes128-CBC"]:case ut.pki.oids["aes192-CBC"]:case ut.pki.oids["aes256-CBC"]:t=ut.aes.createDecryptionCipher(e.encryptedContent.key);break;case ut.pki.oids.desCBC:case ut.pki.oids["des-EDE3-CBC"]:t=ut.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s(xK,"_decryptContent")});var TK=ae((rEe,CK)=>{var hn=_0();Qc();x2();My();T2();W0();var av=CK.exports=hn.ssh=hn.ssh||{};av.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var a=hn.util.createBuffer();k2(a,n),il(a,e.e),il(a,e.n);var l=hn.util.encode64(a.bytes(),64),f=Math.floor(l.length/66)+1;o+="Public-Lines: "+f+`\r
`,o+=l;var c=hn.util.createBuffer();il(c,e.d),il(c,e.p),il(c,e.q),il(c,e.qInv);var u;if(!t)u=hn.util.encode64(c.bytes(),64);else{var d=c.length()+16-1;d-=d%16;var g=ov(c.bytes());g.truncate(g.length()-d+c.length()),c.putBuffer(g);var p=hn.util.createBuffer();p.putBuffer(ov("\0\0\0\0",t)),p.putBuffer(ov("\0\0\0",t));var y=hn.aes.createEncryptionCipher(p.truncate(8),"CBC");y.start(hn.util.createBuffer().fillWithByte(0,16)),y.update(c.copy()),y.finish();var _=y.output;_.truncate(16),u=hn.util.encode64(_.bytes(),64)}f=Math.floor(u.length/66)+1,o+=`\r
Private-Lines: `+f+`\r
`,o+=u;var S=ov("putty-private-key-file-mac-key",t),E=hn.util.createBuffer();k2(E,n),k2(E,i),k2(E,r),E.putInt32(a.length()),E.putBuffer(a),E.putInt32(c.length()),E.putBuffer(c);var A=hn.hmac.create();return A.start("sha1",S),A.update(E.bytes()),o+=`\r
Private-MAC: `+A.digest().toHex()+`\r
`,o};av.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=hn.util.createBuffer();return k2(n,r),il(n,e.e),il(n,e.n),r+" "+hn.util.encode64(n.bytes())+" "+t};av.privateKeyToOpenSSH=function(e,t){return t?hn.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):hn.pki.privateKeyToPem(e)};av.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||hn.md.md5.create(),n="ssh-rsa",i=hn.util.createBuffer();k2(i,n),il(i,e.e),il(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function il(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=hn.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}s(il,"_addBigIntegerToBuffer");function k2(e,t){e.putInt32(t.length),e.putString(t)}s(k2,"_addStringToBuffer");function ov(){for(var e=hn.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}s(ov,"_sha1")});var SK=ae((iEe,EK)=>{EK.exports=_0();Qc();Vz();ra();ky();n6();lK();x2();dK();pK();vK();NP();$y();wd();wP();BP();bK();FP();AP();vP();Yy();vo();bP();TK();HP();W0()});var wK=ae((sEe,ice)=>{ice.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var PK=ae((oEe,aR)=>{var fv=SK(),IK=wK(),lv=aR.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function AK(e){let t=fv.pki.pemToDer(e),r=fv.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(o);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}s(AK,"myASN");function sce(e){let t=AK(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),i=t.valid.value.map(a=>a.value).join(" - "),o=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${i}`,`Saved	${r.toLocaleDateString()} ${o} by ${IK.name}@${IK.version}`,String(e)].join(`
`)}s(sce,"txtFormat");aR.exports.transform=function(e){return function(t){try{switch(e){case lv.der:return fv.pki.pemToDer(t);case lv.pem:return t;case lv.txt:return sce(t);case lv.asn1:return AK(t);default:return fv.pki.certificateFromPem(t)}}catch{return}}}});var RK=ae((lEe,N2)=>{var lR=require("https"),fR=PK();if(process.platform!=="darwin")N2.exports.all=()=>[],N2.exports.each=()=>{};else{let l=function(c,u,d){return d.indexOf(c)===u};oce=l,s(l,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],i=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),o=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);lR.globalAgent.options.ca=lR.globalAgent.options.ca||[];let a=lR.globalAgent.options.ca,f=i.concat(o);f.filter(l).forEach(c=>a.push(c)),N2.exports.der2=fR.validFormats,N2.exports.all=function(c){return f.map(fR.transform(c)).filter(u=>u)},N2.exports.each=function(c,u){return typeof c=="function"&&(u=c,c=void 0),f.map(fR.transform(c)).filter(d=>d).forEach(u)}}var oce});var kK=ae((cEe,cR)=>{function ace(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],o=new n.Crypt32;try{let a;for(;a=o.next();){let l=new e(a);i.push(l.toString())}}finally{o.done()}return Array.from(new Set(i))}s(ace,"all");process.platform!=="win32"?cR.exports.all=()=>[]:cR.exports.all=ace});var FK=ae((gEe,OK)=>{var uv=require("path").sep||"/";OK.exports=fce;function fce(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),i=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=uv+uv+n),i=i.replace(/^(.+)\|/,"$1:"),uv=="\\"&&(i=i.replace(/\//g,"\\")),/^.+\:/.test(i)||(i=uv+i),n+i}s(fce,"fileUriToPath")});var $K=ae((mv,jK)=>{var AR=require("fs"),hv=require("path"),cce=FK(),dv=hv.join,qK=hv.dirname,MK=AR.accessSync&&function(e){try{AR.accessSync(e)}catch{return!1}return!0}||AR.existsSync||hv.existsSync,UK={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function uce(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(UK).map(function(f){f in e||(e[f]=UK[f])}),e.module_root||(e.module_root=qK(__filename)),hv.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,a,l;n<i;n++){o=dv.apply(null,e.try[n].map(function(f){return e[f]||f})),r.push(o);try{return a=e.path?t.resolve(o):t(o),e.path||(a.path=o),a}catch(f){if(f.code!=="MODULE_NOT_FOUND"&&f.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(f.message))throw f}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(f){return e.arrow+f}).join(`
`)),l.tries=r,l}s(uce,"bindings");jK.exports=mv=uce;mv.getFileName=s(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,i={},o;Error.stackTraceLimit=10,Error.prepareStackTrace=function(l,f){for(var c=0,u=f.length;c<u;c++)if(o=f[c].getFileName(),o!==__filename)if(t){if(o!==t)return}else return},Error.captureStackTrace(i),new Error(i.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return o.indexOf(a)===0&&(o=cce(o)),o},"getFileName");mv.getRoot=s(function(t){for(var r=qK(t),n;;){if(r==="."&&(r=process.cwd()),MK(dv(r,"package.json"))||MK(dv(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=dv(r,"..")}},"getRoot")});var zK=ae((vEe,VK)=>{"use strict";function HK(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(o=>o.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}s(HK,"validateParameter");function dce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(dce,"hasOwnProperty");function hce(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let o=0,a=0;o<t.length;++o,++a){let l=t[o],f=r[a];dce(l,"default")&&f==null&&(f=l.default),l.type==="object"&&l.default!=null&&(f=Object.assign({},l.default,f)),l.name==="options"&&(typeof f=="function"||f==null)&&(f={}),HK(f,t,o)?n.push(f):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((o,a)=>{n.push((l,f)=>{if(l)return a(l);o(f)}),e.apply(this,n)});e.apply(this,n)}}s(hce,"defineOperation");VK.exports={defineOperation:hce,validateParameter:HK}});var PR=ae((_Ee,WK)=>{"use strict";var L2=$K()("kerberos"),D2=L2.KerberosClient,KK=L2.KerberosServer,a1=zK().defineOperation,mce=1,gce=2,pce=4,yce=8,vce=16,xce=32,_ce=64,bce=128,Cce=256,GK=0,Tce=9,Ece=6;D2.prototype.step=a1(D2.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);D2.prototype.wrap=a1(D2.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);D2.prototype.unwrap=a1(D2.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);KK.prototype.step=a1(KK.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Sce=a1(L2.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),wce=a1(L2.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Ice=a1(L2.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:GK}},{name:"callback",type:"function",required:!1}]),Ace=a1(L2.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);WK.exports={initializeClient:Ice,initializeServer:Ace,principalDetails:wce,checkPassword:Sce,GSS_C_DELEG_FLAG:mce,GSS_C_MUTUAL_FLAG:gce,GSS_C_REPLAY_FLAG:pce,GSS_C_SEQUENCE_FLAG:yce,GSS_C_CONF_FLAG:vce,GSS_C_INTEG_FLAG:xce,GSS_C_ANON_FLAG:_ce,GSS_C_PROT_READY_FLAG:bce,GSS_C_TRANS_FLAG:Cce,GSS_C_NO_OID:GK,GSS_MECH_OID_KRB5:Tce,GSS_MECH_OID_SPNEGO:Ece}});var YK=ae((bEe,Pce)=>{Pce.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var JK=ae((CEe,XK)=>{"use strict";var Rce=require("dns"),kce=PR(),kR=class kR{constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Nce(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function o(a,l,f){if(!a)return f();Rce.resolveCname(l,(c,u)=>{if(c)return f(c);Array.isArray(u)&&u.length>0&&(i.host=u[0]),f()})}s(o,"performGssapiCanonicalizeHostName"),o(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let f=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;kce.initializeClient(f,l,(c,u)=>{if(c)return n(c,null);i.client=u,n(null,u)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};s(kR,"MongoAuthProcess");var RR=kR;function Nce(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Dce(e),r(null,i)})}}s(Nce,"firstTransition");function Dce(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=Lce(e),r(null,i||"")})}}s(Dce,"secondTransition");function Lce(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(o,a)=>{if(o)return r(o,!1);e._transition=Bce(e),r(null,a)})})}}s(Lce,"thirdTransition");function Bce(e){return(t,r)=>{e._transition=null,r(null,!0)}}s(Bce,"fourthTransition");XK.exports={MongoAuthProcess:RR}});var ZK=ae((EEe,m6)=>{"use strict";var QK=PR();m6.exports=QK;m6.exports.Kerberos=QK;m6.exports.version=YK().version;m6.exports.processes={MongoAuthProcess:JK().MongoAuthProcess}});var tf=O0(es()),Vw=O0(fN()),vp=O0(Ih());var yD=O0(require("crypto"));var Zg=new Uint8Array(256),Qg=Zg.length;function B_(){return Qg>Zg.length-16&&(yD.default.randomFillSync(Zg),Qg=0),Zg.slice(Qg,Qg+=16)}s(B_,"rng");var Zn=[];for(let e=0;e<256;++e)Zn.push((e+256).toString(16).slice(1));function vD(e,t=0){return Zn[e[t+0]]+Zn[e[t+1]]+Zn[e[t+2]]+Zn[e[t+3]]+"-"+Zn[e[t+4]]+Zn[e[t+5]]+"-"+Zn[e[t+6]]+Zn[e[t+7]]+"-"+Zn[e[t+8]]+Zn[e[t+9]]+"-"+Zn[e[t+10]]+Zn[e[t+11]]+Zn[e[t+12]]+Zn[e[t+13]]+Zn[e[t+14]]+Zn[e[t+15]]}s(vD,"unsafeStringify");var xD=O0(require("crypto")),O_={randomUUID:xD.default.randomUUID};function RX(e,t,r){if(O_.randomUUID&&!t&&!e)return O_.randomUUID();e=e||{};let n=e.random||(e.rng||B_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return vD(n)}s(RX,"v4");var Bu=RX;var xp=O0(YO());var uT=class uT extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};s(uT,"CopilotAuthError");var zl=uT;Fh();var Mh="github.copilot";Nc();var LE=class LE{now(){return new Date}};s(LE,"Clock");var Zu=LE;var jM=O0(Ih());var BE=class BE{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};s(BE,"LRUCacheMap");var Cr=BE;var Pq=require("events");var T7=class T7{constructor(t){this.flags=t}static fromEnvironment(t,r=process.argv,n=process.env){return new T7({debug:HM(r,n),verboseLogging:PZ(r,n),testMode:t,simulation:AZ(n)})}};s(T7,"RuntimeMode");var ed=T7;function td(e){return e.get(ed).flags.testMode}s(td,"isRunningInTest");function e8(e){return td(e)}s(e8,"shouldFailForDebugPurposes");function $M(e){return e.get(ed).flags.verboseLogging}s($M,"isVerboseLoggingEnabled");function HM(e,t){return e.includes("--debug")||OE(t,"DEBUG")}s(HM,"determineDebugFlag");function AZ(e){return OE(e,"SIMULATION")}s(AZ,"determineSimulationFlag");function PZ(e,t){var r;return t.COPILOT_AGENT_VERBOSE==="1"||((r=t.COPILOT_AGENT_VERBOSE)==null?void 0:r.toLowerCase())==="true"||OE(t,"VERBOSE")||HM(e,t)}s(PZ,"determineVerboseLoggingEnabled");function OE(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}s(OE,"determineEnvFlagEnabled");var fn=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(fn||{});function VM(e){return $M(e)}s(VM,"verboseLogging");var FE=class FE{shouldLog(t,r){}};s(FE,"LogTarget");var L3=FE,ME=class ME extends L3{constructor(r){super();this.console=r}logIt(r,n,i,...o){n==1?this.console.error(i,...o):(n==2||VM(r))&&this.console.warn(i,...o)}};s(ME,"ConsoleLog");var E7=ME;var UE=class UE{constructor(t,r){this.maxLoggedLevel=t;this.context=r}setLevel(t){this.maxLoggedLevel=t}stringToLevel(t){return fn[t]}log(t,r,...n){let i=t.get(L3),o=i.shouldLog(t,r);if(o===!1||o===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;i.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){r8(t,r,cr.createAndMarkAsIssued({context:this.context,level:fn[1],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var l,f;if(VM(t))return!0;let i=Bc(t,Kr.DebugFilterLogCategories);if(i.length>0&&!i.includes(n))return!1;if(t8(t))return r<=this.maxLoggedLevel;let o=Bc(t,Kr.DebugOverrideLogLevels),a=(f=(l=this.stringToLevel(o["*"]))!=null?l:this.stringToLevel(o[this.context]))!=null?f:this.maxLoggedLevel;return r<=a}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.context}${n}`),so(t,r,n);let o=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,1,`${i}:`,o)}};s(UE,"Logger");var R0=UE;var B3=new R0(3,"default");var jE=class jE{};s(jE,"NotificationSender");var rd=jE;var Hhe=iU(),YE=class YE{};s(YE,"UrlOpener");var n8=YE;var jZ=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],sU="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",oU="https://gh.io/copilot-network-errors",XE=class XE{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){jZ.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new R0(1,"certificates").error(t,`${sU} Please visit ${oU} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(rd).showWarningMessage(sU,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(n8).open(oU)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};s(XE,"UserErrorNotifier");var nd=XE;var JE=class JE{};s(JE,"NetworkConfiguration");var ls=JE;var V3=O0(bq(),1),Y8e={ALPN_HTTP2:V3.default.ALPN_HTTP2,ALPN_HTTP2C:V3.default.ALPN_HTTP2C,ALPN_HTTP1_1:V3.default.ALPN_HTTP1_1,ALPN_HTTP1_0:V3.default.ALPN_HTTP1_0},{fetch:X8e,context:Cq,reset:J8e,noCache:Q8e,h1:Z8e,keepAlive:e6e,h1NoCache:t6e,keepAliveNoCache:r6e,cacheStats:n6e,clearCache:i6e,offPush:s6e,onPush:o6e,createUrl:a6e,timeoutSignal:l6e,Body:f6e,Headers:c6e,Request:u6e,Response:d6e,AbortController:Tq,AbortError:Eq,AbortSignal:h6e,FetchBaseError:m6e,FetchError:y8,ALPN_HTTP2:g6e,ALPN_HTTP2C:p6e,ALPN_HTTP1_1:y6e,ALPN_HTTP1_0:v6e}=V3.default;var wq=O0(require("util")),Iq=require("util");var HS=class HS{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};s(HS,"HeaderContributors");var Uc=HS;var v8,x8,KS=class KS{constructor(){P0(this,v8,void 0);P0(this,x8,void 0)}set rejectUnauthorized(t){v0(this,v8,t)}get rejectUnauthorized(){return je(this,v8)}set clientFetch(t){v0(this,x8,t)}get clientFetch(){return je(this,x8)}};v8=new WeakMap,x8=new WeakMap,s(KS,"Fetcher");var xn=KS;function VS(e){return e instanceof Eq||e.name==="AbortError"||e instanceof y8&&e.code==="ABORT_ERR"}s(VS,"isAbortError");var GS=class GS extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};s(GS,"JsonParseError");var z3=GS,WS=class WS extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};s(WS,"FetchResponseError");var qc=WS,N0e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function zS(e,t=!0){var r;return t&&(e!=null&&e.cause)&&zS(e.cause,!1)?!0:e instanceof y8||e instanceof Error&&e.name==="FetchError"||e instanceof z3||e instanceof qc||((r=e==null?void 0:e.message)==null?void 0:r.startsWith("net::"))||e instanceof Error&&N0e.has(e.code)}s(zS,"isNetworkError");var YS=class YS{constructor(t,r,n,i,o,a){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=o;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new z3(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let o=new Iq.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new z3(`Response body truncated: actualLength=${o}`,"Truncated"):new z3(`Response body truncated: actualLength=${o}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};s(YS,"Response");var Q7=YS,D0e=30*1e3;function Aq(e,t,r,n,i,o,a,l){let f={...l,Authorization:wq.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(cn).sessionId,"VScode-MachineId":e.get(cn).machineId,...Z7(e)};e.get(Uc).contributeHeaders(t,f),n&&(f["OpenAI-Intent"]=n);let c={method:"POST",headers:f,json:o,timeout:D0e},u=e.get(xn);if(a){let g=u.makeAbortController();a.onCancellationRequested(()=>{x0(e,"networking.cancelRequest",cr.createAndMarkAsIssued({headerRequestId:i})),g.abort()}),c.signal=g.signal}return u.fetch(t,c).catch(g=>{if(g.code=="ECONNRESET"||g.code=="ETIMEDOUT"||g.code=="ERR_HTTP2_INVALID_SESSION"||g.message=="ERR_HTTP2_GOAWAY_SESSION")return x0(e,"networking.disconnectAll"),u.disconnectAll().then(()=>u.fetch(t,c));throw g})}s(Aq,"postRequest");var XS="copilot-codex",L0e=new R0(4,"customModels"),JS=class JS{async getModels(t){let r=await t.get(ni).getCopilotToken(t);return new ep(r)}logModelsForToken(t,r){let i=new ep(r).getModelIds();i.length>1&&i.forEach(o=>L0e.info(t,`Available model: ${o}`))}};s(JS,"AvailableModelManager");var cd=JS,QS=class QS{constructor(t){this.token=t}getModelIds(){var r,n;return[...(n=(r=this.token.getTokenValue("cml"))==null?void 0:r.split(","))!=null?n:[],XS]}async getModelForResource(t,r,n=void 0){let i=Bc(t,Kr.DebugOverrideEngine);if(i)return new _8(i,XS===i);if(n){let a=t.get(un).customEngine(n);if(a)return new _8(a,XS===a)}let o=this.getModelIds();return new _8(o[0])}};s(QS,"AvailableModels");var ep=QS,ZS=class ZS{constructor(t,r=!1){this.modelId=t;this.forceBaseModel=r}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return this.forceBaseModel?{"X-Custom-Model":"disable"}:{}}};s(ZS,"ModelRequestInfo");var _8=ZS;var B0e=require("events"),ew=class ew extends B0e{constructor(){super(),this.setMaxListeners(14)}emit(t,r){return super.emit(t,r)}};s(ew,"CopilotTokenNotifier");var Fi=ew;var O0e=new R0(3,"auth");var rw=class rw{constructor(){this.tokenRefreshEventEmitter=new Pq.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};s(rw,"CopilotTokenManager");var ni=rw;var F0e=new R0(4,"chat");var Gq=O0(Hq()),E8=require("path"),S8=O0(ud());var aw=require("os"),tp=require("path"),K3=O0(ud());function C8(e){return Vq(e)}s(C8,"isSupportedUriScheme");function Vq(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}s(Vq,"isFsScheme");function zq(e){return Vq(e.scheme)&&(!e.authority||(0,aw.platform)()=="win32")}s(zq,"isFsUri");function Kq(e){if(zq(e))if((0,aw.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,tp.normalize)(t)}else return e.authority?void 0:e.path}s(Kq,"getFsPath");function T8(e,t){return zq(e)?K3.URI.file((0,tp.resolve)(Kq(e),t)):K3.Utils.resolvePath(e,Z0e(t))}s(T8,"resolveFilePath");function Z0e(e){return ere(e)?e.replaceAll("\\","/"):e}s(Z0e,"pathToURIPath");function ere(e){return/^[^/\\]*\\/.test(e)}s(ere,"isWinPath");function rp(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?K3.Utils.dirname(e).with({scheme:"file",fragment:""}):K3.Utils.dirname(e)}s(rp,"dirname");var lw=class lw{};s(lw,"FileSystem");var lo=lw;async function Wq(e){var i,o;let r=(i=(await e.get(ni).getCopilotToken(e,!1)).organization_list)!=null?i:[];return(o=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(a=>r.includes(a)))!=null?o:""}s(Wq,"getUserKind");async function Yq(e){var r;return(r=(await e.get(ni).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}s(Yq,"getFtFlag");function Xq(e){var n;if(e===void 0||e===0)return"";let t=w8(e);if(t==="github/github")return t;let r=(n=tre(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}s(Xq,"getDogFood");function w8(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}s(w8,"tryGetGitHubNWO");function tre(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}s(tre,"tryGetADONWO");function cw(e,t){let r=S8.Utils.dirname(t);return rre(e,r)}s(cw,"extractRepoInfoInBackground");var rre=are(nre,1e4);async function nre(e,t){var f;if(!C8(t.scheme))return;let r=await sre(e,t.fsPath);if(!r)return;let n=e.get(lo),i=(0,E8.join)(r,".git","config"),o;try{o=await n.readFileString(S8.URI.file(i))}catch{return}let a=(f=ore(o))!=null?f:"",l=ire(a);return l===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...l}}s(nre,"extractRepoInfo");function ire(e){let t={};try{if(t=(0,Gq.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}s(ire,"parseRepoUrl");async function sre(e,t){let r=t+"_add_to_make_longer",n=e.get(lo);for(;t.length>1&&t.length<r.length;){let i=(0,E8.join)(t,".git","config"),o=!1;try{await n.stat(S8.URI.file(i)),o=!0}catch{o=!1}if(o)return t;r=t,t=(0,E8.dirname)(t)}}s(sre,"getRepoBaseFolder");function ore(e){var f;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,o,a,l=!1;for(let c of e.split(`
`))if(l&&o!==void 0){if(o+=c,c.endsWith("\\"))o=o.substring(0,o.length-1);else if(l=!1,a==="origin")return o}else{let u=(f=c.match(t))!=null?f:c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(o&&a!=="origin")continue;{let d=c.match(n);if(d){if(o=d[1],o.endsWith("\\"))o=o.substring(0,o.length-1),l=!0;else if(a==="origin")return o}}}}return o}s(ore,"getRepoUrlFromConfigText");var uw=class uw{constructor(t){this.result=t}};s(uw,"CompletedComputation");var fw=uw;function are(e,t){let r=new Cr(t),n=new Set;return(i,...o)=>{let a=JSON.stringify(o),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let f=e(i,...o);return n.add(a),f.then(c=>{r.set(a,new fw(c)),n.delete(a)}),0}}s(are,"computeInBackgroundAndMemoize");var np=class np{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return Jq(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new np({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};s(np,"ExpConfig");var Jo=np;var dw=class dw{};s(dw,"ExpConfigMaker");var dd=dw,fre="https://default.exp-tas.com",hw=class hw extends dd{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var c;let i=r.get(xn),o;try{o=await i.fetch(fre+this.expPath,{method:"GET",headers:n})}catch(u){return Jo.createFallbackConfig(r,`Error fetching ExP config: ${u}`)}if(!o.ok)return Jo.createFallbackConfig(r,`ExP responded with ${o.status}`);let a;try{a=await o.json()}catch(u){if(u instanceof SyntaxError)return so(r,u,"fetchExperiments"),Jo.createFallbackConfig(r,"ExP responded with invalid JSON");throw u}let l=(c=a.Configs.find(u=>u.Id==="vscode"))!=null?c:{Id:"vscode",Parameters:{}},f=Object.entries(l.Parameters).map(([u,d])=>u+(d?"":"cf"));return new Jo(l.Parameters,a.AssignmentContext,f.join(";"))}};s(hw,"ExpConfigFromTAS");var ip=hw;var cre={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},sp=class sp{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=cre[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new sp({...this.filters,[t]:r})}};s(sp,"FilterSettings");var hd=sp;var gw=class gw{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};s(gw,"GranularityImplementation");var op=gw,pw=class pw extends op{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};s(pw,"ConstantGranularity");var mw=pw,Qq=s(e=>new mw(e),"DEFAULT_GRANULARITY"),yw=class yw extends op{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of o)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};s(yw,"TimeBucketGranularity");var ap=yw;var Zq="X-Copilot-ClientTimeBucket",vw=class vw{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=Qq(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new ap(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(Zq,n),otherFilterSettingsToPrefetch:i.map(o=>t.withChange(Zq,o))}}};s(vw,"GranularityDirectory");var lp=vw;var bw=class bw{constructor(t){this.ctx=t;this.cache=new Cr(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new _w(()=>this.ctx.get(dd).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};s(bw,"FilterSettingsToExpConfigs");var xw=bw,Cw=class Cw{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};s(Cw,"Task");var _w=Cw;function mre(e){return"uri"in e}s(mre,"isCompletionsFiltersInfo");var ef=class ef{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new xw(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r,n=cr.createAndMarkAsIssued()){var P,U,k,L,Q;if(n instanceof I8)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=r&&mre(r)?cw(t,r.uri):void 0,o=(P=w8(i))!=null?P:"",a=(U=Xq(i))!=null?U:"",l=await Wq(t),f=await Yq(t),c=(k=r==null?void 0:r.languageId)!=null?k:"",u={"X-Copilot-Repository":o,"X-Copilot-FileType":c,"X-Copilot-UserKind":l,"X-Copilot-Dogfood":a,"X-Copilot-CustomModel":f},d=this.getGranularityDirectory(),g=this.makeFilterSettings(u),p=d.extendFilters(g),y=await this.getExpConfig(p.newFilterSettings);d.update(g,+((L=y.variables.copilotbycallbuckets)!=null?L:NaN),+((Q=y.variables.copilottimeperiodsizeinh)!=null?Q:NaN));let _=d.extendFilters(g),S=_.newFilterSettings,E=await this.getExpConfig(S),A=new Promise(te=>setTimeout(te,ef.upcomingDynamicFilterCheckDelayMs));for(let te of _.otherFilterSettingsToPrefetch)A=A.then(async()=>{await new Promise(Ce=>setTimeout(Ce,ef.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(te)});return this.prepareForUpcomingFilters(S),new I8(n.properties,n.measurements,n.issuedTime,{filters:S,exp:E})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(cn).machineId;this.granularityDirectory=new lp(t,this.ctx.get(Zu))}return this.granularityDirectory}makeFilterSettings(t){return new hd({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Jo.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-ef.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,ef.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new hd({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:XF}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:YF}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:WF}similarFilesOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return"none";case"conservative":return"conservative";case"medium":return"medium";case"eager":return"eager";case"eagerbutlittle":return"eagerButLittle";case"eagerbutmedium":return"eagerButMedium";case"eagerbutmuch":return"eagerButMuch";default:return"eager"}}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}relatedFiles(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrelatedfiles)!=null?r:!1}maxPromptCompletionTokens(t){var r;return(r=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?r:GF+Wh}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}defaultCommentMarker(t){var i,o;let r=(i=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?i:void 0,n=(o=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?o:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.idechatgpt4maxtokens)!=null?r:-1}ideChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.idechatgpt4maxrequesttokens)!=null?r:-1}ideChatExpModelFamily(t){switch(t.filtersAndExp.exp.variables.idechatexpmodelfamily){case"gpt-4":return"gpt-4";case"gpt-4-turbo":return"gpt-4-turbo";case"gpt-4o":return"gpt-4o";case"gpt-3.5-turbo":return"gpt-3.5-turbo"}}ideChatExpModelId(t){var r;return(r=t.filtersAndExp.exp.variables.idechatexpmodelid)!=null?r:""}ideChatEnableProjectMetadata(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectmetadata)!=null?r:!1}ideChatMetaPromptVersion(t){var r;return(r=t.filtersAndExp.exp.variables.idechatmetapromptversion)!=null?r:""}ideChatIntentModel(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintentmodel)!=null?r:""}ideChatIntentThresholdPercent(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintentthresholdpercent)!=null?r:0}ideChatIntentTokenizer(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintenttokenizer)!=null?r:""}ideChatEnableProjectContext(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectcontext)!=null?r:!1}};s(ef,"Features"),ef.upcomingDynamicFilterCheckDelayMs=20,ef.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var un=ef;var tj=Tw(),Kr={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideRelatedFiles:"advanced.debug.overrideRelatedFiles",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var Ew=class Ew{};s(Ew,"BlockModeConfig");var W3=Ew,Sw=class Sw extends W3{async forLanguage(t,r,n){let i=t.get(un).overrideBlockMode(n);return i?pre(i,r):r=="ruby"?"parsing":ju(r)?"parsingandserver":"server"}};s(Sw,"ConfigBlockModeConfig");var fp=Sw;function pre(e,t){switch(e){case"parsing":return ju(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return ju(t)?"parsingandserver":"server"}}s(pre,"toApplicableBlockMode");var ww=class ww{};s(ww,"ConfigProvider");var md=ww,Iw=class Iw extends md{getConfig(t){return vre(t)}getOptionalConfig(t){return xre(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};s(Iw,"DefaultsOnlyConfigProvider");var cp=Iw;function yre(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}s(yre,"isContributesObject");function vre(e){if(G3.has(e))return G3.get(e);throw new Error(`Missing config default value: ${Mh}.${e}`)}s(vre,"getConfigDefaultForKey");function xre(e){return G3.get(e)}s(xre,"getOptionalConfigDefaultForKey");var G3=new Map([[Kr.DebugOverrideCppHeaders,!1],[Kr.DebugOverrideRelatedFiles,!1],[Kr.DebugUseEditorFetcher,null],[Kr.DebugUseElectronFetcher,null],[Kr.DebugOverrideLogLevels,{}],[Kr.DebugSnippyOverrideUrl,""],[Kr.ShowEditorCompletions,void 0],[Kr.DelayCompletions,void 0],[Kr.FilterCompletions,void 0]]);for(let e of Object.values(Kr)){let t=tj.contributes.configuration[0],r=[],n=`${Mh}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(yre(i))r.length=0,t=i;else if(n.length==0&&(i==null?void 0:i.default)!==void 0){if(G3.has(e))throw new Error(`Duplicate config default value ${Mh}.${e}`);G3.set(e,i.default)}}if(!G3.has(e))throw new Error(`Missing config default value ${Mh}.${e}`)}function Bc(e,t){return e.get(md).getConfig(t)}s(Bc,"getConfig");function rj(e){return e.get(md).dumpForTelemetry()}s(rj,"dumpForTelemetry");var Aw=class Aw{constructor(){this.packageJson=tj}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};s(Aw,"BuildInfo");var Mi=Aw;function t8(e){return e.get(Mi).isProduction()}s(t8,"isProduction");function tw(e){return e.get(Mi).getBuildType()}s(tw,"getBuildType");function nj(e){return e.get(Mi).getBuild()}s(nj,"getBuild");function ij(e){return e.get(Mi).getVersion()}s(ij,"getVersion");var Pw=class Pw{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}};s(Pw,"EditorSession");var cn=Pw;function Va({name:e,version:t}){return`${e}/${t}`}s(Va,"formatNameAndVersion");var Rw=class Rw{};s(Rw,"EditorAndPluginInfo");var kn=Rw;function Z7(e){let t=e.get(kn);return{"Editor-Version":Va(t.getEditorInfo()),"Editor-Plugin-Version":Va(t.getEditorPluginInfo())}}s(Z7,"editorVersionHeaders");var ej="Iv1.b507a08c87ecfe98",kw=class kw{findAppIdToAuthenticate(){var t;return(t=this.githubAppId)!=null?t:ej}fallbackAppId(){return ej}};s(kw,"GitHubAppInfo");var A8=kw;var up=O0(Ih()),dp=O0(require("os"));var Nw=class Nw{constructor(t,r,n,i){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=i!=null?i:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(Fi).on("onCopilotToken",r=>{var c;let n=r.getTokenValue("rt")==="1",i=(c=r.getTokenValue("ft"))!=null?c:"",o=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,f=r.getTokenValue("sku");o!==void 0&&(this.trackingId=o,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=l==null?void 0:l.toString(),this.sku=f,this.optedIn=n,this.ftFlag=i)})}};s(Nw,"TelemetryUserConfig");var Ii=Nw;var _re=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function bre(e){var n,i,o,a,l,f;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let c of r.slice(e.toString().length+1).split(/\n/).reverse()){let u=c.match(_re),d={filename:"",function:""};u&&(d.function=(a=(o=(i=u[2])==null?void 0:i.trim())==null?void 0:o.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:d.function,d.filename=(f=(l=u[4])==null?void 0:l.trim())!=null?f:d.filename,u[5]&&u[5]!==":0"&&(d.lineno=u[5].slice(1)),u[6]&&u[5]!==":0"&&(d.colno=u[6].slice(1)),d.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(d.filename)),t.stacktrace.push(d)}}return t}s(bre,"buildExceptionDetail");function Cre(e,t){var a,l;let r=e.get(kn),n=r.getEditorInfo(),i=e.get(Ii),o={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":Va({name:(l=n.devName)!=null?l:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":Va(r.getEditorPluginInfo()),"#session_id":e.get(cn).sessionId,"#machine_id":e.get(cn).machineId,"#architecture":dp.arch(),"#os_platform":dp.platform(),...t};return i.trackingId&&(o.user=i.trackingId,o["#tracking_id"]=i.trackingId),o}s(Cre,"buildContext");function sj(e,t){var c,u,d,g;let r=e.get(Mi),n=e.get(kn).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Cre(e,{"#node_version":process.versions.node}),sensitive_context:{}},o=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let p=bre(l);i.exception_detail.unshift(p),o.unshift([l,p]),a+=1,l=l.cause}let f=[];for(let[p,y]of o)if(y.stacktrace&&y.stacktrace.length>0){f.push(`${y.type}: ${(c=p.code)!=null?c:""}`);let _=[...y.stacktrace].reverse();for(let S of _)if((u=S.filename)!=null&&u.startsWith("./dist/"))return i;for(let S of _)if(S.in_app){f.push(`${(d=S.filename)==null?void 0:d.replace(/^\.\//,"")}:${S.lineno}:${S.colno}`);break}f.push(`${(g=_[0].filename)==null?void 0:g.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,up.SHA256)(up.enc.Utf16.parse(f.join(`
`))).toString()),i}s(sj,"buildPayload");var Dw=class Dw{constructor(t=5){this.perMinute=t;this.cache=new Cr}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perMinute).fill(0);return r-n[0]<6e4?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};s(Dw,"ExceptionRateLimiter");var gd=Dw;var cj=O0(aj()),uj=O0(fj()),za=O0(require("os"));var Lw=class Lw{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=s(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var o;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(o=t.headers)!=null?o:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(xn).fetch(t.urlString,i).then(a=>a.text().then(l=>{r(a.status,a.headers,l)})).catch(a=>{B3.error(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new uj.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(ls).getTelemetryUrl(),extensionConfig:{[cj.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Ere(t),this.commonProperties=Sre(t),t.get(Fi).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(Fi).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};s(Lw,"AppInsightsReporter");var Y3=Lw;function Ere(e){let t={},r=e.get(cn);t["ai.session.id"]=r.sessionId;let n=e.get(Ii);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${za.type()} ${za.release()}`,t["ai.device.osArchitecture"]=za.arch(),t["ai.device.osPlatform"]=za.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Mi).getVersion(),t}s(Ere,"getTags");function Sre(e){let t={};t.common_os=za.platform(),t.common_platformversion=za.release();let r=e.get(cn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}s(Sre,"getCommonProperties");var dj="7d7048df-6dd0-4048-bb23-b716c1461f8f",hj="3fdd7f28-937a-48c8-9a21-ba337db23bd1",wre="f0000000-0000-0000-0000-000000000000",Ow=class Ow{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let i=t.get(fo).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let o=t.get(fo);o.setReporter(new Y3(t,r,dj)),o.setRestrictedReporter(new Y3(t,r,hj)),o.setFTReporter(new Y3(t,r,wre,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};s(Ow,"TelemetryInitialization");var jc=Ow;function Bw(e,t,r){return e.get(jc).initialize(e,t,r)}s(Bw,"setupTelemetryReporters");var Fw=class Fw{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};s(Fw,"PromiseQueue");var Ui=Fw;var Mw=class Mw extends Ui{async awaitPromises(){await Promise.all(this.promises)}};s(Mw,"TestPromiseQueue");var gp=Mw;var Uw=class Uw{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};s(Uw,"FailingTelemetryReporter");var P8=Uw;var pj=require("os"),yj=O0(require("path"));function R8(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(R8,"redactPaths");var Ire=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Are=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function jw(e){if(Ire.has(e))return e;for(let t of Are)if(t.test(e))return e;return R8(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(jw,"redactMessage");function pp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(pp,"escapeForRegExp");var Pre=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+pp((0,pj.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function qw(e){return e.replace(Pre,"~")}s(qw,"redactHomeDir");var vj="[\\\\/]?([^:)]*)(?=:\\d)",mj=new RegExp(pp(yj.sep),"g"),gj=new RegExp(pp(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+vj,"gi");function $w(e,t,r=!1,n=[]){var l;let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let o=(l=e.stack)==null?void 0:l.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let f of[e.toString(),`${e.name}: ${e.message}`])if(o!=null&&o.startsWith(f+`
`)){a=o.slice(f.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let f of a)if(gj.test(f))i.stack+=`
${R8(f.replace(gj,(c,u)=>"./"+u.replace(mj,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(f))i.stack+=`
${R8(f)}`;else{let c=!1;for(let{prefix:u,path:d}of n){let g=new RegExp(pp(d.replace(/[\\/]$/,""))+vj,"gi");if(g.test(f)){i.stack+=`
${R8(f.replace(g,(p,y)=>u+y.replace(mj,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${qw(f)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&o&&(i.stack=qw(o));return e.cause instanceof Error&&(i.cause=$w(e.cause,t,r,n)),i}s($w,"cloneError");function xj(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}s(xj,"errorMessageWithoutPath");function _j(e,t){return $w(e,s(function(n){return qw(xj(n))},"prepareMessage"),!0,t)}s(_j,"prepareErrorForRestrictedTelemetry");function Hw(e,t,r=!1){return $w(e,s(function(i){if(r)return jw(xj(i));let o="[redacted]";return i.syscall&&i.code!==void 0?o=`${R8(i.syscall.toString())} ${i.code} ${o}`:i instanceof y8&&i.erroredSysCall&&i.code!==void 0?o=`${i.erroredSysCall} ${i.code} ${o}`:i.code!==void 0&&(o=`${i.code} ${o}`),o},"prepareMessage"),!1,t)}s(Hw,"redactError");function X3(e){return e===1}s(X3,"isRestricted");var Rre=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var Gw=class Gw{getReporter(t,r=0){return X3(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(_p(t))return this.reporterRestricted;if(e8(t))return new P8}getFTReporter(t){if(bj(t))return this.reporterFT;if(e8(t))return new P8}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};s(Gw,"TelemetryReporters");var fo=Gw,kre=tf.Type.Object({},{additionalProperties:tf.Type.String()}),Nre=tf.Type.Object({meanLogProb:tf.Type.Optional(tf.Type.Number()),meanAlternativeLogProb:tf.Type.Optional(tf.Type.Number())},{additionalProperties:tf.Type.Number()}),Dre=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Lre(e){var t;return Dre.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(Lre,"isOomError");function Bre(e){return zS(e)?"network":Lre(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Bre,"getErrorType");var _n=class _n{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new _n(t||{},r||{},rf())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new _n(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=rf())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(un).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=Va(t.get(kn).getEditorInfo()),this.properties.editor_plugin_version=Va(t.get(kn).getEditorPluginInfo());let r=t.get(cn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${ij(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(kn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=Va(n.getEditorInfo());let i=t.get(xn);this.properties.fetcher=i.name;let o=i.proxySettings;this.properties.proxy_enabled=o?"true":"false",this.properties.proxy_auth=o!=null&&o.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=o!=null&&o.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=rj(t);r["copilot.build"]=nj(t),r["copilot.buildType"]=tw(t);let n=t.get(Ii);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(X3(t))return r;let n={};for(let i in r)_n.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=_n.sanitizeKeys(this.properties),this.measurements=_n.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=_n.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}updateMeasurements(){let t=rf()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=rf()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=Mre())}validateData(t,r){var i;let n;if(_n.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([..._n.validateTelemetryProperties.Errors(this.properties)])}),!_n.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([..._n.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(e8(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return r8(t,"invalidTelemetryData",_n.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),X3(r)&&r8(t,"invalidTelemetryData_in_secure",_n.createAndMarkAsIssued({problem:n.problem,requestId:(i=this.properties.requestId)!=null?i:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),jre(t,this.properties)}};s(_n,"TelemetryData"),_n.validateTelemetryProperties=Vw.TypeCompiler.Compile(kre),_n.validateTelemetryMeasurements=Vw.TypeCompiler.Compile(Nre),_n.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],_n.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var cr=_n,k8=class k8 extends cr{constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new k8(n,i,this.issuedTime,this.filtersAndExp);return o.displayedTime=this.displayedTime,o}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new k8({},{},0,{filters:new hd({}),exp:Jo.createEmptyConfig()})}};s(k8,"TelemetryWithExp");var I8=k8;function yp(e,t,r,n){var i;(i=e.get(fo).getReporter(e,t))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(yp,"sendTelemetryEvent");function Ore(e,t,r,n){var i;(i=e.get(fo).getReporter(e,t))==null||i.sendTelemetryErrorEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Ore,"sendTelemetryErrorEvent");function Fre(e,t,r,n){var i;(i=e.get(fo).getFTReporter(e))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Fre,"sendFTTelemetryEvent");function Kw(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}s(Kw,"telemetrizePromptLength");function rf(){return Date.now()}s(rf,"now");function Mre(){return Math.floor(rf()/1e3)}s(Mre,"nowSeconds");function _p(e){return e.get(Ii).optedIn}s(_p,"shouldSendRestricted");function bj(e){return e.get(Ii).ftFlag!==""}s(bj,"shouldSendFinetuningTelemetry");async function x0(e,t,r,n){await e.get(Ui).register(Ure(e,t,r,n))}s(x0,"telemetry");async function Ure(e,t,r,n=0){let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!X3(n)||_p(e))&&yp(e,n,t,i),X3(n)&&Rre.includes(t)&&bj(e)&&Fre(e,n,t,i)}s(Ure,"_telemetry");async function Jq(e,t){await e.get(Ui).register(qre(e,t))}s(Jq,"telemetryExpProblem");async function qre(e,t){let r="expProblem",n=cr.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),yp(e,0,r,n)}s(qre,"_telemetryExpProblem");function jre(e,t){t.unique_id=Bu();let r=e.get(kn);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=Va(r.getEditorInfo())}s(jre,"addRequiredProperties");var Ww=class Ww extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError",this.code=(0,vp.SHA256)(vp.enc.Utf16.parse(this.message)).toString().slice(0,16)}};s(Ww,"CopilotNonError");var zw=Ww;async function so(e,t,r,n,i){var a;let o;if(t instanceof Error){if(o=t,o.name==="Canceled"&&o.message==="Canceled"||o.name==="CodeExpectedError"||o instanceof zl||o instanceof xp.ConnectionError||o instanceof xp.ResponseError)return}else{if(o=new zw(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if((a=o.stack)!=null&&a.startsWith(`${o}
`)){let l=o.stack.slice(`${o}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(l[0])&&l.shift(),o.stack=`${o}
${l.join(`
`)}`}}await e.get(Ui).register($re(e,o,r,n,i))}s(so,"telemetryException");async function $re(e,t,r,n,i){var p,y,_;let o=e.get(kn).getEditorInfo(),a;o.root&&(a=[{prefix:`${o.name}:`,path:o.root}]);let l=Hw(t,a),f=_p(e),c=Bre(t),u=c==="exception",d=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:l.stack||l.toString(),message:l.message,...n});if(await d.makeReadyForSending(e,0,"IncludeExp"),i!=null&&i.exception_detail)for(let S of i.exception_detail)S.value&&(f?S.value=jw(S.value):S.value="[redacted]");if(i!=null||(i=sj(e,Hw(t,a,f))),i.context={...i.context,"copilot_event.unique_id":d.properties.unique_id,"#restricted_telemetry":f?"true":"false"},r&&(i.context["#origin"]=r,i.transaction=r),i.rollup_id!=="auto"&&(d.properties.errno=i.rollup_id),i.created_at=new Date(d.issuedTime).toISOString(),f){let S=_j(t,a),E=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(y=t.code)!=null?y:""}`,reason:S.stack||S.toString(),message:S.message,...n});i.rollup_id!=="auto"&&(E.properties.errno=i.rollup_id),await E.makeReadyForSending(e,1,"IncludeExp"),E.properties.unique_id=d.properties.unique_id,d.properties.restricted_unique_id=E.properties.unique_id,yp(e,1,`error.${c}`,E)}let g=i.rollup_id==="auto"?(_=t.stack)!=null?_:"":i.rollup_id;u&&!e.get(gd).isThrottled(g)&&(d.properties.failbot_payload=JSON.stringify(i)),yp(e,0,`error.${c}`,d)}s($re,"_telemetryException");async function r8(e,t,r,n){await e.get(Ui).register(Hre(e,t,r,n))}s(r8,"telemetryError");async function Hre(e,t,r,n=0){if(X3(n)&&!_p(e))return;let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n,"IncludeExp"),Ore(e,n,t,i)}s(Hre,"_telemetryError");async function Cj(e,t,r,n,i){var a;let o=cr.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[l,f]of Object.entries(r.logprobs))o.properties["logprobs_"+l]=(a=JSON.stringify(f))!=null?a:"unset";o.extendWithRequestId(n),await x0(e,"engine.completion",o,1)}s(Cj,"logEngineCompletion");async function Tj(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);await x0(e,"engine.prompt",i,1)}s(Tj,"logEnginePrompt");var Yw=class Yw{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?x0(t,"installed.reinstall"):x0(t,"installed.new")}async handleUpgrade(t){x0(t,"installed.upgrade")}async handleUninstall(t){x0(t,"uninstalled")}};s(Yw,"InstallationManager");var bp=Yw;var Xw=class Xw extends bp{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};s(Xw,"VsCodeUninstallationManager");var Cp=Xw;var vG=require("child_process");l7();var Jw=class Jw{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};s(Jw,"Context");var Tp=Jw;var Qw=class Qw{constructor(){this._cache=new Cr(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};s(Qw,"CompletionsCache");var J3=Qw;var Zw=class Zw{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};s(Zw,"ContextualFilterManager");var Q3=Zw;var boe=O0(Ih());Fh();var eI=class eI{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};s(eI,"Debouncer");var Ep=eI;async function*Ej(e,t){for await(let r of e)yield t(r)}s(Ej,"asyncIterableMap");async function*Sj(e,t){for await(let r of e)await t(r)&&(yield r)}s(Sj,"asyncIterableFilter");var Rj=O0(require("util"));var tI=class tI{};s(tI,"StatusReporter");var nf=tI;Nc();function wj(e,t,r,n,i,o,a,l){return Cj(e,t,r,i,n),{completionText:t,meanLogProb:zre(e,r),meanAlternativeLogProb:Kre(e,r),choiceIndex:n,requestId:i,modelInfo:l,blockFinished:o,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}s(wj,"convertToAPIChoice");function zre(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--)n+=t.logprobs.token_logprobs[a],i+=1;return i>0?n/i:void 0}catch(n){B3.exception(e,n,"Error calculating mean prob")}}s(zre,"calculateMeanLogProb");function Kre(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--){let l={...t.logprobs.top_logprobs[a]};delete l[t.logprobs.tokens[a]],n+=Math.max(...Object.values(l)),i+=1}return i>0?n/i:void 0}catch(n){B3.exception(e,n,"Error calculating mean prob")}}s(Kre,"calculateMeanAlternativeLogProb");function rI(e,t){return td(e)||t<=1?0:t<10?.2:t<20?.4:.8}s(rI,"getTemperatureForSamples");var Gre={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Ij(e,t){var r;return(r=Gre[t!=null?t:""])!=null?r:[`


`,"\n```"]}s(Ij,"getStops");function Aj(e){return 1}s(Aj,"getTopP");function nI(e){return Wh}s(nI,"getMaxSolutionTokens");var cs=new R0(3,"streamChoices"),fI=class fI{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new oI;this.function_call=new sI}append(t){var r,n,i,o,a,l,f;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((i=t.logprobs.text_offset)!=null?i:[]),this.logprobs.push((o=t.logprobs.token_logprobs)!=null?o:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(l=t.delta)!=null&&l.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(f=t.delta)!=null&&f.function_call&&this.function_call.update(t.delta.function_call)}};s(fI,"APIJsonDataStreaming");var iI=fI;function Yre(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}s(Yre,"splitChunk");var cI=class cI{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};s(cI,"StreamingFunctionCall");var sI=cI,uI=class uI{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(o=>o.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};s(uI,"StreamCopilotAnnotations");var oI=uI,wp=class wp{constructor(t,r,n,i,o,a,l,f){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=o;this.dropCompletionReasons=a;this.fastCancellation=l;this.cancellationToken=f;this.requestId=N8(this.response);this.stats=new aI(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,i,o,a){let l=await n.body();l.setEncoding("utf8");let f=t.get(un).fastCancellation(i);return new wp(t,r,n,l,i,o!=null?o:["content_filter"],f,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),cs.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),cs.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,i,o,a,l;let r="";e:for await(let f of this.body){if(this.maybeCancel("after awaiting body chunk"))return;cs.debug(this.ctx,"chunk",f.toString());let[c,u]=Yre(r+f.toString());r=u;for(let d of c){let g=d.slice(5).trim();if(g=="[DONE]"){yield*this.finishSolutions();return}let p;try{p=JSON.parse(g)}catch{cs.error(this.ctx,"Error parsing JSON stream data",d);continue}if(p.choices===void 0){p.error!==void 0?cs.error(this.ctx,"Error in response:",p.error.message):cs.error(this.ctx,"Unexpected response with no choices or error: "+g);continue}if(this.requestId.created==0&&(this.requestId=N8(this.response,p),this.requestId.created===0&&((n=p.choices)!=null&&n.length)&&cs.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let y=0;y<p.choices.length;y++){let _=p.choices[y];cs.debug(this.ctx,"choice",_),this.stats.add(_.index),_.index in this.solutions||(this.solutions[_.index]=new iI);let S=this.solutions[_.index];if(S==null)continue;S.append(_);let E,A=((i=_.text)==null?void 0:i.indexOf(`
`))>-1||((a=(o=_.delta)==null?void 0:o.content)==null?void 0:a.indexOf(`
`))>-1;if((_.finish_reason||A)&&(E=await t(S.text.join(""),S.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(_.finish_reason||E!==void 0))continue;let U=(l=_.finish_reason)!=null?l:"client-trimmed";if(x0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:U})),this.dropCompletionReasons.includes(_.finish_reason)?this.solutions[_.index]=null:(this.stats.markYielded(_.index),yield{solution:S,finishOffset:E,reason:_.finish_reason,requestId:this.requestId,index:_.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[_.index]=null}}}for(let[f,c]of Object.entries(this.solutions)){let u=Number(f);if(c!=null&&(this.stats.markYielded(u),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let f=JSON.parse(r);f.error!==void 0&&cs.error(this.ctx,`Error in response: ${f.error.message}`,f.error)}catch{cs.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(cs.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};s(wp,"SSEProcessor");var Sp=wp;function Pj(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(cs.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),cs.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),cs.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=Xre(t.solution);return wj(e,n,o,t.index,t.requestId,i,r)}s(Pj,"prepareSolutionForReturn");function Xre(e){let t=e.text.join(""),r=Jre(e),n={text:t,tokens:e.text,function_call:r};if(e.logprobs.length===0)return n;let i=e.logprobs.reduce((f,c)=>f.concat(c),[]),o=e.top_logprobs.reduce((f,c)=>f.concat(c),[]),a=e.text_offset.reduce((f,c)=>f.concat(c),[]),l=e.tokens.reduce((f,c)=>f.concat(c),[]);return{...n,logprobs:{token_logprobs:i,top_logprobs:o,text_offset:a,tokens:l}}}s(Xre,"convertToAPIJsonData");function Jre(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t,numTokens:e.function_call.arguments.length+1}}}s(Jre,"extractFunctionCall");var dI=class dI{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new lI)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};s(dI,"ChunkStats");var aI=dI,hI=class hI{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};s(hI,"ChoiceStats");var lI=hI;var Ds=new R0(3,"fetchCompletions");function N8(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}s(N8,"getRequestId");function Qre(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}s(Qre,"getProcessingTime");function mI(e,t){let r=t.split("/").pop();return r||(Ds.error(e,"Malformed engine URL: "+t),t)}s(mI,"extractEngineName");function Zre(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(Zre,"uiKindToIntent");var gI=class gI{};s(gI,"OpenAIFetcher");var pd=gI;function ene(e,t,r,n,i,o,a,l,f,c,u){var S;let d=e.get(nf),g=Rj.format("%s/%s",r,n);if(!a){Ds.error(e,`Failed to send request to ${g} due to missing key`);return}let p=cr.createAndMarkAsIssued({endpoint:n,engineName:mI(e,r),uiKind:l},Kw(t));c&&(p=p.extendedBy(c));for(let[E,A]of Object.entries(o))E=="prompt"||E=="suffix"||(p.properties[`request.option.${E}`]=(S=JSON.stringify(A))!=null?S:"undefined");p.properties.headerRequestId=i,x0(e,"request.sent",p);let y=rf(),_=Zre(l);return Aq(e,g,a,_,i,o,f,u).then(E=>{let A=N8(E,void 0);p.extendWithRequestId(A);let P=rf()-y;return p.measurements.totalTimeMs=P,Ds.info(e,`request.response: [${g}] took ${P} ms`),Ds.debug(e,"request.response properties",p.properties),Ds.debug(e,"request.response measurements",p.measurements),Ds.debug(e,"prompt:",t),x0(e,"request.response",p),E}).catch(E=>{var U,k,L,Q;if(VS(E))throw E;d.setWarning(E.message);let A=p.extendedBy({error:"Network exception"});x0(e,"request.shownWarning",A),p.properties.message=String((U=E.name)!=null?U:""),p.properties.code=String((k=E.code)!=null?k:""),p.properties.errno=String((L=E.errno)!=null?L:""),p.properties.type=String((Q=E.type)!=null?Q:"");let P=rf()-y;throw p.measurements.totalTimeMs=P,Ds.debug(e,`request.response: [${g}] took ${P} ms`),Ds.debug(e,"request.error properties",p.properties),Ds.debug(e,"request.error measurements",p.measurements),x0(e,"request.error",p),E}).finally(()=>{Tj(e,t,p)})}s(ene,"fetchWithInstrumentation");function tne(e){return Sj(e,async t=>t.completionText.trim().length>0)}s(tne,"postProcessChoices");var pI=class pI extends pd{async fetchAndStreamCompletions(t,r,n,i,o,a){let l=t.get(nf),f="completions",c=await this.fetchWithParameters(t,f,r,n,o,a);if(c==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o!=null&&o.isCancellationRequested){let y=await c.body();try{y.destroy()}catch(_){Ds.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(c===void 0){let y=this.createTelemetryData(f,t,r);return l.setWarning(),y.properties.error="Response was undefined",x0(t,"request.shownWarning",y),{type:"failed",reason:"fetch response was undefined"}}if(c.status!==200){let y=this.createTelemetryData(f,t,r);return this.handleError(t,l,y,c)}let u=t.get(un).dropCompletionReasons(n),g=(await Sp.create(t,r.count,c,n,u,o)).processSSE(i),p=Ej(g,async y=>Pj(t,y,n));return{type:"success",choices:tne(p),getProcessingTime:()=>Qre(c)}}createTelemetryData(t,r,n){return cr.createAndMarkAsIssued({endpoint:t,engineName:mI(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,o,a){let l=t.get(un).disableLogProb(i),f={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:nI(t),temperature:rI(t,n.count),top_p:Aj(t),n:n.count,stop:Ij(t,n.languageId)};(n.requestLogProbs||!l)&&(f.logprobs=2);let c=w8(n.repoInfo);return c!==void 0&&(f.nwo=c),n.postOptions&&Object.assign(f,n.postOptions),await new Promise((d,g)=>{setImmediate(d)}),o!=null&&o.isCancellationRequested?"not-sent":await ene(t,n.prompt,n.engineUrl,r,n.ourRequestId,f,(await t.get(ni).getCopilotToken(t)).token,n.uiKind,o,a,n.headers)}async handleError(t,r,n,i){if(r.setWarning(),n.properties.error=`Response status was ${i.status}`,n.properties.status=String(i.status),x0(t,"request.shownWarning",n),i.status===401||i.status===403)return t.get(ni).resetCopilotToken(t,i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`};if(i.status===499)return Ds.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let o=await i.text();return i.status===466?(r.setError(o),Ds.info(t,o),{type:"failed",reason:`client not supported: ${o}`}):(Ds.error(t,"Unhandled status from server:",i.status,o),{type:"failed",reason:`unhandled status from server: ${i.status} ${o}`})}};s(pI,"LiveOpenAIFetcher");var D8=pI;var L8=class L8{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(L8.isIncremental(n)){let i=Nj(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),f=Math.max(i.end.line,0),c=this._lineOffsets,u=kj(n.text,!1,o);if(f-l===u.length)for(let g=0,p=u.length;g<p;g++)c[g+l+1]=u[g];else u.length<1e4?c.splice(l+1,f-l,...u):this._lineOffsets=c=c.slice(0,l+1).concat(u,c.slice(f+1));let d=n.text.length-(a-o);if(d!==0)for(let g=l+1+u.length,p=c.length;g<p;g++)c[g]=c[g]+d}else if(L8.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=kj(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};s(L8,"FullTextDocument");var Ip=L8,yI;(function(e){function t(i,o,a,l){return new Ip(i,o,a,l)}s(t,"create"),e.create=t;function r(i,o,a){if(i instanceof Ip)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),e.update=r;function n(i,o){let a=i.getText(),l=vI(o.map(rne),(u,d)=>{let g=u.range.start.line-d.range.start.line;return g===0?u.range.start.character-d.range.start.character:g}),f=0,c=[];for(let u of l){let d=i.offsetAt(u.range.start);if(d<f)throw new Error("Overlapping edit");d>f&&c.push(a.substring(f,d)),u.newText.length&&c.push(u.newText),f=i.offsetAt(u.range.end)}return c.push(a.substr(f)),c.join("")}s(n,"applyEdits"),e.applyEdits=n})(yI||(yI={}));function vI(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);vI(n,t),vI(i,t);let o=0,a=0,l=0;for(;o<n.length&&a<i.length;)t(n[o],i[a])<=0?e[l++]=n[o++]:e[l++]=i[a++];for(;o<n.length;)e[l++]=n[o++];for(;a<i.length;)e[l++]=i[a++];return e}s(vI,"mergeSort");function kj(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(kj,"computeLineOffsets");function Nj(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}s(Nj,"getWellformedRange");function rne(e){let t=Nj(e.range);return t!==e.range?{newText:e.newText,range:t}:e}s(rne,"getWellformedEdit");var Dj;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(Dj||(Dj={}));var xI;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(xI||(xI={}));var Lj;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(Lj||(Lj={}));var Ap;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(Ap||(Ap={}));var co;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Ap.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ap.MAX_VALUE),{line:n,character:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.line)&&Re.uinteger(i.character)}s(r,"is"),e.is=r})(co||(co={}));var $r;(function(e){function t(n,i,o,a){if(Re.uinteger(n)&&Re.uinteger(i)&&Re.uinteger(o)&&Re.uinteger(a))return{start:co.create(n,i),end:co.create(o,a)};if(co.is(n)&&co.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${a}]`)}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&co.is(i.start)&&co.is(i.end)}s(r,"is"),e.is=r})($r||($r={}));var Pp;(function(e){function t(n,i){return{uri:n,range:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&(Re.string(i.uri)||Re.undefined(i.uri))}s(r,"is"),e.is=r})(Pp||(Pp={}));var Bj;(function(e){function t(n,i,o,a){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.targetRange)&&Re.string(i.targetUri)&&$r.is(i.targetSelectionRange)&&($r.is(i.originSelectionRange)||Re.undefined(i.originSelectionRange))}s(r,"is"),e.is=r})(Bj||(Bj={}));var _I;(function(e){function t(n,i,o,a){return{red:n,green:i,blue:o,alpha:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.numberRange(i.red,0,1)&&Re.numberRange(i.green,0,1)&&Re.numberRange(i.blue,0,1)&&Re.numberRange(i.alpha,0,1)}s(r,"is"),e.is=r})(_I||(_I={}));var Oj;(function(e){function t(n,i){return{range:n,color:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&_I.is(i.color)}s(r,"is"),e.is=r})(Oj||(Oj={}));var Fj;(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.undefined(i.textEdit)||e2.is(i))&&(Re.undefined(i.additionalTextEdits)||Re.typedArray(i.additionalTextEdits,e2.is))}s(r,"is"),e.is=r})(Fj||(Fj={}));var Mj;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Mj||(Mj={}));var Uj;(function(e){function t(n,i,o,a,l,f){let c={startLine:n,endLine:i};return Re.defined(o)&&(c.startCharacter=o),Re.defined(a)&&(c.endCharacter=a),Re.defined(l)&&(c.kind=l),Re.defined(f)&&(c.collapsedText=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.startLine)&&Re.uinteger(i.startLine)&&(Re.undefined(i.startCharacter)||Re.uinteger(i.startCharacter))&&(Re.undefined(i.endCharacter)||Re.uinteger(i.endCharacter))&&(Re.undefined(i.kind)||Re.string(i.kind))}s(r,"is"),e.is=r})(Uj||(Uj={}));var bI;(function(e){function t(n,i){return{location:n,message:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Pp.is(i.location)&&Re.string(i.message)}s(r,"is"),e.is=r})(bI||(bI={}));var qj;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(qj||(qj={}));var jj;(function(e){e.Unnecessary=1,e.Deprecated=2})(jj||(jj={}));var $j;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&Re.string(n.href)}s(t,"is"),e.is=t})($j||($j={}));var Rp;(function(e){function t(n,i,o,a,l,f){let c={range:n,message:i};return Re.defined(o)&&(c.severity=o),Re.defined(a)&&(c.code=a),Re.defined(l)&&(c.source=l),Re.defined(f)&&(c.relatedInformation=f),c}s(t,"create"),e.create=t;function r(n){var i;let o=n;return Re.defined(o)&&$r.is(o.range)&&Re.string(o.message)&&(Re.number(o.severity)||Re.undefined(o.severity))&&(Re.integer(o.code)||Re.string(o.code)||Re.undefined(o.code))&&(Re.undefined(o.codeDescription)||Re.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Re.string(o.source)||Re.undefined(o.source))&&(Re.undefined(o.relatedInformation)||Re.typedArray(o.relatedInformation,bI.is))}s(r,"is"),e.is=r})(Rp||(Rp={}));var Z3;(function(e){function t(n,i,...o){let a={title:n,command:i};return Re.defined(o)&&o.length>0&&(a.arguments=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.title)&&Re.string(i.command)}s(r,"is"),e.is=r})(Z3||(Z3={}));var e2;(function(e){function t(o,a){return{range:o,newText:a}}s(t,"replace"),e.replace=t;function r(o,a){return{range:{start:o,end:o},newText:a}}s(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}s(n,"del"),e.del=n;function i(o){let a=o;return Re.objectLiteral(a)&&Re.string(a.newText)&&$r.is(a.range)}s(i,"is"),e.is=i})(e2||(e2={}));var CI;(function(e){function t(n,i,o){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Re.string(i.description)||i.description===void 0)}s(r,"is"),e.is=r})(CI||(CI={}));var t2;(function(e){function t(r){let n=r;return Re.string(n)}s(t,"is"),e.is=t})(t2||(t2={}));var Hj;(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}s(t,"replace"),e.replace=t;function r(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}s(r,"insert"),e.insert=r;function n(o,a){return{range:o,newText:"",annotationId:a}}s(n,"del"),e.del=n;function i(o){let a=o;return e2.is(a)&&(CI.is(a.annotationId)||t2.is(a.annotationId))}s(i,"is"),e.is=i})(Hj||(Hj={}));var TI;(function(e){function t(n,i){return{textDocument:n,edits:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&AI.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),e.is=r})(TI||(TI={}));var EI;(function(e){function t(n,i,o){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Re.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||t2.is(i.annotationId))}s(r,"is"),e.is=r})(EI||(EI={}));var SI;(function(e){function t(n,i,o,a){let l={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Re.string(i.oldUri)&&Re.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||t2.is(i.annotationId))}s(r,"is"),e.is=r})(SI||(SI={}));var wI;(function(e){function t(n,i,o){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Re.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Re.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Re.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||t2.is(i.annotationId))}s(r,"is"),e.is=r})(wI||(wI={}));var II;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Re.string(i.kind)?EI.is(i)||SI.is(i)||wI.is(i):TI.is(i)))}s(t,"is"),e.is=t})(II||(II={}));var Vj;(function(e){function t(n){return{uri:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)}s(r,"is"),e.is=r})(Vj||(Vj={}));var zj;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.integer(i.version)}s(r,"is"),e.is=r})(zj||(zj={}));var AI;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&(i.version===null||Re.integer(i.version))}s(r,"is"),e.is=r})(AI||(AI={}));var Kj;(function(e){function t(n,i,o,a){return{uri:n,languageId:i,version:o,text:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.string(i.languageId)&&Re.integer(i.version)&&Re.string(i.text)}s(r,"is"),e.is=r})(Kj||(Kj={}));var PI;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}s(t,"is"),e.is=t})(PI||(PI={}));var B8;(function(e){function t(r){let n=r;return Re.objectLiteral(r)&&PI.is(n.kind)&&Re.string(n.value)}s(t,"is"),e.is=t})(B8||(B8={}));var Gj;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Gj||(Gj={}));var Wj;(function(e){e.PlainText=1,e.Snippet=2})(Wj||(Wj={}));var Yj;(function(e){e.Deprecated=1})(Yj||(Yj={}));var Xj;(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.newText)&&$r.is(i.insert)&&$r.is(i.replace)}s(r,"is"),e.is=r})(Xj||(Xj={}));var Jj;(function(e){e.asIs=1,e.adjustIndentation=2})(Jj||(Jj={}));var Qj;(function(e){function t(r){let n=r;return n&&(Re.string(n.detail)||n.detail===void 0)&&(Re.string(n.description)||n.description===void 0)}s(t,"is"),e.is=t})(Qj||(Qj={}));var Zj;(function(e){function t(r){return{label:r}}s(t,"create"),e.create=t})(Zj||(Zj={}));var e$;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}s(t,"create"),e.create=t})(e$||(e$={}));var kp;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Re.string(i)||Re.objectLiteral(i)&&Re.string(i.language)&&Re.string(i.value)}s(r,"is"),e.is=r})(kp||(kp={}));var t$;(function(e){function t(r){let n=r;return!!n&&Re.objectLiteral(n)&&(B8.is(n.contents)||kp.is(n.contents)||Re.typedArray(n.contents,kp.is))&&(r.range===void 0||$r.is(r.range))}s(t,"is"),e.is=t})(t$||(t$={}));var r$;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}s(t,"create"),e.create=t})(r$||(r$={}));var n$;(function(e){function t(r,n,...i){let o={label:r};return Re.defined(n)&&(o.documentation=n),Re.defined(i)?o.parameters=i:o.parameters=[],o}s(t,"create"),e.create=t})(n$||(n$={}));var i$;(function(e){e.Text=1,e.Read=2,e.Write=3})(i$||(i$={}));var s$;(function(e){function t(r,n){let i={range:r};return Re.number(n)&&(i.kind=n),i}s(t,"create"),e.create=t})(s$||(s$={}));var o$;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(o$||(o$={}));var a$;(function(e){e.Deprecated=1})(a$||(a$={}));var l$;(function(e){function t(r,n,i,o,a){let l={name:r,kind:n,location:{uri:o,range:i}};return a&&(l.containerName=a),l}s(t,"create"),e.create=t})(l$||(l$={}));var f$;(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}s(t,"create"),e.create=t})(f$||(f$={}));var c$;(function(e){function t(n,i,o,a,l,f){let c={name:n,detail:i,kind:o,range:a,selectionRange:l};return f!==void 0&&(c.children=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.name)&&Re.number(i.kind)&&$r.is(i.range)&&$r.is(i.selectionRange)&&(i.detail===void 0||Re.string(i.detail))&&(i.deprecated===void 0||Re.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),e.is=r})(c$||(c$={}));var u$;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(u$||(u$={}));var Np;(function(e){e.Invoked=1,e.Automatic=2})(Np||(Np={}));var d$;(function(e){function t(n,i,o){let a={diagnostics:n};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.typedArray(i.diagnostics,Rp.is)&&(i.only===void 0||Re.typedArray(i.only,Re.string))&&(i.triggerKind===void 0||i.triggerKind===Np.Invoked||i.triggerKind===Np.Automatic)}s(r,"is"),e.is=r})(d$||(d$={}));var h$;(function(e){function t(n,i,o){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Z3.is(i)?a.command=i:a.edit=i,l&&o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.title)&&(i.diagnostics===void 0||Re.typedArray(i.diagnostics,Rp.is))&&(i.kind===void 0||Re.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Z3.is(i.command))&&(i.isPreferred===void 0||Re.boolean(i.isPreferred))&&(i.edit===void 0||II.is(i.edit))}s(r,"is"),e.is=r})(h$||(h$={}));var m$;(function(e){function t(n,i){let o={range:n};return Re.defined(i)&&(o.data=i),o}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(i.range)&&(Re.undefined(i.command)||Z3.is(i.command))}s(r,"is"),e.is=r})(m$||(m$={}));var g$;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.uinteger(i.tabSize)&&Re.boolean(i.insertSpaces)}s(r,"is"),e.is=r})(g$||(g$={}));var p$;(function(e){function t(n,i,o){return{range:n,target:i,data:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(i.range)&&(Re.undefined(i.target)||Re.string(i.target))}s(r,"is"),e.is=r})(p$||(p$={}));var y$;(function(e){function t(n,i){return{range:n,parent:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&(i.parent===void 0||e.is(i.parent))}s(r,"is"),e.is=r})(y$||(y$={}));var v$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(v$||(v$={}));var x$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(x$||(x$={}));var _$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(t,"is"),e.is=t})(_$||(_$={}));var b$;(function(e){function t(n,i){return{range:n,text:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&Re.string(i.text)}s(r,"is"),e.is=r})(b$||(b$={}));var C$;(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&Re.boolean(i.caseSensitiveLookup)&&(Re.string(i.variableName)||i.variableName===void 0)}s(r,"is"),e.is=r})(C$||(C$={}));var T$;(function(e){function t(n,i){return{range:n,expression:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&(Re.string(i.expression)||i.expression===void 0)}s(r,"is"),e.is=r})(T$||(T$={}));var E$;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(n.stoppedLocation)}s(r,"is"),e.is=r})(E$||(E$={}));var RI;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(RI||(RI={}));var kI;(function(e){function t(n){return{value:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&(i.tooltip===void 0||Re.string(i.tooltip)||B8.is(i.tooltip))&&(i.location===void 0||Pp.is(i.location))&&(i.command===void 0||Z3.is(i.command))}s(r,"is"),e.is=r})(kI||(kI={}));var S$;(function(e){function t(n,i,o){let a={position:n,label:i};return o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&co.is(i.position)&&(Re.string(i.label)||Re.typedArray(i.label,kI.is))&&(i.kind===void 0||RI.is(i.kind))&&i.textEdits===void 0||Re.typedArray(i.textEdits,e2.is)&&(i.tooltip===void 0||Re.string(i.tooltip)||B8.is(i.tooltip))&&(i.paddingLeft===void 0||Re.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Re.boolean(i.paddingRight))}s(r,"is"),e.is=r})(S$||(S$={}));var w$;(function(e){function t(r){return{kind:"snippet",value:r}}s(t,"createSnippet"),e.createSnippet=t})(w$||(w$={}));var I$;(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}s(t,"create"),e.create=t})(I$||(I$={}));var A$;(function(e){function t(r){return{items:r}}s(t,"create"),e.create=t})(A$||(A$={}));var P$;(function(e){e.Invoked=0,e.Automatic=1})(P$||(P$={}));var R$;(function(e){function t(r,n){return{range:r,text:n}}s(t,"create"),e.create=t})(R$||(R$={}));var k$;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(t,"create"),e.create=t})(k$||(k$={}));var N$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&xI.is(n.uri)&&Re.string(n.name)}s(t,"is"),e.is=t})(N$||(N$={}));var D$;(function(e){function t(o,a,l,f){return new NI(o,a,l,f)}s(t,"create"),e.create=t;function r(o){let a=o;return!!(Re.defined(a)&&Re.string(a.uri)&&(Re.undefined(a.languageId)||Re.string(a.languageId))&&Re.uinteger(a.lineCount)&&Re.func(a.getText)&&Re.func(a.positionAt)&&Re.func(a.offsetAt))}s(r,"is"),e.is=r;function n(o,a){let l=o.getText(),f=i(a,(u,d)=>{let g=u.range.start.line-d.range.start.line;return g===0?u.range.start.character-d.range.start.character:g}),c=l.length;for(let u=f.length-1;u>=0;u--){let d=f[u],g=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=c)l=l.substring(0,g)+d.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");c=g}return l}s(n,"applyEdits"),e.applyEdits=n;function i(o,a){if(o.length<=1)return o;let l=o.length/2|0,f=o.slice(0,l),c=o.slice(l);i(f,a),i(c,a);let u=0,d=0,g=0;for(;u<f.length&&d<c.length;)a(f[u],c[d])<=0?o[g++]=f[u++]:o[g++]=c[d++];for(;u<f.length;)o[g++]=f[u++];for(;d<c.length;)o[g++]=c[d++];return o}s(i,"mergeSort")})(D$||(D$={}));var DI=class DI{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return co.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return co.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};s(DI,"FullTextDocument");var NI=DI,Re;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}s(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}s(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}s(i,"boolean"),e.boolean=i;function o(p){return t.call(p)==="[object String]"}s(o,"string"),e.string=o;function a(p){return t.call(p)==="[object Number]"}s(a,"number"),e.number=a;function l(p,y,_){return t.call(p)==="[object Number]"&&y<=p&&p<=_}s(l,"numberRange"),e.numberRange=l;function f(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}s(f,"integer"),e.integer=f;function c(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}s(c,"uinteger"),e.uinteger=c;function u(p){return t.call(p)==="[object Function]"}s(u,"func"),e.func=u;function d(p){return p!==null&&typeof p=="object"}s(d,"objectLiteral"),e.objectLiteral=d;function g(p,y){return Array.isArray(p)&&p.every(y)}s(g,"typedArray"),e.typedArray=g})(Re||(Re={}));Nc();var nne=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],ine=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],Tpe=[...nne,...ine];var one=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Rpe=new RegExp(`^(${one.join("|")})`);Nc();function lne(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}s(lne,"isDocumentTooLarge");async function Dp(e,t){var n;if(lne(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(yd).evaluate(t.vscodeUri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}s(Dp,"isDocumentValid");var fne=require("path"),LI=class LI{constructor(t){this.ctx=t}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await Dp(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?Dp(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):Dp(this.ctx,n)}catch{return await this.notFoundResult(t)}}getOpenTextDocumentWithValidation(t){let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());if(n){let i;return{then:(o,a)=>(i!=null||(i=this.validateTextDocument(n,t)),i.then(o,a))}}else return this.notFoundResult(t)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.vscodeUri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.vscodeUri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return fne.basename(t.vscodeUri.fsPath)}}};s(LI,"TextDocumentManager");var Ls=LI;var B$="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var vd={isBlocked:!1,reason:"VALID_FILE"},sf={isBlocked:!1,reason:"NO_MATCHING_POLICY"},O8={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var BI=class BI{};s(BI,"PolicyEvaluator");var r2=BI;var oi=O0(es());var Lp=new WeakMap;function Bp(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,o=Object.prototype.toString.call(e);if(o!=="[object RegExp]"&&o!=="[object Date]"&&Lp.has(e))return Lp.get(e);switch(Lp.set(e,"~"+ ++t),o){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=Bp(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+Bp(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+Bp(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Lp.set(e,n),n}s(Bp,"t");function Op(e){return Bp(e,0)}s(Op,"r");var OI=new WeakMap;function O$(e,t,r=Op(t)){let n,i,o=OI.get(e);o||(OI.set(e,o=[[],i=[],n=[]]),queueMicrotask(function(){let c,u=0;function d(g){for(;c=n[u++];c.r(g));}s(d,"o"),OI.delete(e),e(i).then(function(g){if(g.length!==n.length)return d(new Error("loader value length mismatch"));for(;c=g[u++],u<=g.length;c instanceof Error?n[u-1].r(c):n[u-1].s(c));},d)}));let a=o[0].indexOf(r);if(~a)return o[2][a].p;let l=o[0].push(r)-1,f=o[2][l]={};return o[1][l]=t,f.p=new Promise(function(c,u){f.s=c,f.r=u})}s(O$,"n");var F$=new WeakMap;function cne(e,t,r,n=Op(r)){if(t||(t=F$.get(e)),t||F$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=O$(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}s(cne,"n");function Fp(e,t){return function(r,n){return cne(e,t,r,n)}}s(Fp,"o");var oH=O0(X$(),1);var M8=s(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var vne={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},U8=s(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),xne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),J$=s(e=>e.join(""),"rangesToString"),Q$=s((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,a=!1,l=!1,f=!1,c=!1,u=r,d="";e:for(;o<e.length;){let _=e.charAt(o);if((_==="!"||_==="^")&&o===r+1){c=!0,o++;continue}if(_==="]"&&a&&!f){u=o+1;break}if(a=!0,_==="\\"&&!f){f=!0,o++;continue}if(_==="["&&!f){for(let[S,[E,A,P]]of Object.entries(vne))if(e.startsWith(S,o)){if(d)return["$.",!1,e.length-r,!0];o+=S.length,P?i.push(E):n.push(E),l=l||A;continue e}}if(f=!1,d){_>d?n.push(U8(d)+"-"+U8(_)):_===d&&n.push(U8(_)),d="",o++;continue}if(e.startsWith("-]",o+1)){n.push(U8(_+"-")),o+=2;continue}if(e.startsWith("-",o+1)){d=_,o+=2;continue}n.push(U8(_)),o++}if(u<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let _=n[0].length===2?n[0].slice(-1):n[0];return[xne(_),!1,u-r,!1]}let g="["+(c?"^":"")+J$(n)+"]",p="["+(c?"":"^")+J$(i)+"]";return[n.length&&i.length?"("+g+"|"+p+")":n.length?g:p,l,u-r,!0]},"parseClass");var $c=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var _ne=new Set(["!","?","+","*","@"]),Z$=s(e=>_ne.has(e),"isExtglobType"),bne="(?!(?:^|/)\\.\\.?(?:$|/))",Mp="(?!\\.)",Cne=new Set(["[","."]),Tne=new Set(["..","."]),Ene=new Set("().*{}+?[]^$\\!"),Sne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),qI="[^/]",eH=qI+"*?",tH=qI+"+?",bn,Nn,of,Rr,dn,Hc,xd,Vc,af,_d,q8,qp,rH,n2,Up,j8,UI,jp,nH,ii=class ii{constructor(t,r,n={}){P0(this,qp);P0(this,j8);tn(this,"type");P0(this,bn,void 0);P0(this,Nn,void 0);P0(this,of,!1);P0(this,Rr,[]);P0(this,dn,void 0);P0(this,Hc,void 0);P0(this,xd,void 0);P0(this,Vc,!1);P0(this,af,void 0);P0(this,_d,void 0);P0(this,q8,!1);this.type=t,t&&v0(this,Nn,!0),v0(this,dn,r),v0(this,bn,je(this,dn)?je(je(this,dn),bn):this),v0(this,af,je(this,bn)===this?n:je(je(this,bn),af)),v0(this,xd,je(this,bn)===this?[]:je(je(this,bn),xd)),t==="!"&&!je(je(this,bn),Vc)&&je(this,xd).push(this),v0(this,Hc,je(this,dn)?je(je(this,dn),Rr).length:0)}get hasMagic(){if(je(this,Nn)!==void 0)return je(this,Nn);for(let t of je(this,Rr))if(typeof t!="string"&&(t.type||t.hasMagic))return v0(this,Nn,!0);return je(this,Nn)}toString(){return je(this,_d)!==void 0?je(this,_d):this.type?v0(this,_d,this.type+"("+je(this,Rr).map(t=>String(t)).join("|")+")"):v0(this,_d,je(this,Rr).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof ii&&je(r,dn)===this))throw new Error("invalid part: "+r);je(this,Rr).push(r)}}toJSON(){var r;let t=this.type===null?je(this,Rr).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...je(this,Rr).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===je(this,bn)||je(je(this,bn),Vc)&&((r=je(this,dn))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(je(this,bn)===this)return!0;if(!((r=je(this,dn))!=null&&r.isStart()))return!1;if(je(this,Hc)===0)return!0;let t=je(this,dn);for(let n=0;n<je(this,Hc);n++){let i=je(t,Rr)[n];if(!(i instanceof ii&&i.type==="!"))return!1}return!0}isEnd(){var r,n,i;if(je(this,bn)===this||((r=je(this,dn))==null?void 0:r.type)==="!")return!0;if(!((n=je(this,dn))!=null&&n.isEnd()))return!1;if(!this.type)return(i=je(this,dn))==null?void 0:i.isEnd();let t=je(this,dn)?je(je(this,dn),Rr).length:0;return je(this,Hc)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new ii(this.type,t);for(let n of je(this,Rr))r.copyIn(n);return r}static fromGlob(t,r={}){var i;let n=new ii(null,void 0,r);return Li(i=ii,n2,Up).call(i,t,n,0,r),n}toMMPattern(){if(this!==je(this,bn))return je(this,bn).toMMPattern();let t=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||je(this,Nn)||je(this,af).nocase&&!je(this,af).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(je(this,af).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}toRegExpSource(t){var f;let r=t!=null?t:!!je(this,af).dot;if(je(this,bn)===this&&Li(this,qp,rH).call(this),!this.type){let c=this.isStart()&&this.isEnd(),u=je(this,Rr).map(y=>{var P;let[_,S,E,A]=typeof y=="string"?Li(P=ii,jp,nH).call(P,y,je(this,Nn),c):y.toRegExpSource(t);return v0(this,Nn,je(this,Nn)||E),v0(this,of,je(this,of)||A),_}).join(""),d="";if(this.isStart()&&typeof je(this,Rr)[0]=="string"&&!(je(this,Rr).length===1&&Tne.has(je(this,Rr)[0]))){let _=Cne,S=r&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),E=!r&&!t&&_.has(u.charAt(0));d=S?bne:E?Mp:""}let g="";return this.isEnd()&&je(je(this,bn),Vc)&&((f=je(this,dn))==null?void 0:f.type)==="!"&&(g="(?:$|\\/)"),[d+u+g,$c(u),v0(this,Nn,!!je(this,Nn)),je(this,of)]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=Li(this,j8,UI).call(this,r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return v0(this,Rr,[c]),this.type=null,v0(this,Nn,void 0),[c,$c(this.toString()),!1,!1]}let a=!n||t||r||!Mp?"":Li(this,j8,UI).call(this,!0);a===o&&(a=""),a&&(o=`(?:${o})(?:${a})*?`);let l="";if(this.type==="!"&&je(this,q8))l=(this.isStart()&&!r?Mp:"")+tH;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Mp:"")+eH+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+o+c}return[l,$c(o),v0(this,Nn,!!je(this,Nn)),je(this,of)]}};bn=new WeakMap,Nn=new WeakMap,of=new WeakMap,Rr=new WeakMap,dn=new WeakMap,Hc=new WeakMap,xd=new WeakMap,Vc=new WeakMap,af=new WeakMap,_d=new WeakMap,q8=new WeakMap,qp=new WeakSet,rH=s(function(){if(this!==je(this,bn))throw new Error("should only call on root");if(je(this,Vc))return this;this.toString(),v0(this,Vc,!0);let t;for(;t=je(this,xd).pop();){if(t.type!=="!")continue;let r=t,n=je(r,dn);for(;n;){for(let i=je(r,Hc)+1;!n.type&&i<je(n,Rr).length;i++)for(let o of je(t,Rr)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(je(n,Rr)[i])}r=n,n=je(r,dn)}}return this},"#fillNegs"),n2=new WeakSet,Up=s(function(t,r,n,i){var p,y;let o=!1,a=!1,l=-1,f=!1;if(r.type===null){let _=n,S="";for(;_<t.length;){let E=t.charAt(_++);if(o||E==="\\"){o=!o,S+=E;continue}if(a){_===l+1?(E==="^"||E==="!")&&(f=!0):E==="]"&&!(_===l+2&&f)&&(a=!1),S+=E;continue}else if(E==="["){a=!0,l=_,f=!1,S+=E;continue}if(!i.noext&&Z$(E)&&t.charAt(_)==="("){r.push(S),S="";let A=new ii(E,r);_=Li(p=ii,n2,Up).call(p,t,A,_,i),r.push(A);continue}S+=E}return r.push(S),_}let c=n+1,u=new ii(null,r),d=[],g="";for(;c<t.length;){let _=t.charAt(c++);if(o||_==="\\"){o=!o,g+=_;continue}if(a){c===l+1?(_==="^"||_==="!")&&(f=!0):_==="]"&&!(c===l+2&&f)&&(a=!1),g+=_;continue}else if(_==="["){a=!0,l=c,f=!1,g+=_;continue}if(Z$(_)&&t.charAt(c)==="("){u.push(g),g="";let S=new ii(_,u);u.push(S),c=Li(y=ii,n2,Up).call(y,t,S,c,i);continue}if(_==="|"){u.push(g),g="",d.push(u),u=new ii(null,r);continue}if(_===")")return g===""&&je(r,Rr).length===0&&v0(r,q8,!0),u.push(g),g="",r.push(...d,u),c;g+=_}return r.type=null,v0(r,Nn,void 0),v0(r,Rr,[t.substring(n-1)]),c},"#parseAST"),j8=new WeakSet,UI=s(function(t){return je(this,Rr).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,a]=r.toRegExpSource(t);return v0(this,of,je(this,of)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),jp=new WeakSet,nH=s(function(t,r,n=!1){let i=!1,o="",a=!1;for(let l=0;l<t.length;l++){let f=t.charAt(l);if(i){i=!1,o+=(Ene.has(f)?"\\":"")+f;continue}if(f==="\\"){l===t.length-1?o+="\\\\":i=!0;continue}if(f==="["){let[c,u,d,g]=Q$(t,l);if(d){o+=c,a=a||u,l+=d-1,r=r||g;continue}}if(f==="*"){n&&t==="*"?o+=tH:o+=eH,r=!0;continue}if(f==="?"){o+=qI,r=!0;continue}o+=Sne(f)}return[o,$c(t),!!r,a]},"#parseGlob"),P0(ii,n2),P0(ii,jp),s(ii,"AST");var i2=ii;var jI=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var si=s((e,t,r={})=>(M8(t),!r.nocomment&&t.charAt(0)==="#"?!1:new s2(t,r).match(e)),"minimatch"),wne=/^\*+([^+@!?\*\[\(]*)$/,Ine=s(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Ane=s(e=>t=>t.endsWith(e),"starDotExtTestDot"),Pne=s(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Rne=s(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),kne=/^\*+\.\*+$/,Nne=s(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Dne=s(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Lne=/^\.\*+$/,Bne=s(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),One=/^\*+$/,Fne=s(e=>e.length!==0&&!e.startsWith("."),"starTest"),Mne=s(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),Une=/^\?+([^+@!?\*\[\(]*)?$/,qne=s(([e,t=""])=>{let r=aH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),jne=s(([e,t=""])=>{let r=lH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),$ne=s(([e,t=""])=>{let r=lH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Hne=s(([e,t=""])=>{let r=aH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),aH=s(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),lH=s(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),fH=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",iH={win32:{sep:"\\"},posix:{sep:"/"}},Vne=fH==="win32"?iH.win32.sep:iH.posix.sep;si.sep=Vne;var ho=Symbol("globstar **");si.GLOBSTAR=ho;var zne="[^/]",Kne=zne+"*?",Gne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wne="(?:(?!(?:\\/|^)\\.).)*?",Yne=s((e,t={})=>r=>si(r,e,t),"filter");si.filter=Yne;var uo=s((e,t={})=>Object.assign({},e,t),"ext"),Xne=s(e=>{var n,i;if(!e||typeof e!="object"||!Object.keys(e).length)return si;let t=si;return Object.assign(s((o,a,l={})=>t(o,a,uo(e,l)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,l={}){super(a,uo(e,l))}static defaults(a){return t.defaults(uo(e,a)).Minimatch}},s(n,"Minimatch"),n),AST:(i=class extends t.AST{constructor(a,l,f={}){super(a,l,uo(e,f))}static fromGlob(a,l={}){return t.AST.fromGlob(a,uo(e,l))}},s(i,"AST"),i),unescape:(o,a={})=>t.unescape(o,uo(e,a)),escape:(o,a={})=>t.escape(o,uo(e,a)),filter:(o,a={})=>t.filter(o,uo(e,a)),defaults:o=>t.defaults(uo(e,o)),makeRe:(o,a={})=>t.makeRe(o,uo(e,a)),braceExpand:(o,a={})=>t.braceExpand(o,uo(e,a)),match:(o,a,l={})=>t.match(o,a,uo(e,l)),sep:t.sep,GLOBSTAR:ho})},"defaults");si.defaults=Xne;var cH=s((e,t={})=>(M8(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,oH.default)(e)),"braceExpand");si.braceExpand=cH;var Jne=s((e,t={})=>new s2(e,t).makeRe(),"makeRe");si.makeRe=Jne;var Qne=s((e,t,r={})=>{let n=new s2(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");si.match=Qne;var sH=/[?*]|[+@!]\(.*?\)|\[|\]/,Zne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),$I=class $I{constructor(t,r={}){tn(this,"options");tn(this,"set");tn(this,"pattern");tn(this,"windowsPathsNoEscape");tn(this,"nonegate");tn(this,"negate");tn(this,"comment");tn(this,"empty");tn(this,"preserveMultipleSlashes");tn(this,"partial");tn(this,"globSet");tn(this,"globParts");tn(this,"nocase");tn(this,"isWindows");tn(this,"platform");tn(this,"windowsNoMagicRoot");tn(this,"regexp");M8(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||fH,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let f=o[0]===""&&o[1]===""&&(o[2]==="?"||!sH.test(o[2]))&&!sH.test(o[3]),c=/^[a-z]:/i.test(o[0]);if(f)return[...o.slice(0,4),...o.slice(4).map(u=>this.parse(u))];if(c)return[o[0],...o.slice(1).map(u=>this.parse(u))]}return o.map(f=>this.parse(f))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let a=this.set[o];a[0]===""&&a[1]===""&&this.globParts[o][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let o=t[i];i===1&&o===""&&t[0]===""||(o==="."||o==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],f=n[i+2],c=n[i+3];if(l!==".."||!f||f==="."||f===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let a=n[o-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let f=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...f),n.length===0&&n.push(""),o-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);i&&(t[r]=i,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,o=0,a=[],l="";for(;i<t.length&&o<r.length;)if(t[i]===r[o])a.push(l==="b"?r[o]:t[i]),i++,o++;else if(n&&t[i]==="**"&&r[o]===t[i+1])a.push(t[i]),i++;else if(n&&r[o]==="**"&&t[i]===r[o+1])a.push(r[o]),o++;else if(t[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,o++}else if(r[o]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[o]),i++,o++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),A=!E&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),P=S?3:_?0:void 0,U=A?3:E?0:void 0;if(typeof P=="number"&&typeof U=="number"){let[k,L]=[t[P],r[U]];k.toLowerCase()===L.toLowerCase()&&(r[U]=k,U>P?r=r.slice(U):P>U&&(t=t.slice(P)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,f=t.length,c=r.length;a<f&&l<c;a++,l++){this.debug("matchOne loop");var u=r[l],d=t[a];if(this.debug(r,u,d),u===!1)return!1;if(u===ho){this.debug("GLOBSTAR",[r,u,d]);var g=a,p=l+1;if(p===c){for(this.debug("** at the end");a<f;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;g<f;){var y=t[g];if(this.debug(`
globstar while`,t,g,r,p,y),this.matchOne(t.slice(g),r.slice(p),n))return this.debug("globstar found match!",g,f,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,g,r,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,g,r,p),g===f))}let _;if(typeof u=="string"?(_=d===u,this.debug("string match",u,d,_)):(_=u.test(d),this.debug("pattern match",u,d,_)),!_)return!1}if(a===f&&l===c)return!0;if(a===f)return n;if(l===c)return a===f-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return cH(this.pattern,this.options)}parse(t){M8(t);let r=this.options;if(t==="**")return ho;if(t==="")return"";let n,i=null;(n=t.match(One))?i=r.dot?Mne:Fne:(n=t.match(wne))?i=(r.nocase?r.dot?Rne:Pne:r.dot?Ane:Ine)(n[1]):(n=t.match(Une))?i=(r.nocase?r.dot?jne:qne:r.dot?$ne:Hne)(n):(n=t.match(kne))?i=r.dot?Dne:Nne:(n=t.match(Lne))&&(i=Bne);let o=i2.fromGlob(t,this.options).toMMPattern();return i?Object.assign(o,{test:i}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Kne:r.dot?Gne:Wne,i=new Set(r.nocase?["i"]:[]),o=t.map(f=>{let c=f.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?Zne(u):u===ho?ho:u._src});return c.forEach((u,d)=>{let g=c[d+1],p=c[d-1];u!==ho||p===ho||(p===void 0?g!==void 0&&g!==ho?c[d+1]="(?:\\/|"+n+"\\/)?"+g:c[d]=n:g===void 0?c[d-1]=p+"(?:\\/|"+n+")?":g!==ho&&(c[d-1]=p+"(?:\\/|\\/"+n+"\\/)"+g,c[d+1]=ho))}),c.filter(u=>u!==ho).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];o="^"+a+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<o.length;l++){let f=o[l],c=i;if(n.matchBase&&f.length===1&&(c=[a]),this.matchOne(c,f,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return si.defaults(t).Minimatch}};s($I,"Minimatch");var s2=$I;si.AST=i2;si.Minimatch=s2;si.escape=jI;si.unescape=$c;var bd=O0(ud());var uH=require("child_process");var eie=new R0(3,"repository"),Vp=class Vp{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(o=>o.startsWith(n)&&o.endsWith(i)).map(o=>o.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(o=>r.add(n,o)),r),new Vp)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};s(Vp,"GitConfigData");var o2=Vp,HI=class HI{};s(HI,"GitConfigLoader");var Ka=HI,VI=class VI extends Ka{runCommand(t,r,n){return new Promise((i,o)=>{(0,uH.execFile)(r,n,{cwd:t},(a,l)=>{a?o(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(o){eie.info(t,`Failed to run command '${n}' in ${r}: ${o}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new o2;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],o=n.slice(i.length+1);r.add(i,o)}return r}extraArgs(){return[]}};s(VI,"GitCLIConfigLoader");var $p=VI,zI=class zI extends Ka{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let i of this.loaders){let o=await i.getConfig(r,n);if(o)return o}}};s(zI,"GitFallbackConfigLoader");var Hp=zI;var dH=require("os"),KI=O0(ud());var GI=class GI{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return KI.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=KI.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,i,o,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,dH.platform)()!=="win32"||((i=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?i:0)>1)){let l=(a=(o=t.groups)==null?void 0:o.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(l),this.setPath(this.url.substring(l.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};s(GI,"GitRemoteUrl");var zp=GI;var WI=class WI{async resolveRemote(t,r){var a,l,f,c;let n=await t.get(Ka).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),o=i.filter(u=>u.url.isGitHub());if(o.length)return(l=(a=o.find(u=>u.name==="origin"))==null?void 0:a.url)!=null?l:o[0].url;if(i.length)return(c=(f=i.find(u=>u.name==="origin"))==null?void 0:f.url)!=null?c:i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var i;return{name:n,url:new zp(this.applyInsteadOfRules(r,(i=t.get(`remote.${n}.url`))!=null?i:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};s(WI,"GitRemoteResolver");var Kp=WI;var tie=100,XI=class XI{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,i,o,a,l,f,c,u,d;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(i=t==null?void 0:t[1])==null?void 0:i.replace(/\.git$/,"");let g=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(o=this.remote)==null?void 0:o.hostname)!=null?a:"");g&&(this._tenant=(l=g.groups)==null?void 0:l.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((f=this.remote)==null?void 0:f.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let g=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((u=(c=this.remote)==null?void 0:c.hostname)!=null?u:"");g?(this._adoOrganization=(d=g.groups)==null?void 0:d.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};s(XI,"GitRepository");var YI=XI,Gp=class Gp{constructor(t){this.ctx=t;this.remoteResolver=new Kp;this.cache=new Cr(tie)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let o=this.cache.get(t.toString());return this.updateCache(n,o),o}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=rp(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new YI(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await Gp.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(lo),i=bd.Utils.joinPath(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=bd.Utils.joinPath(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let o=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!o)return;let a=T8(r,o[1]),l=bd.Utils.joinPath(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let f=bd.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,f)!==void 0)return f;let c=bd.Utils.joinPath(a,"commondir");a=T8(a,(await t.readFileString(c)).trimEnd());let u=bd.Utils.joinPath(a,"config");return await t.stat(u),u}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};s(Gp,"RepositoryManager");var Qo=Gp;var EA=O0(qH());var xy=s((e,t)=>{if(EA.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...EA.Value.Errors(e,t)].map(i=>`${i.path} ${i.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var SA="contentExclusion",po,Td,c2,by,$H,K8,G8,IA,AA=class AA extends r2{constructor(r){super();P0(this,by);P0(this,G8);P0(this,po,void 0);P0(this,Td,new Cr(1e4));P0(this,c2,new Cr(200));P0(this,K8,Fp(async r=>{let n=await je(this,po).get(ni).getGitHubSession(je(this,po));if(!n)throw new zl("No token found");let i=je(this,po).get(ls).getContentRestrictionsUrl(n),o=new URL(i);o.searchParams.set("repos",r.join(","));let a=await je(this,po).get(xn).fetch(o.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),l=await a.json();if(!a.ok){if(a.status===404)return Array.from(r,()=>[]);throw Li(this,G8,IA).call(this,"fetch.error",{message:l.message}),new qc(a)}return Li(this,G8,IA).call(this,"fetch.success"),xy(loe,l).map(f=>f.rules)},je(this,c2)));v0(this,po,r)}async evaluate(r,n){try{let i=await this.getGitRepo(r);if(!i)return sf;let o=await Li(this,by,$H).call(this,i.url);if(!o)return sf;let a=await this.evaluateFilePathRules(r,i,o);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(o,n);if(l.isBlocked)return l}catch(i){return so(je(this,po),i,`${SA}.evaluate`),O8}return vd}async evaluateFilePathRules(r,n,i){let o=r.fsPath;if(je(this,Td).has(o))return je(this,Td).get(o);let a=vd,l=r.path.replace(n.baseFolder.path,"");e:for(let f of i)for(let c of f.paths)if(si(l,c,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=wA(f,"FILE_BLOCKED_PATH");break e}return je(this,Td).set(o,a),a}async evaluateTextBasedRules(r,n){let i=r.filter(a=>a.ifAnyMatch),o=r.filter(a=>a.ifNoneMatch);return!n||i.length===0&&o.length===0?vd:this.evaluateFileContent(i,o,n)}async evaluateFileContent(r,n,i){for(let o of r)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(l=>jH(l)).some(l=>l.test(i)))return wA(o,"FILE_BLOCKED_TEXT_BASED");for(let o of n)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(l=>jH(l)).some(l=>l.test(i)))return wA(o,"FILE_BLOCKED_TEXT_BASED");return vd}async refresh(){try{let r=[...je(this,c2).keys()];this.reset(),await Promise.all(r.map(n=>je(this,K8).call(this,n)))}catch(r){so(je(this,po),r,`${SA}.refresh`)}}reset(){je(this,c2).clear(),je(this,Td).clear()}async getGitRepo(r){let i=await je(this,po).get(Qo).getRepo(rp(r));if(!i||!(i!=null&&i.remote))return;let o=i.remote.getUrlForApi();if(o)return{baseFolder:i.baseFolder,url:o}}};po=new WeakMap,Td=new WeakMap,c2=new WeakMap,by=new WeakSet,$H=s(async function(r){let n=await je(this,K8).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),K8=new WeakMap,G8=new WeakSet,IA=s(function(r,n,i){x0(je(this,po),`${SA}.${r}`,cr.createAndMarkAsIssued(n,i))},"#telemetry"),s(AA,"CopilotContentRestrictions");var _y=AA;function jH(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}s(jH,"stringToRegex");function wA(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}s(wA,"fileBlockedEvaluationResult");var ioe=oi.Type.Object({name:oi.Type.String(),type:oi.Type.String()}),soe=oi.Type.Object({paths:oi.Type.Array(oi.Type.String()),ifNoneMatch:oi.Type.Optional(oi.Type.Array(oi.Type.String())),ifAnyMatch:oi.Type.Optional(oi.Type.Array(oi.Type.String())),source:ioe}),ooe=oi.Type.Array(soe),aoe=oi.Type.Object({rules:ooe,last_updated_at:oi.Type.String()}),loe=oi.Type.Array(aoe);var Ln=O0(es());var W8=new R0(3,"contentExclusion"),RA=class RA extends r2{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new Cr(200);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=Fp(async r=>{let n=new URL(B$),i=await this.ctx.get(ni).getGitHubToken(this.ctx);if(!i)throw new zl("No GitHub token found");let o=this.ctx.get(cn),a=this.ctx.get(kn),l=this.ctx.get(Ii),f=this.ctx.get(xn),c={trackingid:`${l.trackingId}`,githubtoken:`${i}`,machineid:`${o.machineId}`,sessionid:`${o.sessionId}`,extname:`${a.getEditorPluginInfo().name}`,extversion:`${a.getEditorPluginInfo().version}`},u=await f.fetch(n.href,{headers:c,method:"POST",json:{repos:r}});if(u.ok){let g=await u.json();return W8.debug(this.ctx,"repositoryControl.fetch","success"),x0(this.ctx,"repositoryControl.fetch.success"),xy(hoe,g).map(p=>p.rules)}W8.debug(this.ctx,"repositoryControl.fetch","error"),x0(this.ctx,"repositoryControl.fetch.error");let d=new qc(u);throw so(this.ctx,d,"repositoryControl.fetch"),d},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){so(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(i=>setTimeout(i,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let i=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,o=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(i>=this.maxRetryCount){x0(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:i,waitMs:o},this.loaderWithRetry(r)}}async evaluate(r,n){try{let o=await this.ctx.get(Qo).getRepo(r);if(!o||!o.remote)return sf;let a=o.remote.getUrlForApi();if(!a)return sf;let l=await this.fetchRepositoryPolicy(a);return l==="POLICY_NOT_AVAILABLE"?O8:l==="NO_MATCHING_POLICY"?sf:this._evaluate(r,n,l)}catch(i){return so(this.ctx,i,"repositoryControl.evaluate"),O8}}async _evaluate(r,n,i){if(i!=null&&i.blocked)return PA(i);if(i.fileContent&&n){let o=i.fileContent.includes;if(n&&o&&o.length>0&&!new RegExp(o.join("|"),"i").test(n))return PA(i);let a=i.fileContent.excludes;if(n&&a&&a.length>0&&new RegExp(a.join("|"),"i").test(n))return PA(i)}return vd}};s(RA,"CopilotRepositoryControl");var Cy=RA;function PA(e){return{isBlocked:!0,reason:"FILE_BLOCKED_TEXT_BASED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}s(PA,"getBlockedRepoResponse");var foe=Ln.Type.Object({name:Ln.Type.String(),type:Ln.Type.String()}),coe=Ln.Type.Object({fileContent:Ln.Type.Optional(Ln.Type.Object({includes:Ln.Type.Optional(Ln.Type.Array(Ln.Type.String())),excludes:Ln.Type.Optional(Ln.Type.Array(Ln.Type.String()))})),blocked:Ln.Type.Optional(Ln.Type.Boolean()),source:foe}),uoe=Ln.Type.Array(coe),doe=Ln.Type.Object({rules:uoe}),hoe=Ln.Type.Array(doe);var uf,Wa,Ed,Ty,HH,Ey,VH,kA=class kA{constructor(t){this.ctx=t;P0(this,Ty);P0(this,Ey);P0(this,uf,!1);P0(this,Wa,null);P0(this,Ed,new _y(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async t=>{if(!je(this,uf)||!t)return;let r=await this.ctx.get(Ls).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Ls).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(Fi).on("onCopilotToken",r=>{var i,o;v0(this,uf,(i=r.envelope.copilotignore_enabled)!=null?i:!1),this.evaluateResultCache.clear(),je(this,Ed).refresh();let n=(o=r.organization_list)!=null?o:[];Li(this,Ey,VH).call(this,n)})}get enabled(){return je(this,uf)}async evaluate(t,r,n){var f;if(!je(this,uf)||!C8(t.scheme))return{isBlocked:!1};let i=[],o=s(async(c,u)=>{let d=Date.now(),g=await u.evaluate(t,r),p=Date.now();return i.push({key:c,result:g,elapsedMs:p-d}),g},"track"),l=(f=(await Promise.all([je(this,Wa)&&o("repositoryControl.evaluate",je(this,Wa)),o("contentExclusion.evaluate",je(this,Ed))])).find(c=>c==null?void 0:c.isBlocked))!=null?f:{isBlocked:!1};try{for(let c of i)Li(this,Ty,HH).call(this,c.key,t,c.result,c.elapsedMs)}catch(c){console.log("Error tracking telemetry",c)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(t,r){je(this,uf)&&(t?this.ctx.get(nf).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(nf).forceNormal())}set __repositoryControl(t){v0(this,Wa,t)}get __repositoryControl(){return je(this,Wa)}set __contentRestrictions(t){v0(this,Ed,t)}get __contentRestrictions(){return je(this,Ed)}};uf=new WeakMap,Wa=new WeakMap,Ed=new WeakMap,Ty=new WeakSet,HH=s(function(t,r,n,i){var c,u;let o=r.path+t;if(this.evaluateResultCache.get(o)===n.reason)return!1;if(this.evaluateResultCache.set(o,(c=n.reason)!=null?c:"UNKNOWN"),n.reason===sf.reason)return W8.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:(u=n.reason)!=null?u:"UNKNOWN"},f={elapsedMs:i};return x0(this.ctx,t,cr.createAndMarkAsIssued(l,f)),x0(this.ctx,t,cr.createAndMarkAsIssued({...l,path:r.path},f),1),W8.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),Ey=new WeakSet,VH=s(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(i=>t.includes(i));je(this,uf)&&n?(je(this,Wa)||v0(this,Wa,new Cy(this.ctx)),je(this,Wa).refresh()):v0(this,Wa,null)},"#refreshMSFTRepoControl"),s(kA,"CopilotRepositoryControlManager");var yd=kA;var qA=require("path");Nc();var zH=new Cr;function KH(e){return[...e].sort((t,r)=>{var o,a;let n=(o=zH.get(t.uri.toString()))!=null?o:0;return((a=zH.get(r.uri.toString()))!=null?a:0)-n})}s(KH,"sortByAccessTimes");var NA=class NA{constructor(t){this.docManager=t}async truncateDocs(t,r,n,i){let o=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Y8.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.vscodeUri.scheme==="file"&&r.scheme==="file"&&l.vscodeUri.fsPath!==r.fsPath&&DA(n,l.languageId)&&(o.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:await this.docManager.getRelativePath(l),languageId:l.languageId,source:l.getText()}),a+=l.getText().length),o.size>=i))break;return o}async getNeighborFiles(t,r,n){let i=new Map,o=new Map;return i=await this.truncateDocs(KH(await this.docManager.textDocuments()),t,r,n),o.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:o}}};s(NA,"OpenTabFiles");var Sy=NA;function moe(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}s(moe,"defaultHash");function LA(e,t={}){let{hash:r=moe,cache:n=new Map}=t;return function(...i){let o=r.apply(this,i);if(n.has(o))return n.get(o);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(o),l})),n.set(o,a),a}}s(LA,"memoize");var WH=O0(ud());function GH(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}s(GH,"shortCircuit");var wy=new Map,MA=class MA extends Cr{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.get(r)&&super.delete(r)}};s(MA,"LRUExpirationCacheMap");var BA=MA,yo=new R0(3,"relatedFiles"),goe=1e3,UA=class UA extends Error{constructor(){super("The provider failed providing the list of relatedFiles")}};s(UA,"RelatedFilesProviderFailure");var Iy=UA,Ay=class Ay{constructor(t){this.context=t}async getRelatedFiles(t,r,n){let i=await this.getRelatedFileResponse(t,r,n);if(i==null)return null;let o=new Map;for(let a of i.entries){let l=o.get(a.type);l||(l=new Map,o.set(a.type,l));for(let f of a.uris)try{let c=WH.URI.parse(f);f=c.toString(),yo.debug(this.context,`Processing ${f}`);let u=await this.getFileContent(c);if(!u||u.length==0){yo.debug(this.context,`Skip ${f} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){yo.debug(this.context,`Skip ${f} due content exclusion.`);continue}u=Ay.dropBOM(u),l.set(f,u)}catch(c){yo.warn(this.context,c)}}return o}async getFileContent(t){try{return this.context.get(lo).readFileString(t)}catch(r){yo.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(yd).evaluate(t,r)).isBlocked}catch(n){yo.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}};s(Ay,"RelatedFilesProvider");var OA=Ay,poe=3,YH=new BA(goe),XH=s(async function(t,r,n,i,o){let a=Date.now(),l;try{l=await o.getRelatedFiles(r,n,i)}catch(c){yo.exception(t,c,".getRelatedFiles"),l=null}l==null&&(YH.bumpRetryCount(r.uri)>=poe?l=wy:l=null);let f=Date.now()-a;if(yo.debug(t,l!=null?`Fetched ${[...l.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${r.uri}' in ${f}ms.`:`Failing fecthing files for '${r.uri}' in ${f}ms.`),l==null)throw new Iy;return l},"getRelatedFiles"),FA=LA(XH,{cache:YH,hash:(e,t,r,n,i)=>`${t.uri}`});FA=GH(FA,200,wy);async function JH(e,t,r,n,i=!1){let o=e.get(OA),a=wy;try{a=i?await XH(e,t,r,n,o):await FA(e,t,r,n,o)}catch(l){a=wy,l instanceof Iy&&await x0(e,"getRelatedFilesList",n)}return a}s(JH,"getRelatedFilesList");function DA(e,t){return Gl(e)===Gl(t)}s(DA,"considerNeighborFile");var ea=class ea{static reset(){ea.instance=void 0}static async getNeighborFiles(t,r,n,i){let o=t.get(Ls);ea.instance===void 0&&(ea.instance=new Sy(o));let a=await ea.instance.getNeighborFiles(r,n,ea.MAX_NEIGHBOR_FILES),l=await o.getTextDocument(r);if(!l)return yo.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),a;let f=await o.getWorkspaceFolder(l),c=f==null?void 0:f.toString();if(f&&c){let u={relativePath:(0,qA.relative)(c,l.uri),uri:l.uri,languageId:l.languageId,source:l.getText()},d=await JH(t,u,f,i);d==null&&(await x0(t,"getNeighborFiles.getRelatedFilesList.nullOrUndefined",i),yo.debug(t,".getRelatedFilesList","Failed to get the relatedFiles, it is undefined/null")),d!=null&&d.size&&d.forEach((g,p)=>{let y=[];g.forEach((_,S)=>{if(a.docs.has(S))return;let E={relativePath:(0,qA.relative)(c,S),uri:S,languageId:u.languageId,source:_};y.unshift(E),a.docs.set(S,E)}),y.length>0&&a.neighborSource.set(p,y.map(_=>_.uri.toString()))})}else yo.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return a}};s(ea,"NeighborSource"),ea.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,ea.MAX_NEIGHBOR_FILES=20,ea.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var Y8=ea;var QH=2.98410452738298,ZH=-.838732736843507,eV=1.50314646255716,tV=-.237798634012662,rV={python:.314368072478742},nV={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var o_e=new R0(3,"restraint"),voe={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function xoe(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),o=t.get(n);return o+(i-o)*(e-n)/(r-n)}s(xoe,"linearInterpolation");var $A=class $A{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}};s($A,"Regressor");var u2=$A,HA=class HA{constructor(t,r,n){this.link=voe;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let o=r[i.name];if(o===void 0)return NaN;n+=i.contribution(o)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return xoe(n,this.logitsToQuantiles)}};s(HA,"LogisticRegression");var jA=HA,a_e=new jA(QH,[new u2("compCharLen",ZH,e=>Math.log(1+e)),new u2("meanLogProb",eV),new u2("meanAlternativeLogProb",tV)].concat(Object.entries(rV).map(e=>new u2(e[0],e[1]))),nV);var Lbe=new R0(3,"ghostText");var Bbe=new Ep;var X8=class X8{constructor(t=!1){this.requestMultilineOverride=t}};s(X8,"ForceMultiLine"),X8.default=new X8;var J8=X8;var iV=require("events");var VA=class VA extends iV.EventEmitter{};s(VA,"PostInsertionNotifier");var d2=VA;var vCe=new R0(3,"postInsertion");var PCe=new R0(3,"ghostText"),h2,m2,g2,zA=class zA{constructor(){P0(this,h2,void 0);P0(this,m2,void 0);P0(this,g2,[])}get position(){return je(this,h2)}get shownCompletions(){return je(this,g2)||[]}get uri(){return je(this,m2)}resetState(){v0(this,m2,void 0),v0(this,h2,void 0),v0(this,g2,[])}setState(t,r){v0(this,m2,t),v0(this,h2,r),v0(this,g2,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};h2=new WeakMap,m2=new WeakMap,g2=new WeakMap,s(zA,"LastGhostText");var Q8=zA;var p2={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var sV=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],oV={".php":[".blade"]},aV=Object.keys(p2).flatMap(e=>p2[e].extensions);var Py=require("path"),JA=class JA{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};s(JA,"Language");var Yc=JA,QA=class QA{};s(QA,"LanguageDetection");var df=QA;function fV(e){return new KA(new XA(new YA(new WA)),new GA(e))}s(fV,"getLanguageDetection");var ZA=class ZA extends df{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Cr(100)}detectLanguage(r){let n=Py.basename(r.vscodeUri.path);return lV(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}detectLanguageForRegularFile(r,n){let i=this.cache.get(r);return i||(i=lV(r)?this.notebookDelegate.detectLanguage(n):this.delegate.detectLanguage(n),i.isGuess||this.cache.set(r,i)),i}};s(ZA,"CachingLanguageDetection");var KA=ZA;function lV(e){return e.endsWith(".ipynb")}s(lV,"isNotebook");var eP=class eP extends df{constructor(r){super();this.ctx=r}detectLanguage(r){let i=this.ctx.get(Ls).findNotebook(r);return i?this.detectCellLanguage(r,i):new Yc("python",!1,".ipynb")}detectCellLanguage(r,n){let i=n.getCellFor(r);return i?new Yc(i.document.languageId,!1,".ipynb"):new Yc("unknown",!1,".ipynb")}};s(eP,"NotebookLanguageDetection");var GA=eP,tP=class tP extends df{detectLanguage(t){let r=Py.basename(t.vscodeUri.path),n=Py.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),o=this.detectLanguageId(r,i);return new Yc(o.languageId,o.isGuess,this.computeFullyQualifiedExtension(n,i))}extensionWithoutTemplateLanguage(t,r){if(sV.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=Py.extname(n).toLowerCase();if(i.length>0&&aV.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=oV[t];return!n||n.includes(r)}detectLanguageId(t,r){var o,a;let n=[],i=[];for(let l in p2){let f=p2[l];if(f.filenames){if(f.filenames.includes(t))return{languageId:l,isGuess:!1};f.filenames.some(c=>t.startsWith(c+"."))&&i.push(l)}f.extensions.includes(r)&&n.push(l)}return(a=(o=this.determineLanguageIdByCandidates(n))!=null?o:this.determineLanguageIdByCandidates(i))!=null?a:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};s(tP,"FilenameAndExensionLanguageDetection");var WA=tP,rP=class rP extends df{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Yc("cpp",n.isGuess,n.fileExtension):n}};s(rP,"GroupingLanguageDetection");var YA=rP,nP=class nP extends df{constructor(r){super();this.delegate=r}detectLanguage(r){return r.vscodeUri.scheme==="untitled"?new Yc(r.languageId,!0,""):this.delegate.detectLanguage(r)}};s(nP,"UntitledLanguageDetection");var XA=nP;var NK=O0(require("fs")),DK=require("tls");var cv=new R0(3,"certificates"),xR=class xR{};s(xR,"RootCertificateReader");var ms=xR;function LK(e,t=process.platform){return new dR(e,[new hR,new mR,lce(e,t)])}s(LK,"getRootCertificateReader");function lce(e,t){switch(t){case"linux":return new gR(e);case"darwin":return new pR(e);case"win32":return new yR(e);default:return new vR}}s(lce,"createPlatformReader");var _R=class _R extends ms{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return cv.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};s(_R,"ErrorHandlingCertificateReader");var uR=_R,bR=class bR extends ms{constructor(t,r){super(),this.delegates=r.map(n=>new uR(t,n))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(t=>t.getAllRootCAs()))).flat()),this.certificates}};s(bR,"CachingRootCertificateReader");var dR=bR,CR=class CR extends ms{async getAllRootCAs(){return DK.rootCertificates}};s(CR,"NodeTlsRootCertificateReader");var hR=CR,TR=class TR extends ms{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await BK(t):[]}};s(TR,"EnvironmentVariableRootCertificateReader");var mR=TR,ER=class ER extends ms{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await BK(n);cv.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}};s(ER,"LinuxRootCertificateReader");var gR=ER,SR=class SR extends ms{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=RK(),n=r.all(r.der2.pem).filter(i=>i!==void 0);return cv.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};s(SR,"MacRootCertificateReader");var pR=SR,wR=class wR extends ms{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=kK().all();return cv.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};s(wR,"WindowsRootCertificateReader");var yR=wR,IR=class IR extends ms{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};s(IR,"UnsupportedPlatformRootCertificateReader");var vR=IR;async function BK(e){try{let n=(await NK.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}s(BK,"readCertsFromFile");var eG=O0(require("http"));var Oce=407,ci=new R0(4,"proxySocketFactory"),BR=class BR{};s(BR,"ProxySocketFactory");var l1=BR,OR=class OR extends Error{constructor(t,r,n){var i,o,a;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((i=r==null?void 0:r.message)!=null?i:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((o=r==null?void 0:r.message)!=null?o:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((a=r==null?void 0:r.message)!=null?a:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};s(OR,"ProxySocketError");var Ld=OR;function tG(e){return new NR(e,new DR(e))}s(tG,"getProxySocketFactory");var FR=class FR extends l1{constructor(r,n,i=new LR,o=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=o;this.successfullyAuthorized=new Cr(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(ci.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Ld&&i.code===`ProxyStatusCode${Oce}`){ci.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return ci.debug(this.ctx,"Proxy authorization successful, caching result"),x0(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(ci.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(ci.debug(this.ctx,"Proxy authorization successful, received token"),i)return ci.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){ci.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);ci.debug(this.ctx,"Initializing kerberos client using spn",i);let o=await n.initializeClient(i);ci.debug(this.ctx,"Perform client side kerberos step");let a=await o.step("");return ci.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return ci.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return ci.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}};s(FR,"KerberosProxySocketFactory");var NR=FR,MR=class MR extends l1{constructor(r){super();this.ctx=r}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,a)=>{ci.debug(this.ctx,"Attempting to establish connection to proxy");let l=eG.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(f,c,u)=>{ci.debug(this.ctx,"Socket Connect returned status code",f.statusCode),l.removeAllListeners(),c.removeAllListeners(),f.statusCode!==200?(c.destroy(),a(new Ld(`tunneling socket could not be established, statusCode=${f.statusCode}`,void 0,`ProxyStatusCode${f.statusCode}`))):u.length>0?(c.destroy(),a(new Ld(`got non-empty response body from proxy, length=${u.length}`,void 0,"ProxyNonEmptyResponseBody"))):(ci.debug(this.ctx,"Successfully established tunneling connection to proxy"),o(c))}),l.once("error",f=>{ci.debug(this.ctx,"Proxy socket connection error",f.message),l.removeAllListeners(),a(new Ld(`tunneling socket could not be established, cause=${f.message}`,f))}),l.on("timeout",()=>{ci.debug(this.ctx,"Proxy socket connection timeout"),a(new Ld(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,o={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(o.localAddress=r.localAddress),this.configureProxyAuthorization(o,r),o}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};s(MR,"TunnelingProxySocketFactory");var DR=MR,UR=class UR{load(){return ZK()}};s(UR,"KerberosLoader");var LR=UR;var sG=require("os"),ia=O0(ud());var Fce=new R0(3,"repository"),Bd="\\\\",oG="(?:[#;].*)",B2=`(?:[^"${Bd}]|${Bd}.)`,Mce="[0-9A-Za-z-]",rG=`[A-Za-z]${Mce}*`,aG=`\\s*${oG}?$`,lG=`(?:[^"${Bd};#]|${Bd}.)`,Uce=`(?:"${B2}*"|"${B2}*(?<strCont>${Bd})$)`,qce=`(?:${lG}|${Uce})+`,jce=`(?:(?<cont>${Bd})$)`,fG=`(?<value>${qce})${jce}?${aG}`,nG=new RegExp(`^${fG}`),$ce=new RegExp(`^(?<value>${B2}*(?:(?<strCont>${Bd})$|(?<quote>")))`),Hce=new RegExp(`^\\s*(?:(?<key>${rG})\\s*=\\s*${fG}|(?<soloKey>${rG})${aG})`),Vce=new RegExp(`(?<value>${lG}+)|"(?<string>${B2}*)"`,"g"),iG="[-.0-9A-Za-z]+",zce=`\\s+"(?<ext>${B2}*)"`,Kce=`\\s+"(?<extOnly>${B2}*)"`,Gce=new RegExp(`^\\s*\\[(?:(?<simple>${iG})${zce}|${Kce}|(?<simpleOnly>${iG}))\\]`),Wce=new RegExp(`^\\s*${oG}$`),jR=class jR{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(Gce);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,i,o;let t=this.line.match(Hce);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(i=t.groups)!=null&&i.soloKey&&((o=this.configValueHandler)==null||o.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var i,o,a;let r=t,n=[this.matchedValue(r)];for(;(i=r==null?void 0:r.groups)!=null&&i.cont||(o=r==null?void 0:r.groups)!=null&&o.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match($ce),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(nG),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(nG),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(Vce)].map(i=>{var o;return(o=i.groups)!=null&&o.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Wce.test(this.line)&&(this.line="")}};s(jR,"GitConfigParser");var qR=jR,$R=class $R extends Ka{async getConfig(t,r){let n=await Qo.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new o2)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let o=new qR(i),a=new o2;return o.parse((l,f)=>a.add(l,f)),a}async tryLoadConfig(t,r,n){try{return await t.get(lo).readFileString(r)}catch(i){(n||i.code!=="ENOENT")&&Fce.warn(t,`Failed to load git config from ${r.toString()}: ${i}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=ia.Utils.joinPath(this.xdgConfigUri(),"git","config"),o=ia.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,o,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(ia.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=ia.Utils.dirname(r),i=ia.Utils.joinPath(n,"commondir");try{let o=(await t.get(lo).readFileString(i)).trimEnd();return ia.Utils.joinPath(T8(n,o),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?ia.URI.file(process.env.XDG_CONFIG_HOME):ia.Utils.joinPath(this.homeUri(),".config")}homeUri(){return ia.URI.file((0,sG.homedir)())}};s($R,"GitParsingConfigLoader");var gv=$R;var uG=O0(require("events"));var cG="onWorkspaceChanged",HR=class HR{constructor(){this.emitter=new uG.default}onChange(t){this.emitter.on(cG,t)}emit(t){this.emitter.emit(cG,t)}};s(HR,"WorkspaceNotifier");var g6=HR;function dG(e){let t=new Tp;return t.set(md,e),t.set(Zu,new Zu),t.set(Mi,new Mi),Yce(t),t.set(J3,new J3),t.set(Fi,new Fi),t.set(ms,LK(t)),t.set(l1,tG(t)),t.set(df,fV(t)),t.set(un,new un(t)),t.set(d2,new d2),t.set(gd,new gd),t.set(Ii,new Ii(t)),t.set(fo,new fo),t.set(jc,new jc),t.set(Uc,new Uc),t.set(nd,new nd),t.set(Q3,new Q3),t.set(pd,new D8),t.set(W3,new fp),t.set(dd,new ip),t.set(Ui,new Ui),t.set(Qu,new Qu),t.set(Q8,new Q8),t.set(J8,J8.default),t.set(Qo,new Qo(t)),t.set(Ka,new Hp([new $p,new gv])),t.set(g6,new g6),t.set(cd,new cd),t.set(A8,new A8),t}s(dG,"createProductionContext");function Yce(e){e.set(ed,ed.fromEnvironment(!1)),e.set(L3,new E7(console))}s(Yce,"setupRudimentaryLogging");var mSe=new R0(4,"context");var mG="github.com",hG=`https://${mG}`,Xce="https://api.githubcopilot.com",Jce="https://copilot-telemetry.githubusercontent.com/telemetry",Qce="https://copilot-proxy.githubusercontent.com",Zce="https://origin-tracker.githubusercontent.com",VR=class VR extends ls{constructor(r,n=hG,i=process.env){super();this.env=i;this.recalculateUrlDefaults(n),r.get(Fi).on("onCopilotToken",o=>this.onCopilotToken(r,o))}onCopilotToken(r,n){n.envelope.endpoints&&this.updateServiceEndpoints(r,n.envelope.endpoints)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getTokenUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?i:this.tokenUrl}getNotificationUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?i:this.notificationUrl}getContentRestrictionsUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?i:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r,n){let i=this.urlOrConfigOverride(r,this.capiUrl,Kr.DebugOverrideCapiUrl,Kr.DebugTestOverrideCapiUrl);return this.join(i,n)}getBlackbirdCodeSearchUrl(r){return this.getCAPIUrl(r,"/search/code")}getBlackbirdDocsSearchUrl(r){return this.getCAPIUrl(r,"/search/docs")}getEmbeddingsUrl(r){return this.getCAPIUrl(r,"/embeddings")}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getCompletionsUrl(r,n){let i=this.urlOrConfigOverride(r,this.completionsUrl,Kr.DebugOverrideProxyUrl,Kr.DebugTestOverrideProxyUrl);return this.join(i,n)}getSnippetRetrievalUrl(r,n,i){let o=new URL(this.getCompletionsUrl(r,"v0/retrieval"));return o.search=new URLSearchParams({repo:n,impl:i}).toString(),o.href}getOriginTrackingUrl(r,n){let i=t8(r)?this.originTrackerUrl:this.urlOrConfigOverride(r,this.originTrackerUrl,Kr.DebugSnippyOverrideUrl);return this.join(i,n)}updateBaseUrl(r,n){n||(n=hG);let i=this.baseUrlObject;if(!this.isPermittedUrl(r,n)){r.get(rd).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`);return}this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(ni).resetCopilotToken(r)})}updateServiceEndpoints(r,n){this.isPermittedUrl(r,n.api)&&(this.capiUrl=n.api),this.isPermittedUrl(r,n.proxy)&&(this.completionsUrl=n.proxy),this.isPermittedUrl(r,n["origin-tracker"])&&(this.originTrackerUrl=n["origin-tracker"]),this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let o=r.get(jc);o.isInitialized&&o.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==mG,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.capiUrl=this.isEnterprise?this.prefixWith("copilot-api.",this.baseUrlObject).href:Xce,this.telemetryUrl=this.isEnterprise?this.join(this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href,"/telemetry"):Jce,this.completionsUrl=Qce,this.originTrackerUrl=Zce}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!t8(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}urlOrConfigOverride(r,n,i,o){if(o&&td(r)){let l=Bc(r,o);return l.length==0?n:l}let a=Bc(r,i);return a.length==0?n:a}};s(VR,"DefaultNetworkConfiguration");var pv=VR;var gG=require("os");var e1e=require("crypto"),t1e=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function r1e(e){let t=e.replace(/-/g,":").toLowerCase();return!t1e.has(t)}s(r1e,"validateMacAddress");function n1e(){let e=(0,gG.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(r1e(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(n1e,"getMac");var zR;function i1e(){try{let e=n1e();return e1e.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}s(i1e,"getMacMachineId");function pG(){return zR||(zR=i1e()||Bu()),zR}s(pG,"getMachineId");var yG=O0(require("tls"));var KR=class KR{constructor(t){this._certificateReader=t.get(ms)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=yG.createSecureContext(n),t.ca=r,t.cert=r,r.map(i=>{t.secureContext.context.addCACert(i)})}};s(KR,"RootCertificateConfigurator");var yv=KR;var GR=class GR extends xn{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=s((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,o)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new yv(r),this.proxySocketFactory=r.get(l1)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Mi);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),Cq({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(o);let a=await this.fetchApi.fetch(r,i);return new Q7(a.status,a.statusText,a.headers,()=>a.text(),async()=>a.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new Tq}};s(GR,"HelixFetcher");var vv=GR;var xG=Tw(),s1e=Bu()+Date.now();async function _G(){let e=dG(new cp);return e.set(ls,new pv(e)),e.set(xn,new vv(e)),e.set(kn,new WR(await o1e())),e.set(cn,new cn(s1e,pG())),e.forceSet(Ui,new gp),await Bw(e,xG.name,!0),e}s(_G,"createUninstallContext");async function o1e(){let e="unknown";try{return await new Promise((t,r)=>{var i;let n=(0,vG.spawn)("code -v",{shell:!0,stdio:"pipe"});(i=n.stdout)==null||i.on("data",o=>{e==="unknown"&&(e=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",o=>r(o))})}catch{return e}}s(o1e,"lookupVscodeVersion");var YR=class YR extends kn{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:xG.version}}};s(YR,"UninstallEditorInfo");var WR=YR;async function a1e(){let e=await _G(),t=new Cp;process.argv.includes("--dry-run")||await t.uninstall(e)}s(a1e,"doUninstall");a1e().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
